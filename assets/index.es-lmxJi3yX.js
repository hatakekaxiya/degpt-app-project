const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CFokC7Ne.js","assets/index-T1S5FWgF.js","assets/index-DA_Y5IA1.css"])))=>i.map(i=>d[i]);
import{K as a2,j as Ai,h as hb,g as f2,_ as BE}from"./index-T1S5FWgF.js";import{e as Bn,J as h2}from"./events-DZh4-MCi.js";import{i as nl}from"./inherits_browser-BlmhoU4v.js";function TE(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ub={};const FE="elliptic",UE="6.6.1",qE="EC cryptography",LE="lib/elliptic.js",kE=["lib"],zE={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},$E={type:"git",url:"git@github.com:indutny/elliptic"},HE=["EC","Elliptic","curve","Cryptography"],jE="Fedor Indutny <fedor@indutny.com>",KE="MIT",GE={url:"https://github.com/indutny/elliptic/issues"},QE="https://github.com/indutny/elliptic",VE={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},JE={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},YE={name:FE,version:UE,description:qE,main:LE,files:kE,scripts:zE,repository:$E,keywords:HE,author:jE,license:KE,bugs:GE,homepage:QE,devDependencies:VE,dependencies:JE};var an={},u2={exports:{}};u2.exports;(function(e){(function(t,r){function i(H,I){if(!H)throw new Error(I||"Assertion failed")}function n(H,I){H.super_=I;var o=function(){};o.prototype=I.prototype,H.prototype=new o,H.prototype.constructor=H}function s(H,I,o){if(s.isBN(H))return H;this.negative=0,this.words=null,this.length=0,this.red=null,H!==null&&((I==="le"||I==="be")&&(o=I,I=10),this._init(H||0,I||10,o||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=a2.Buffer}catch{}s.isBN=function(I){return I instanceof s?!0:I!==null&&typeof I=="object"&&I.constructor.wordSize===s.wordSize&&Array.isArray(I.words)},s.max=function(I,o){return I.cmp(o)>0?I:o},s.min=function(I,o){return I.cmp(o)<0?I:o},s.prototype._init=function(I,o,h){if(typeof I=="number")return this._initNumber(I,o,h);if(typeof I=="object")return this._initArray(I,o,h);o==="hex"&&(o=16),i(o===(o|0)&&o>=2&&o<=36),I=I.toString().replace(/\s+/g,"");var c=0;I[0]==="-"&&(c++,this.negative=1),c<I.length&&(o===16?this._parseHex(I,c,h):(this._parseBase(I,o,c),h==="le"&&this._initArray(this.toArray(),o,h)))},s.prototype._initNumber=function(I,o,h){I<0&&(this.negative=1,I=-I),I<67108864?(this.words=[I&67108863],this.length=1):I<4503599627370496?(this.words=[I&67108863,I/67108864&67108863],this.length=2):(i(I<9007199254740992),this.words=[I&67108863,I/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),o,h)},s.prototype._initArray=function(I,o,h){if(i(typeof I.length=="number"),I.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(I.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var v,y,M=0;if(h==="be")for(c=I.length-1,v=0;c>=0;c-=3)y=I[c]|I[c-1]<<8|I[c-2]<<16,this.words[v]|=y<<M&67108863,this.words[v+1]=y>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);else if(h==="le")for(c=0,v=0;c<I.length;c+=3)y=I[c]|I[c+1]<<8|I[c+2]<<16,this.words[v]|=y<<M&67108863,this.words[v+1]=y>>>26-M&67108863,M+=24,M>=26&&(M-=26,v++);return this.strip()};function p(H,I){var o=H.charCodeAt(I);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function b(H,I,o){var h=p(H,o);return o-1>=I&&(h|=p(H,o-1)<<4),h}s.prototype._parseHex=function(I,o,h){this.length=Math.ceil((I.length-o)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var v=0,y=0,M;if(h==="be")for(c=I.length-1;c>=o;c-=2)M=b(I,o,c)<<v,this.words[y]|=M&67108863,v>=18?(v-=18,y+=1,this.words[y]|=M>>>26):v+=8;else{var E=I.length-o;for(c=E%2===0?o+1:o;c<I.length;c+=2)M=b(I,o,c)<<v,this.words[y]|=M&67108863,v>=18?(v-=18,y+=1,this.words[y]|=M>>>26):v+=8}this.strip()};function m(H,I,o,h){for(var c=0,v=Math.min(H.length,o),y=I;y<v;y++){var M=H.charCodeAt(y)-48;c*=h,M>=49?c+=M-49+10:M>=17?c+=M-17+10:c+=M}return c}s.prototype._parseBase=function(I,o,h){this.words=[0],this.length=1;for(var c=0,v=1;v<=67108863;v*=o)c++;c--,v=v/o|0;for(var y=I.length-h,M=y%c,E=Math.min(y,y-M)+h,d=0,f=h;f<E;f+=c)d=m(I,f,f+c,o),this.imuln(v),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(M!==0){var _=1;for(d=m(I,f,I.length,o),f=0;f<M;f++)_*=o;this.imuln(_),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},s.prototype.copy=function(I){I.words=new Array(this.length);for(var o=0;o<this.length;o++)I.words[o]=this.words[o];I.length=this.length,I.negative=this.negative,I.red=this.red},s.prototype.clone=function(){var I=new s(null);return this.copy(I),I},s.prototype._expand=function(I){for(;this.length<I;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],D=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(I,o){I=I||10,o=o|0||1;var h;if(I===16||I==="hex"){h="";for(var c=0,v=0,y=0;y<this.length;y++){var M=this.words[y],E=((M<<c|v)&16777215).toString(16);v=M>>>24-c&16777215,c+=2,c>=26&&(c-=26,y--),v!==0||y!==this.length-1?h=w[6-E.length]+E+h:h=E+h}for(v!==0&&(h=v.toString(16)+h);h.length%o!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(I===(I|0)&&I>=2&&I<=36){var d=S[I],f=D[I];h="";var _=this.clone();for(_.negative=0;!_.isZero();){var J=_.modn(f).toString(I);_=_.idivn(f),_.isZero()?h=J+h:h=w[d-J.length]+J+h}for(this.isZero()&&(h="0"+h);h.length%o!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var I=this.words[0];return this.length===2?I+=this.words[1]*67108864:this.length===3&&this.words[2]===1?I+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-I:I},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(I,o){return i(typeof u<"u"),this.toArrayLike(u,I,o)},s.prototype.toArray=function(I,o){return this.toArrayLike(Array,I,o)},s.prototype.toArrayLike=function(I,o,h){var c=this.byteLength(),v=h||Math.max(1,c);i(c<=v,"byte array longer than desired length"),i(v>0,"Requested array length <= 0"),this.strip();var y=o==="le",M=new I(v),E,d,f=this.clone();if(y){for(d=0;!f.isZero();d++)E=f.andln(255),f.iushrn(8),M[d]=E;for(;d<v;d++)M[d]=0}else{for(d=0;d<v-c;d++)M[d]=0;for(d=0;!f.isZero();d++)E=f.andln(255),f.iushrn(8),M[v-d-1]=E}return M},Math.clz32?s.prototype._countBits=function(I){return 32-Math.clz32(I)}:s.prototype._countBits=function(I){var o=I,h=0;return o>=4096&&(h+=13,o>>>=13),o>=64&&(h+=7,o>>>=7),o>=8&&(h+=4,o>>>=4),o>=2&&(h+=2,o>>>=2),h+o},s.prototype._zeroBits=function(I){if(I===0)return 26;var o=I,h=0;return o&8191||(h+=13,o>>>=13),o&127||(h+=7,o>>>=7),o&15||(h+=4,o>>>=4),o&3||(h+=2,o>>>=2),o&1||h++,h},s.prototype.bitLength=function(){var I=this.words[this.length-1],o=this._countBits(I);return(this.length-1)*26+o};function N(H){for(var I=new Array(H.bitLength()),o=0;o<I.length;o++){var h=o/26|0,c=o%26;I[o]=(H.words[h]&1<<c)>>>c}return I}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var I=0,o=0;o<this.length;o++){var h=this._zeroBits(this.words[o]);if(I+=h,h!==26)break}return I},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(I){return this.negative!==0?this.abs().inotn(I).iaddn(1):this.clone()},s.prototype.fromTwos=function(I){return this.testn(I-1)?this.notn(I).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(I){for(;this.length<I.length;)this.words[this.length++]=0;for(var o=0;o<I.length;o++)this.words[o]=this.words[o]|I.words[o];return this.strip()},s.prototype.ior=function(I){return i((this.negative|I.negative)===0),this.iuor(I)},s.prototype.or=function(I){return this.length>I.length?this.clone().ior(I):I.clone().ior(this)},s.prototype.uor=function(I){return this.length>I.length?this.clone().iuor(I):I.clone().iuor(this)},s.prototype.iuand=function(I){var o;this.length>I.length?o=I:o=this;for(var h=0;h<o.length;h++)this.words[h]=this.words[h]&I.words[h];return this.length=o.length,this.strip()},s.prototype.iand=function(I){return i((this.negative|I.negative)===0),this.iuand(I)},s.prototype.and=function(I){return this.length>I.length?this.clone().iand(I):I.clone().iand(this)},s.prototype.uand=function(I){return this.length>I.length?this.clone().iuand(I):I.clone().iuand(this)},s.prototype.iuxor=function(I){var o,h;this.length>I.length?(o=this,h=I):(o=I,h=this);for(var c=0;c<h.length;c++)this.words[c]=o.words[c]^h.words[c];if(this!==o)for(;c<o.length;c++)this.words[c]=o.words[c];return this.length=o.length,this.strip()},s.prototype.ixor=function(I){return i((this.negative|I.negative)===0),this.iuxor(I)},s.prototype.xor=function(I){return this.length>I.length?this.clone().ixor(I):I.clone().ixor(this)},s.prototype.uxor=function(I){return this.length>I.length?this.clone().iuxor(I):I.clone().iuxor(this)},s.prototype.inotn=function(I){i(typeof I=="number"&&I>=0);var o=Math.ceil(I/26)|0,h=I%26;this._expand(o),h>0&&o--;for(var c=0;c<o;c++)this.words[c]=~this.words[c]&67108863;return h>0&&(this.words[c]=~this.words[c]&67108863>>26-h),this.strip()},s.prototype.notn=function(I){return this.clone().inotn(I)},s.prototype.setn=function(I,o){i(typeof I=="number"&&I>=0);var h=I/26|0,c=I%26;return this._expand(h+1),o?this.words[h]=this.words[h]|1<<c:this.words[h]=this.words[h]&~(1<<c),this.strip()},s.prototype.iadd=function(I){var o;if(this.negative!==0&&I.negative===0)return this.negative=0,o=this.isub(I),this.negative^=1,this._normSign();if(this.negative===0&&I.negative!==0)return I.negative=0,o=this.isub(I),I.negative=1,o._normSign();var h,c;this.length>I.length?(h=this,c=I):(h=I,c=this);for(var v=0,y=0;y<c.length;y++)o=(h.words[y]|0)+(c.words[y]|0)+v,this.words[y]=o&67108863,v=o>>>26;for(;v!==0&&y<h.length;y++)o=(h.words[y]|0)+v,this.words[y]=o&67108863,v=o>>>26;if(this.length=h.length,v!==0)this.words[this.length]=v,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},s.prototype.add=function(I){var o;return I.negative!==0&&this.negative===0?(I.negative=0,o=this.sub(I),I.negative^=1,o):I.negative===0&&this.negative!==0?(this.negative=0,o=I.sub(this),this.negative=1,o):this.length>I.length?this.clone().iadd(I):I.clone().iadd(this)},s.prototype.isub=function(I){if(I.negative!==0){I.negative=0;var o=this.iadd(I);return I.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(I),this.negative=1,this._normSign();var h=this.cmp(I);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,v;h>0?(c=this,v=I):(c=I,v=this);for(var y=0,M=0;M<v.length;M++)o=(c.words[M]|0)-(v.words[M]|0)+y,y=o>>26,this.words[M]=o&67108863;for(;y!==0&&M<c.length;M++)o=(c.words[M]|0)+y,y=o>>26,this.words[M]=o&67108863;if(y===0&&M<c.length&&c!==this)for(;M<c.length;M++)this.words[M]=c.words[M];return this.length=Math.max(this.length,M),c!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(I){return this.clone().isub(I)};function P(H,I,o){o.negative=I.negative^H.negative;var h=H.length+I.length|0;o.length=h,h=h-1|0;var c=H.words[0]|0,v=I.words[0]|0,y=c*v,M=y&67108863,E=y/67108864|0;o.words[0]=M;for(var d=1;d<h;d++){for(var f=E>>>26,_=E&67108863,J=Math.min(d,I.length-1),W=Math.max(0,d-H.length+1);W<=J;W++){var g=d-W|0;c=H.words[g]|0,v=I.words[W]|0,y=c*v+_,f+=y/67108864|0,_=y&67108863}o.words[d]=_|0,E=f|0}return E!==0?o.words[d]=E|0:o.length--,o.strip()}var L=function(I,o,h){var c=I.words,v=o.words,y=h.words,M=0,E,d,f,_=c[0]|0,J=_&8191,W=_>>>13,g=c[1]|0,F=g&8191,O=g>>>13,B=c[2]|0,q=B&8191,x=B>>>13,T=c[3]|0,Z=T&8191,it=T>>>13,et=c[4]|0,pt=et&8191,gt=et>>>13,_t=c[5]|0,re=_t&8191,bt=_t>>>13,Et=c[6]|0,Qt=Et&8191,ct=Et>>>13,yt=c[7]|0,Wt=yt&8191,ht=yt>>>13,wt=c[8]|0,Kt=wt&8191,ut=wt>>>13,It=c[9]|0,Vt=It&8191,mt=It>>>13,Rt=v[0]|0,te=Rt&8191,vt=Rt>>>13,Pt=v[1]|0,ue=Pt&8191,Tt=Pt>>>13,Jt=v[2]|0,ce=Jt&8191,Ft=Jt>>>13,Yt=v[3]|0,de=Yt&8191,Mt=Yt>>>13,Lt=v[4]|0,se=Lt&8191,St=Lt>>>13,kt=v[5]|0,ie=kt&8191,Dt=kt>>>13,jt=v[6]|0,oe=jt&8191,Nt=jt>>>13,zt=v[7]|0,fe=zt&8191,xt=zt>>>13,qt=v[8]|0,he=qt&8191,Ct=qt>>>13,Zt=v[9]|0,be=Zt&8191,Ht=Zt>>>13;h.negative=I.negative^o.negative,h.length=19,E=Math.imul(J,te),d=Math.imul(J,vt),d=d+Math.imul(W,te)|0,f=Math.imul(W,vt);var Gt=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,E=Math.imul(F,te),d=Math.imul(F,vt),d=d+Math.imul(O,te)|0,f=Math.imul(O,vt),E=E+Math.imul(J,ue)|0,d=d+Math.imul(J,Tt)|0,d=d+Math.imul(W,ue)|0,f=f+Math.imul(W,Tt)|0;var ze=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(ze>>>26)|0,ze&=67108863,E=Math.imul(q,te),d=Math.imul(q,vt),d=d+Math.imul(x,te)|0,f=Math.imul(x,vt),E=E+Math.imul(F,ue)|0,d=d+Math.imul(F,Tt)|0,d=d+Math.imul(O,ue)|0,f=f+Math.imul(O,Tt)|0,E=E+Math.imul(J,ce)|0,d=d+Math.imul(J,Ft)|0,d=d+Math.imul(W,ce)|0,f=f+Math.imul(W,Ft)|0;var $e=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+($e>>>26)|0,$e&=67108863,E=Math.imul(Z,te),d=Math.imul(Z,vt),d=d+Math.imul(it,te)|0,f=Math.imul(it,vt),E=E+Math.imul(q,ue)|0,d=d+Math.imul(q,Tt)|0,d=d+Math.imul(x,ue)|0,f=f+Math.imul(x,Tt)|0,E=E+Math.imul(F,ce)|0,d=d+Math.imul(F,Ft)|0,d=d+Math.imul(O,ce)|0,f=f+Math.imul(O,Ft)|0,E=E+Math.imul(J,de)|0,d=d+Math.imul(J,Mt)|0,d=d+Math.imul(W,de)|0,f=f+Math.imul(W,Mt)|0;var He=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(He>>>26)|0,He&=67108863,E=Math.imul(pt,te),d=Math.imul(pt,vt),d=d+Math.imul(gt,te)|0,f=Math.imul(gt,vt),E=E+Math.imul(Z,ue)|0,d=d+Math.imul(Z,Tt)|0,d=d+Math.imul(it,ue)|0,f=f+Math.imul(it,Tt)|0,E=E+Math.imul(q,ce)|0,d=d+Math.imul(q,Ft)|0,d=d+Math.imul(x,ce)|0,f=f+Math.imul(x,Ft)|0,E=E+Math.imul(F,de)|0,d=d+Math.imul(F,Mt)|0,d=d+Math.imul(O,de)|0,f=f+Math.imul(O,Mt)|0,E=E+Math.imul(J,se)|0,d=d+Math.imul(J,St)|0,d=d+Math.imul(W,se)|0,f=f+Math.imul(W,St)|0;var je=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(je>>>26)|0,je&=67108863,E=Math.imul(re,te),d=Math.imul(re,vt),d=d+Math.imul(bt,te)|0,f=Math.imul(bt,vt),E=E+Math.imul(pt,ue)|0,d=d+Math.imul(pt,Tt)|0,d=d+Math.imul(gt,ue)|0,f=f+Math.imul(gt,Tt)|0,E=E+Math.imul(Z,ce)|0,d=d+Math.imul(Z,Ft)|0,d=d+Math.imul(it,ce)|0,f=f+Math.imul(it,Ft)|0,E=E+Math.imul(q,de)|0,d=d+Math.imul(q,Mt)|0,d=d+Math.imul(x,de)|0,f=f+Math.imul(x,Mt)|0,E=E+Math.imul(F,se)|0,d=d+Math.imul(F,St)|0,d=d+Math.imul(O,se)|0,f=f+Math.imul(O,St)|0,E=E+Math.imul(J,ie)|0,d=d+Math.imul(J,Dt)|0,d=d+Math.imul(W,ie)|0,f=f+Math.imul(W,Dt)|0;var Ke=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,E=Math.imul(Qt,te),d=Math.imul(Qt,vt),d=d+Math.imul(ct,te)|0,f=Math.imul(ct,vt),E=E+Math.imul(re,ue)|0,d=d+Math.imul(re,Tt)|0,d=d+Math.imul(bt,ue)|0,f=f+Math.imul(bt,Tt)|0,E=E+Math.imul(pt,ce)|0,d=d+Math.imul(pt,Ft)|0,d=d+Math.imul(gt,ce)|0,f=f+Math.imul(gt,Ft)|0,E=E+Math.imul(Z,de)|0,d=d+Math.imul(Z,Mt)|0,d=d+Math.imul(it,de)|0,f=f+Math.imul(it,Mt)|0,E=E+Math.imul(q,se)|0,d=d+Math.imul(q,St)|0,d=d+Math.imul(x,se)|0,f=f+Math.imul(x,St)|0,E=E+Math.imul(F,ie)|0,d=d+Math.imul(F,Dt)|0,d=d+Math.imul(O,ie)|0,f=f+Math.imul(O,Dt)|0,E=E+Math.imul(J,oe)|0,d=d+Math.imul(J,Nt)|0,d=d+Math.imul(W,oe)|0,f=f+Math.imul(W,Nt)|0;var Ie=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,E=Math.imul(Wt,te),d=Math.imul(Wt,vt),d=d+Math.imul(ht,te)|0,f=Math.imul(ht,vt),E=E+Math.imul(Qt,ue)|0,d=d+Math.imul(Qt,Tt)|0,d=d+Math.imul(ct,ue)|0,f=f+Math.imul(ct,Tt)|0,E=E+Math.imul(re,ce)|0,d=d+Math.imul(re,Ft)|0,d=d+Math.imul(bt,ce)|0,f=f+Math.imul(bt,Ft)|0,E=E+Math.imul(pt,de)|0,d=d+Math.imul(pt,Mt)|0,d=d+Math.imul(gt,de)|0,f=f+Math.imul(gt,Mt)|0,E=E+Math.imul(Z,se)|0,d=d+Math.imul(Z,St)|0,d=d+Math.imul(it,se)|0,f=f+Math.imul(it,St)|0,E=E+Math.imul(q,ie)|0,d=d+Math.imul(q,Dt)|0,d=d+Math.imul(x,ie)|0,f=f+Math.imul(x,Dt)|0,E=E+Math.imul(F,oe)|0,d=d+Math.imul(F,Nt)|0,d=d+Math.imul(O,oe)|0,f=f+Math.imul(O,Nt)|0,E=E+Math.imul(J,fe)|0,d=d+Math.imul(J,xt)|0,d=d+Math.imul(W,fe)|0,f=f+Math.imul(W,xt)|0;var dr=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(dr>>>26)|0,dr&=67108863,E=Math.imul(Kt,te),d=Math.imul(Kt,vt),d=d+Math.imul(ut,te)|0,f=Math.imul(ut,vt),E=E+Math.imul(Wt,ue)|0,d=d+Math.imul(Wt,Tt)|0,d=d+Math.imul(ht,ue)|0,f=f+Math.imul(ht,Tt)|0,E=E+Math.imul(Qt,ce)|0,d=d+Math.imul(Qt,Ft)|0,d=d+Math.imul(ct,ce)|0,f=f+Math.imul(ct,Ft)|0,E=E+Math.imul(re,de)|0,d=d+Math.imul(re,Mt)|0,d=d+Math.imul(bt,de)|0,f=f+Math.imul(bt,Mt)|0,E=E+Math.imul(pt,se)|0,d=d+Math.imul(pt,St)|0,d=d+Math.imul(gt,se)|0,f=f+Math.imul(gt,St)|0,E=E+Math.imul(Z,ie)|0,d=d+Math.imul(Z,Dt)|0,d=d+Math.imul(it,ie)|0,f=f+Math.imul(it,Dt)|0,E=E+Math.imul(q,oe)|0,d=d+Math.imul(q,Nt)|0,d=d+Math.imul(x,oe)|0,f=f+Math.imul(x,Nt)|0,E=E+Math.imul(F,fe)|0,d=d+Math.imul(F,xt)|0,d=d+Math.imul(O,fe)|0,f=f+Math.imul(O,xt)|0,E=E+Math.imul(J,he)|0,d=d+Math.imul(J,Ct)|0,d=d+Math.imul(W,he)|0,f=f+Math.imul(W,Ct)|0;var Nr=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,E=Math.imul(Vt,te),d=Math.imul(Vt,vt),d=d+Math.imul(mt,te)|0,f=Math.imul(mt,vt),E=E+Math.imul(Kt,ue)|0,d=d+Math.imul(Kt,Tt)|0,d=d+Math.imul(ut,ue)|0,f=f+Math.imul(ut,Tt)|0,E=E+Math.imul(Wt,ce)|0,d=d+Math.imul(Wt,Ft)|0,d=d+Math.imul(ht,ce)|0,f=f+Math.imul(ht,Ft)|0,E=E+Math.imul(Qt,de)|0,d=d+Math.imul(Qt,Mt)|0,d=d+Math.imul(ct,de)|0,f=f+Math.imul(ct,Mt)|0,E=E+Math.imul(re,se)|0,d=d+Math.imul(re,St)|0,d=d+Math.imul(bt,se)|0,f=f+Math.imul(bt,St)|0,E=E+Math.imul(pt,ie)|0,d=d+Math.imul(pt,Dt)|0,d=d+Math.imul(gt,ie)|0,f=f+Math.imul(gt,Dt)|0,E=E+Math.imul(Z,oe)|0,d=d+Math.imul(Z,Nt)|0,d=d+Math.imul(it,oe)|0,f=f+Math.imul(it,Nt)|0,E=E+Math.imul(q,fe)|0,d=d+Math.imul(q,xt)|0,d=d+Math.imul(x,fe)|0,f=f+Math.imul(x,xt)|0,E=E+Math.imul(F,he)|0,d=d+Math.imul(F,Ct)|0,d=d+Math.imul(O,he)|0,f=f+Math.imul(O,Ct)|0,E=E+Math.imul(J,be)|0,d=d+Math.imul(J,Ht)|0,d=d+Math.imul(W,be)|0,f=f+Math.imul(W,Ht)|0;var pr=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(pr>>>26)|0,pr&=67108863,E=Math.imul(Vt,ue),d=Math.imul(Vt,Tt),d=d+Math.imul(mt,ue)|0,f=Math.imul(mt,Tt),E=E+Math.imul(Kt,ce)|0,d=d+Math.imul(Kt,Ft)|0,d=d+Math.imul(ut,ce)|0,f=f+Math.imul(ut,Ft)|0,E=E+Math.imul(Wt,de)|0,d=d+Math.imul(Wt,Mt)|0,d=d+Math.imul(ht,de)|0,f=f+Math.imul(ht,Mt)|0,E=E+Math.imul(Qt,se)|0,d=d+Math.imul(Qt,St)|0,d=d+Math.imul(ct,se)|0,f=f+Math.imul(ct,St)|0,E=E+Math.imul(re,ie)|0,d=d+Math.imul(re,Dt)|0,d=d+Math.imul(bt,ie)|0,f=f+Math.imul(bt,Dt)|0,E=E+Math.imul(pt,oe)|0,d=d+Math.imul(pt,Nt)|0,d=d+Math.imul(gt,oe)|0,f=f+Math.imul(gt,Nt)|0,E=E+Math.imul(Z,fe)|0,d=d+Math.imul(Z,xt)|0,d=d+Math.imul(it,fe)|0,f=f+Math.imul(it,xt)|0,E=E+Math.imul(q,he)|0,d=d+Math.imul(q,Ct)|0,d=d+Math.imul(x,he)|0,f=f+Math.imul(x,Ct)|0,E=E+Math.imul(F,be)|0,d=d+Math.imul(F,Ht)|0,d=d+Math.imul(O,be)|0,f=f+Math.imul(O,Ht)|0;var Cr=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,E=Math.imul(Vt,ce),d=Math.imul(Vt,Ft),d=d+Math.imul(mt,ce)|0,f=Math.imul(mt,Ft),E=E+Math.imul(Kt,de)|0,d=d+Math.imul(Kt,Mt)|0,d=d+Math.imul(ut,de)|0,f=f+Math.imul(ut,Mt)|0,E=E+Math.imul(Wt,se)|0,d=d+Math.imul(Wt,St)|0,d=d+Math.imul(ht,se)|0,f=f+Math.imul(ht,St)|0,E=E+Math.imul(Qt,ie)|0,d=d+Math.imul(Qt,Dt)|0,d=d+Math.imul(ct,ie)|0,f=f+Math.imul(ct,Dt)|0,E=E+Math.imul(re,oe)|0,d=d+Math.imul(re,Nt)|0,d=d+Math.imul(bt,oe)|0,f=f+Math.imul(bt,Nt)|0,E=E+Math.imul(pt,fe)|0,d=d+Math.imul(pt,xt)|0,d=d+Math.imul(gt,fe)|0,f=f+Math.imul(gt,xt)|0,E=E+Math.imul(Z,he)|0,d=d+Math.imul(Z,Ct)|0,d=d+Math.imul(it,he)|0,f=f+Math.imul(it,Ct)|0,E=E+Math.imul(q,be)|0,d=d+Math.imul(q,Ht)|0,d=d+Math.imul(x,be)|0,f=f+Math.imul(x,Ht)|0;var Rr=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,E=Math.imul(Vt,de),d=Math.imul(Vt,Mt),d=d+Math.imul(mt,de)|0,f=Math.imul(mt,Mt),E=E+Math.imul(Kt,se)|0,d=d+Math.imul(Kt,St)|0,d=d+Math.imul(ut,se)|0,f=f+Math.imul(ut,St)|0,E=E+Math.imul(Wt,ie)|0,d=d+Math.imul(Wt,Dt)|0,d=d+Math.imul(ht,ie)|0,f=f+Math.imul(ht,Dt)|0,E=E+Math.imul(Qt,oe)|0,d=d+Math.imul(Qt,Nt)|0,d=d+Math.imul(ct,oe)|0,f=f+Math.imul(ct,Nt)|0,E=E+Math.imul(re,fe)|0,d=d+Math.imul(re,xt)|0,d=d+Math.imul(bt,fe)|0,f=f+Math.imul(bt,xt)|0,E=E+Math.imul(pt,he)|0,d=d+Math.imul(pt,Ct)|0,d=d+Math.imul(gt,he)|0,f=f+Math.imul(gt,Ct)|0,E=E+Math.imul(Z,be)|0,d=d+Math.imul(Z,Ht)|0,d=d+Math.imul(it,be)|0,f=f+Math.imul(it,Ht)|0;var gr=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(gr>>>26)|0,gr&=67108863,E=Math.imul(Vt,se),d=Math.imul(Vt,St),d=d+Math.imul(mt,se)|0,f=Math.imul(mt,St),E=E+Math.imul(Kt,ie)|0,d=d+Math.imul(Kt,Dt)|0,d=d+Math.imul(ut,ie)|0,f=f+Math.imul(ut,Dt)|0,E=E+Math.imul(Wt,oe)|0,d=d+Math.imul(Wt,Nt)|0,d=d+Math.imul(ht,oe)|0,f=f+Math.imul(ht,Nt)|0,E=E+Math.imul(Qt,fe)|0,d=d+Math.imul(Qt,xt)|0,d=d+Math.imul(ct,fe)|0,f=f+Math.imul(ct,xt)|0,E=E+Math.imul(re,he)|0,d=d+Math.imul(re,Ct)|0,d=d+Math.imul(bt,he)|0,f=f+Math.imul(bt,Ct)|0,E=E+Math.imul(pt,be)|0,d=d+Math.imul(pt,Ht)|0,d=d+Math.imul(gt,be)|0,f=f+Math.imul(gt,Ht)|0;var Sr=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,E=Math.imul(Vt,ie),d=Math.imul(Vt,Dt),d=d+Math.imul(mt,ie)|0,f=Math.imul(mt,Dt),E=E+Math.imul(Kt,oe)|0,d=d+Math.imul(Kt,Nt)|0,d=d+Math.imul(ut,oe)|0,f=f+Math.imul(ut,Nt)|0,E=E+Math.imul(Wt,fe)|0,d=d+Math.imul(Wt,xt)|0,d=d+Math.imul(ht,fe)|0,f=f+Math.imul(ht,xt)|0,E=E+Math.imul(Qt,he)|0,d=d+Math.imul(Qt,Ct)|0,d=d+Math.imul(ct,he)|0,f=f+Math.imul(ct,Ct)|0,E=E+Math.imul(re,be)|0,d=d+Math.imul(re,Ht)|0,d=d+Math.imul(bt,be)|0,f=f+Math.imul(bt,Ht)|0;var xr=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(xr>>>26)|0,xr&=67108863,E=Math.imul(Vt,oe),d=Math.imul(Vt,Nt),d=d+Math.imul(mt,oe)|0,f=Math.imul(mt,Nt),E=E+Math.imul(Kt,fe)|0,d=d+Math.imul(Kt,xt)|0,d=d+Math.imul(ut,fe)|0,f=f+Math.imul(ut,xt)|0,E=E+Math.imul(Wt,he)|0,d=d+Math.imul(Wt,Ct)|0,d=d+Math.imul(ht,he)|0,f=f+Math.imul(ht,Ct)|0,E=E+Math.imul(Qt,be)|0,d=d+Math.imul(Qt,Ht)|0,d=d+Math.imul(ct,be)|0,f=f+Math.imul(ct,Ht)|0;var Ze=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,E=Math.imul(Vt,fe),d=Math.imul(Vt,xt),d=d+Math.imul(mt,fe)|0,f=Math.imul(mt,xt),E=E+Math.imul(Kt,he)|0,d=d+Math.imul(Kt,Ct)|0,d=d+Math.imul(ut,he)|0,f=f+Math.imul(ut,Ct)|0,E=E+Math.imul(Wt,be)|0,d=d+Math.imul(Wt,Ht)|0,d=d+Math.imul(ht,be)|0,f=f+Math.imul(ht,Ht)|0;var Pr=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,E=Math.imul(Vt,he),d=Math.imul(Vt,Ct),d=d+Math.imul(mt,he)|0,f=Math.imul(mt,Ct),E=E+Math.imul(Kt,be)|0,d=d+Math.imul(Kt,Ht)|0,d=d+Math.imul(ut,be)|0,f=f+Math.imul(ut,Ht)|0;var Or=(M+E|0)+((d&8191)<<13)|0;M=(f+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,E=Math.imul(Vt,be),d=Math.imul(Vt,Ht),d=d+Math.imul(mt,be)|0,f=Math.imul(mt,Ht);var Br=(M+E|0)+((d&8191)<<13)|0;return M=(f+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,y[0]=Gt,y[1]=ze,y[2]=$e,y[3]=He,y[4]=je,y[5]=Ke,y[6]=Ie,y[7]=dr,y[8]=Nr,y[9]=pr,y[10]=Cr,y[11]=Rr,y[12]=gr,y[13]=Sr,y[14]=xr,y[15]=Ze,y[16]=Pr,y[17]=Or,y[18]=Br,M!==0&&(y[19]=M,h.length++),h};Math.imul||(L=P);function k(H,I,o){o.negative=I.negative^H.negative,o.length=H.length+I.length;for(var h=0,c=0,v=0;v<o.length-1;v++){var y=c;c=0;for(var M=h&67108863,E=Math.min(v,I.length-1),d=Math.max(0,v-H.length+1);d<=E;d++){var f=v-d,_=H.words[f]|0,J=I.words[d]|0,W=_*J,g=W&67108863;y=y+(W/67108864|0)|0,g=g+M|0,M=g&67108863,y=y+(g>>>26)|0,c+=y>>>26,y&=67108863}o.words[v]=M,h=y,y=c}return h!==0?o.words[v]=h:o.length--,o.strip()}function Y(H,I,o){var h=new Q;return h.mulp(H,I,o)}s.prototype.mulTo=function(I,o){var h,c=this.length+I.length;return this.length===10&&I.length===10?h=L(this,I,o):c<63?h=P(this,I,o):c<1024?h=k(this,I,o):h=Y(this,I,o),h};function Q(H,I){this.x=H,this.y=I}Q.prototype.makeRBT=function(I){for(var o=new Array(I),h=s.prototype._countBits(I)-1,c=0;c<I;c++)o[c]=this.revBin(c,h,I);return o},Q.prototype.revBin=function(I,o,h){if(I===0||I===h-1)return I;for(var c=0,v=0;v<o;v++)c|=(I&1)<<o-v-1,I>>=1;return c},Q.prototype.permute=function(I,o,h,c,v,y){for(var M=0;M<y;M++)c[M]=o[I[M]],v[M]=h[I[M]]},Q.prototype.transform=function(I,o,h,c,v,y){this.permute(y,I,o,h,c,v);for(var M=1;M<v;M<<=1)for(var E=M<<1,d=Math.cos(2*Math.PI/E),f=Math.sin(2*Math.PI/E),_=0;_<v;_+=E)for(var J=d,W=f,g=0;g<M;g++){var F=h[_+g],O=c[_+g],B=h[_+g+M],q=c[_+g+M],x=J*B-W*q;q=J*q+W*B,B=x,h[_+g]=F+B,c[_+g]=O+q,h[_+g+M]=F-B,c[_+g+M]=O-q,g!==E&&(x=d*J-f*W,W=d*W+f*J,J=x)}},Q.prototype.guessLen13b=function(I,o){var h=Math.max(o,I)|1,c=h&1,v=0;for(h=h/2|0;h;h=h>>>1)v++;return 1<<v+1+c},Q.prototype.conjugate=function(I,o,h){if(!(h<=1))for(var c=0;c<h/2;c++){var v=I[c];I[c]=I[h-c-1],I[h-c-1]=v,v=o[c],o[c]=-o[h-c-1],o[h-c-1]=-v}},Q.prototype.normalize13b=function(I,o){for(var h=0,c=0;c<o/2;c++){var v=Math.round(I[2*c+1]/o)*8192+Math.round(I[2*c]/o)+h;I[c]=v&67108863,v<67108864?h=0:h=v/67108864|0}return I},Q.prototype.convert13b=function(I,o,h,c){for(var v=0,y=0;y<o;y++)v=v+(I[y]|0),h[2*y]=v&8191,v=v>>>13,h[2*y+1]=v&8191,v=v>>>13;for(y=2*o;y<c;++y)h[y]=0;i(v===0),i((v&-8192)===0)},Q.prototype.stub=function(I){for(var o=new Array(I),h=0;h<I;h++)o[h]=0;return o},Q.prototype.mulp=function(I,o,h){var c=2*this.guessLen13b(I.length,o.length),v=this.makeRBT(c),y=this.stub(c),M=new Array(c),E=new Array(c),d=new Array(c),f=new Array(c),_=new Array(c),J=new Array(c),W=h.words;W.length=c,this.convert13b(I.words,I.length,M,c),this.convert13b(o.words,o.length,f,c),this.transform(M,y,E,d,c,v),this.transform(f,y,_,J,c,v);for(var g=0;g<c;g++){var F=E[g]*_[g]-d[g]*J[g];d[g]=E[g]*J[g]+d[g]*_[g],E[g]=F}return this.conjugate(E,d,c),this.transform(E,d,W,y,c,v),this.conjugate(W,y,c),this.normalize13b(W,c),h.negative=I.negative^o.negative,h.length=I.length+o.length,h.strip()},s.prototype.mul=function(I){var o=new s(null);return o.words=new Array(this.length+I.length),this.mulTo(I,o)},s.prototype.mulf=function(I){var o=new s(null);return o.words=new Array(this.length+I.length),Y(this,I,o)},s.prototype.imul=function(I){return this.clone().mulTo(I,this)},s.prototype.imuln=function(I){i(typeof I=="number"),i(I<67108864);for(var o=0,h=0;h<this.length;h++){var c=(this.words[h]|0)*I,v=(c&67108863)+(o&67108863);o>>=26,o+=c/67108864|0,o+=v>>>26,this.words[h]=v&67108863}return o!==0&&(this.words[h]=o,this.length++),this},s.prototype.muln=function(I){return this.clone().imuln(I)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(I){var o=N(I);if(o.length===0)return new s(1);for(var h=this,c=0;c<o.length&&o[c]===0;c++,h=h.sqr());if(++c<o.length)for(var v=h.sqr();c<o.length;c++,v=v.sqr())o[c]!==0&&(h=h.mul(v));return h},s.prototype.iushln=function(I){i(typeof I=="number"&&I>=0);var o=I%26,h=(I-o)/26,c=67108863>>>26-o<<26-o,v;if(o!==0){var y=0;for(v=0;v<this.length;v++){var M=this.words[v]&c,E=(this.words[v]|0)-M<<o;this.words[v]=E|y,y=M>>>26-o}y&&(this.words[v]=y,this.length++)}if(h!==0){for(v=this.length-1;v>=0;v--)this.words[v+h]=this.words[v];for(v=0;v<h;v++)this.words[v]=0;this.length+=h}return this.strip()},s.prototype.ishln=function(I){return i(this.negative===0),this.iushln(I)},s.prototype.iushrn=function(I,o,h){i(typeof I=="number"&&I>=0);var c;o?c=(o-o%26)/26:c=0;var v=I%26,y=Math.min((I-v)/26,this.length),M=67108863^67108863>>>v<<v,E=h;if(c-=y,c=Math.max(0,c),E){for(var d=0;d<y;d++)E.words[d]=this.words[d];E.length=y}if(y!==0)if(this.length>y)for(this.length-=y,d=0;d<this.length;d++)this.words[d]=this.words[d+y];else this.words[0]=0,this.length=1;var f=0;for(d=this.length-1;d>=0&&(f!==0||d>=c);d--){var _=this.words[d]|0;this.words[d]=f<<26-v|_>>>v,f=_&M}return E&&f!==0&&(E.words[E.length++]=f),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(I,o,h){return i(this.negative===0),this.iushrn(I,o,h)},s.prototype.shln=function(I){return this.clone().ishln(I)},s.prototype.ushln=function(I){return this.clone().iushln(I)},s.prototype.shrn=function(I){return this.clone().ishrn(I)},s.prototype.ushrn=function(I){return this.clone().iushrn(I)},s.prototype.testn=function(I){i(typeof I=="number"&&I>=0);var o=I%26,h=(I-o)/26,c=1<<o;if(this.length<=h)return!1;var v=this.words[h];return!!(v&c)},s.prototype.imaskn=function(I){i(typeof I=="number"&&I>=0);var o=I%26,h=(I-o)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(o!==0&&h++,this.length=Math.min(h,this.length),o!==0){var c=67108863^67108863>>>o<<o;this.words[this.length-1]&=c}return this.strip()},s.prototype.maskn=function(I){return this.clone().imaskn(I)},s.prototype.iaddn=function(I){return i(typeof I=="number"),i(I<67108864),I<0?this.isubn(-I):this.negative!==0?this.length===1&&(this.words[0]|0)<I?(this.words[0]=I-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(I),this.negative=1,this):this._iaddn(I)},s.prototype._iaddn=function(I){this.words[0]+=I;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},s.prototype.isubn=function(I){if(i(typeof I=="number"),i(I<67108864),I<0)return this.iaddn(-I);if(this.negative!==0)return this.negative=0,this.iaddn(I),this.negative=1,this;if(this.words[0]-=I,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},s.prototype.addn=function(I){return this.clone().iaddn(I)},s.prototype.subn=function(I){return this.clone().isubn(I)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(I,o,h){var c=I.length+h,v;this._expand(c);var y,M=0;for(v=0;v<I.length;v++){y=(this.words[v+h]|0)+M;var E=(I.words[v]|0)*o;y-=E&67108863,M=(y>>26)-(E/67108864|0),this.words[v+h]=y&67108863}for(;v<this.length-h;v++)y=(this.words[v+h]|0)+M,M=y>>26,this.words[v+h]=y&67108863;if(M===0)return this.strip();for(i(M===-1),M=0,v=0;v<this.length;v++)y=-(this.words[v]|0)+M,M=y>>26,this.words[v]=y&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(I,o){var h=this.length-I.length,c=this.clone(),v=I,y=v.words[v.length-1]|0,M=this._countBits(y);h=26-M,h!==0&&(v=v.ushln(h),c.iushln(h),y=v.words[v.length-1]|0);var E=c.length-v.length,d;if(o!=="mod"){d=new s(null),d.length=E+1,d.words=new Array(d.length);for(var f=0;f<d.length;f++)d.words[f]=0}var _=c.clone()._ishlnsubmul(v,1,E);_.negative===0&&(c=_,d&&(d.words[E]=1));for(var J=E-1;J>=0;J--){var W=(c.words[v.length+J]|0)*67108864+(c.words[v.length+J-1]|0);for(W=Math.min(W/y|0,67108863),c._ishlnsubmul(v,W,J);c.negative!==0;)W--,c.negative=0,c._ishlnsubmul(v,1,J),c.isZero()||(c.negative^=1);d&&(d.words[J]=W)}return d&&d.strip(),c.strip(),o!=="div"&&h!==0&&c.iushrn(h),{div:d||null,mod:c}},s.prototype.divmod=function(I,o,h){if(i(!I.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var c,v,y;return this.negative!==0&&I.negative===0?(y=this.neg().divmod(I,o),o!=="mod"&&(c=y.div.neg()),o!=="div"&&(v=y.mod.neg(),h&&v.negative!==0&&v.iadd(I)),{div:c,mod:v}):this.negative===0&&I.negative!==0?(y=this.divmod(I.neg(),o),o!=="mod"&&(c=y.div.neg()),{div:c,mod:y.mod}):this.negative&I.negative?(y=this.neg().divmod(I.neg(),o),o!=="div"&&(v=y.mod.neg(),h&&v.negative!==0&&v.isub(I)),{div:y.div,mod:v}):I.length>this.length||this.cmp(I)<0?{div:new s(0),mod:this}:I.length===1?o==="div"?{div:this.divn(I.words[0]),mod:null}:o==="mod"?{div:null,mod:new s(this.modn(I.words[0]))}:{div:this.divn(I.words[0]),mod:new s(this.modn(I.words[0]))}:this._wordDiv(I,o)},s.prototype.div=function(I){return this.divmod(I,"div",!1).div},s.prototype.mod=function(I){return this.divmod(I,"mod",!1).mod},s.prototype.umod=function(I){return this.divmod(I,"mod",!0).mod},s.prototype.divRound=function(I){var o=this.divmod(I);if(o.mod.isZero())return o.div;var h=o.div.negative!==0?o.mod.isub(I):o.mod,c=I.ushrn(1),v=I.andln(1),y=h.cmp(c);return y<0||v===1&&y===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},s.prototype.modn=function(I){i(I<=67108863);for(var o=(1<<26)%I,h=0,c=this.length-1;c>=0;c--)h=(o*h+(this.words[c]|0))%I;return h},s.prototype.idivn=function(I){i(I<=67108863);for(var o=0,h=this.length-1;h>=0;h--){var c=(this.words[h]|0)+o*67108864;this.words[h]=c/I|0,o=c%I}return this.strip()},s.prototype.divn=function(I){return this.clone().idivn(I)},s.prototype.egcd=function(I){i(I.negative===0),i(!I.isZero());var o=this,h=I.clone();o.negative!==0?o=o.umod(I):o=o.clone();for(var c=new s(1),v=new s(0),y=new s(0),M=new s(1),E=0;o.isEven()&&h.isEven();)o.iushrn(1),h.iushrn(1),++E;for(var d=h.clone(),f=o.clone();!o.isZero();){for(var _=0,J=1;!(o.words[0]&J)&&_<26;++_,J<<=1);if(_>0)for(o.iushrn(_);_-- >0;)(c.isOdd()||v.isOdd())&&(c.iadd(d),v.isub(f)),c.iushrn(1),v.iushrn(1);for(var W=0,g=1;!(h.words[0]&g)&&W<26;++W,g<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(y.isOdd()||M.isOdd())&&(y.iadd(d),M.isub(f)),y.iushrn(1),M.iushrn(1);o.cmp(h)>=0?(o.isub(h),c.isub(y),v.isub(M)):(h.isub(o),y.isub(c),M.isub(v))}return{a:y,b:M,gcd:h.iushln(E)}},s.prototype._invmp=function(I){i(I.negative===0),i(!I.isZero());var o=this,h=I.clone();o.negative!==0?o=o.umod(I):o=o.clone();for(var c=new s(1),v=new s(0),y=h.clone();o.cmpn(1)>0&&h.cmpn(1)>0;){for(var M=0,E=1;!(o.words[0]&E)&&M<26;++M,E<<=1);if(M>0)for(o.iushrn(M);M-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);for(var d=0,f=1;!(h.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(h.iushrn(d);d-- >0;)v.isOdd()&&v.iadd(y),v.iushrn(1);o.cmp(h)>=0?(o.isub(h),c.isub(v)):(h.isub(o),v.isub(c))}var _;return o.cmpn(1)===0?_=c:_=v,_.cmpn(0)<0&&_.iadd(I),_},s.prototype.gcd=function(I){if(this.isZero())return I.abs();if(I.isZero())return this.abs();var o=this.clone(),h=I.clone();o.negative=0,h.negative=0;for(var c=0;o.isEven()&&h.isEven();c++)o.iushrn(1),h.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;h.isEven();)h.iushrn(1);var v=o.cmp(h);if(v<0){var y=o;o=h,h=y}else if(v===0||h.cmpn(1)===0)break;o.isub(h)}while(!0);return h.iushln(c)},s.prototype.invm=function(I){return this.egcd(I).a.umod(I)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(I){return this.words[0]&I},s.prototype.bincn=function(I){i(typeof I=="number");var o=I%26,h=(I-o)/26,c=1<<o;if(this.length<=h)return this._expand(h+1),this.words[h]|=c,this;for(var v=c,y=h;v!==0&&y<this.length;y++){var M=this.words[y]|0;M+=v,v=M>>>26,M&=67108863,this.words[y]=M}return v!==0&&(this.words[y]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(I){var o=I<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var h;if(this.length>1)h=1;else{o&&(I=-I),i(I<=67108863,"Number is too big");var c=this.words[0]|0;h=c===I?0:c<I?-1:1}return this.negative!==0?-h|0:h},s.prototype.cmp=function(I){if(this.negative!==0&&I.negative===0)return-1;if(this.negative===0&&I.negative!==0)return 1;var o=this.ucmp(I);return this.negative!==0?-o|0:o},s.prototype.ucmp=function(I){if(this.length>I.length)return 1;if(this.length<I.length)return-1;for(var o=0,h=this.length-1;h>=0;h--){var c=this.words[h]|0,v=I.words[h]|0;if(c!==v){c<v?o=-1:c>v&&(o=1);break}}return o},s.prototype.gtn=function(I){return this.cmpn(I)===1},s.prototype.gt=function(I){return this.cmp(I)===1},s.prototype.gten=function(I){return this.cmpn(I)>=0},s.prototype.gte=function(I){return this.cmp(I)>=0},s.prototype.ltn=function(I){return this.cmpn(I)===-1},s.prototype.lt=function(I){return this.cmp(I)===-1},s.prototype.lten=function(I){return this.cmpn(I)<=0},s.prototype.lte=function(I){return this.cmp(I)<=0},s.prototype.eqn=function(I){return this.cmpn(I)===0},s.prototype.eq=function(I){return this.cmp(I)===0},s.red=function(I){return new st(I)},s.prototype.toRed=function(I){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),I.convertTo(this)._forceRed(I)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(I){return this.red=I,this},s.prototype.forceRed=function(I){return i(!this.red,"Already a number in reduction context"),this._forceRed(I)},s.prototype.redAdd=function(I){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,I)},s.prototype.redIAdd=function(I){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,I)},s.prototype.redSub=function(I){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,I)},s.prototype.redISub=function(I){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,I)},s.prototype.redShl=function(I){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,I)},s.prototype.redMul=function(I){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.mul(this,I)},s.prototype.redIMul=function(I){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.imul(this,I)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(I){return i(this.red&&!I.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,I)};var X={k256:null,p224:null,p192:null,p25519:null};function $(H,I){this.name=H,this.p=new s(I,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var I=new s(null);return I.words=new Array(Math.ceil(this.n/13)),I},$.prototype.ireduce=function(I){var o=I,h;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),h=o.bitLength();while(h>this.n);var c=h<this.n?-1:o.ucmp(this.p);return c===0?(o.words[0]=0,o.length=1):c>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},$.prototype.split=function(I,o){I.iushrn(this.n,0,o)},$.prototype.imulK=function(I){return I.imul(this.k)};function j(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(j,$),j.prototype.split=function(I,o){for(var h=4194303,c=Math.min(I.length,9),v=0;v<c;v++)o.words[v]=I.words[v];if(o.length=c,I.length<=9){I.words[0]=0,I.length=1;return}var y=I.words[9];for(o.words[o.length++]=y&h,v=10;v<I.length;v++){var M=I.words[v]|0;I.words[v-10]=(M&h)<<4|y>>>22,y=M}y>>>=22,I.words[v-10]=y,y===0&&I.length>10?I.length-=10:I.length-=9},j.prototype.imulK=function(I){I.words[I.length]=0,I.words[I.length+1]=0,I.length+=2;for(var o=0,h=0;h<I.length;h++){var c=I.words[h]|0;o+=c*977,I.words[h]=o&67108863,o=c*64+(o/67108864|0)}return I.words[I.length-1]===0&&(I.length--,I.words[I.length-1]===0&&I.length--),I};function K(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(K,$);function C(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(C,$);function z(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(z,$),z.prototype.imulK=function(I){for(var o=0,h=0;h<I.length;h++){var c=(I.words[h]|0)*19+o,v=c&67108863;c>>>=26,I.words[h]=v,o=c}return o!==0&&(I.words[I.length++]=o),I},s._prime=function(I){if(X[I])return X[I];var o;if(I==="k256")o=new j;else if(I==="p224")o=new K;else if(I==="p192")o=new C;else if(I==="p25519")o=new z;else throw new Error("Unknown prime "+I);return X[I]=o,o};function st(H){if(typeof H=="string"){var I=s._prime(H);this.m=I.p,this.prime=I}else i(H.gtn(1),"modulus must be greater than 1"),this.m=H,this.prime=null}st.prototype._verify1=function(I){i(I.negative===0,"red works only with positives"),i(I.red,"red works only with red numbers")},st.prototype._verify2=function(I,o){i((I.negative|o.negative)===0,"red works only with positives"),i(I.red&&I.red===o.red,"red works only with red numbers")},st.prototype.imod=function(I){return this.prime?this.prime.ireduce(I)._forceRed(this):I.umod(this.m)._forceRed(this)},st.prototype.neg=function(I){return I.isZero()?I.clone():this.m.sub(I)._forceRed(this)},st.prototype.add=function(I,o){this._verify2(I,o);var h=I.add(o);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},st.prototype.iadd=function(I,o){this._verify2(I,o);var h=I.iadd(o);return h.cmp(this.m)>=0&&h.isub(this.m),h},st.prototype.sub=function(I,o){this._verify2(I,o);var h=I.sub(o);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},st.prototype.isub=function(I,o){this._verify2(I,o);var h=I.isub(o);return h.cmpn(0)<0&&h.iadd(this.m),h},st.prototype.shl=function(I,o){return this._verify1(I),this.imod(I.ushln(o))},st.prototype.imul=function(I,o){return this._verify2(I,o),this.imod(I.imul(o))},st.prototype.mul=function(I,o){return this._verify2(I,o),this.imod(I.mul(o))},st.prototype.isqr=function(I){return this.imul(I,I.clone())},st.prototype.sqr=function(I){return this.mul(I,I)},st.prototype.sqrt=function(I){if(I.isZero())return I.clone();var o=this.m.andln(3);if(i(o%2===1),o===3){var h=this.m.add(new s(1)).iushrn(2);return this.pow(I,h)}for(var c=this.m.subn(1),v=0;!c.isZero()&&c.andln(1)===0;)v++,c.iushrn(1);i(!c.isZero());var y=new s(1).toRed(this),M=y.redNeg(),E=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,E).cmp(M)!==0;)d.redIAdd(M);for(var f=this.pow(d,c),_=this.pow(I,c.addn(1).iushrn(1)),J=this.pow(I,c),W=v;J.cmp(y)!==0;){for(var g=J,F=0;g.cmp(y)!==0;F++)g=g.redSqr();i(F<W);var O=this.pow(f,new s(1).iushln(W-F-1));_=_.redMul(O),f=O.redSqr(),J=J.redMul(f),W=F}return _},st.prototype.invm=function(I){var o=I._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},st.prototype.pow=function(I,o){if(o.isZero())return new s(1).toRed(this);if(o.cmpn(1)===0)return I.clone();var h=4,c=new Array(1<<h);c[0]=new s(1).toRed(this),c[1]=I;for(var v=2;v<c.length;v++)c[v]=this.mul(c[v-1],I);var y=c[0],M=0,E=0,d=o.bitLength()%26;for(d===0&&(d=26),v=o.length-1;v>=0;v--){for(var f=o.words[v],_=d-1;_>=0;_--){var J=f>>_&1;if(y!==c[0]&&(y=this.sqr(y)),J===0&&M===0){E=0;continue}M<<=1,M|=J,E++,!(E!==h&&(v!==0||_!==0))&&(y=this.mul(y,c[M]),E=0,M=0)}d=26}return y},st.prototype.convertTo=function(I){var o=I.umod(this.m);return o===I?o.clone():o},st.prototype.convertFrom=function(I){var o=I.clone();return o.red=null,o},s.mont=function(I){return new dt(I)};function dt(H){st.call(this,H),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(dt,st),dt.prototype.convertTo=function(I){return this.imod(I.ushln(this.shift))},dt.prototype.convertFrom=function(I){var o=this.imod(I.mul(this.rinv));return o.red=null,o},dt.prototype.imul=function(I,o){if(I.isZero()||o.isZero())return I.words[0]=0,I.length=1,I;var h=I.imul(o),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(c).iushrn(this.shift),y=v;return v.cmp(this.m)>=0?y=v.isub(this.m):v.cmpn(0)<0&&(y=v.iadd(this.m)),y._forceRed(this)},dt.prototype.mul=function(I,o){if(I.isZero()||o.isZero())return new s(0)._forceRed(this);var h=I.mul(o),c=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(c).iushrn(this.shift),y=v;return v.cmp(this.m)>=0?y=v.isub(this.m):v.cmpn(0)<0&&(y=v.iadd(this.m)),y._forceRed(this)},dt.prototype.invm=function(I){var o=this.imod(I._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(e,Ai)})(u2);var To=u2.exports,$a=cb;function cb(e,t){if(!e)throw new Error(t||"Assertion failed")}cb.equal=function(t,r,i){if(t!=r)throw new Error(i||"Assertion failed: "+t+" != "+r)};var c2={};(function(e){var t=e;function r(s,u){if(Array.isArray(s))return s.slice();if(!s)return[];var p=[];if(typeof s!="string"){for(var b=0;b<s.length;b++)p[b]=s[b]|0;return p}if(u==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var b=0;b<s.length;b+=2)p.push(parseInt(s[b]+s[b+1],16))}else for(var b=0;b<s.length;b++){var m=s.charCodeAt(b),w=m>>8,S=m&255;w?p.push(w,S):p.push(S)}return p}t.toArray=r;function i(s){return s.length===1?"0"+s:s}t.zero2=i;function n(s){for(var u="",p=0;p<s.length;p++)u+=i(s[p].toString(16));return u}t.toHex=n,t.encode=function(u,p){return p==="hex"?n(u):u}})(c2);(function(e){var t=e,r=To,i=$a,n=c2;t.assert=i,t.toArray=n.toArray,t.zero2=n.zero2,t.toHex=n.toHex,t.encode=n.encode;function s(w,S,D){var N=new Array(Math.max(w.bitLength(),D)+1),P;for(P=0;P<N.length;P+=1)N[P]=0;var L=1<<S+1,k=w.clone();for(P=0;P<N.length;P++){var Y,Q=k.andln(L-1);k.isOdd()?(Q>(L>>1)-1?Y=(L>>1)-Q:Y=Q,k.isubn(Y)):Y=0,N[P]=Y,k.iushrn(1)}return N}t.getNAF=s;function u(w,S){var D=[[],[]];w=w.clone(),S=S.clone();for(var N=0,P=0,L;w.cmpn(-N)>0||S.cmpn(-P)>0;){var k=w.andln(3)+N&3,Y=S.andln(3)+P&3;k===3&&(k=-1),Y===3&&(Y=-1);var Q;k&1?(L=w.andln(7)+N&7,(L===3||L===5)&&Y===2?Q=-k:Q=k):Q=0,D[0].push(Q);var X;Y&1?(L=S.andln(7)+P&7,(L===3||L===5)&&k===2?X=-Y:X=Y):X=0,D[1].push(X),2*N===Q+1&&(N=1-N),2*P===X+1&&(P=1-P),w.iushrn(1),S.iushrn(1)}return D}t.getJSF=u;function p(w,S,D){var N="_"+S;w.prototype[S]=function(){return this[N]!==void 0?this[N]:this[N]=D.call(this)}}t.cachedProperty=p;function b(w){return typeof w=="string"?t.toArray(w,"hex"):w}t.parseBytes=b;function m(w){return new r(w,"hex","le")}t.intFromLE=m})(an);var l2={exports:{}},Gd;l2.exports=function(t){return Gd||(Gd=new na(null)),Gd.generate(t)};function na(e){this.rand=e}l2.exports.Rand=na;na.prototype.generate=function(t){return this._rand(t)};na.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?na.prototype._rand=function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?na.prototype._rand=function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(na.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var G3=a2;if(typeof G3.randomBytes!="function")throw new Error("Not supported");na.prototype._rand=function(t){return G3.randomBytes(t)}}catch{}var lb=l2.exports,d2={},Sa=To,Du=an,R0=Du.getNAF,WE=Du.getJSF,P0=Du.assert;function ha(e,t){this.type=e,this.p=new Sa(t.p,16),this.red=t.prime?Sa.red(t.prime):Sa.mont(this.p),this.zero=new Sa(0).toRed(this.red),this.one=new Sa(1).toRed(this.red),this.two=new Sa(2).toRed(this.red),this.n=t.n&&new Sa(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var sl=ha;ha.prototype.point=function(){throw new Error("Not implemented")};ha.prototype.validate=function(){throw new Error("Not implemented")};ha.prototype._fixedNafMul=function(t,r){P0(t.precomputed);var i=t._getDoubles(),n=R0(r,1,this._bitLength),s=(1<<i.step+1)-(i.step%2===0?2:1);s/=3;var u=[],p,b;for(p=0;p<n.length;p+=i.step){b=0;for(var m=p+i.step-1;m>=p;m--)b=(b<<1)+n[m];u.push(b)}for(var w=this.jpoint(null,null,null),S=this.jpoint(null,null,null),D=s;D>0;D--){for(p=0;p<u.length;p++)b=u[p],b===D?S=S.mixedAdd(i.points[p]):b===-D&&(S=S.mixedAdd(i.points[p].neg()));w=w.add(S)}return w.toP()};ha.prototype._wnafMul=function(t,r){var i=4,n=t._getNAFPoints(i);i=n.wnd;for(var s=n.points,u=R0(r,i,this._bitLength),p=this.jpoint(null,null,null),b=u.length-1;b>=0;b--){for(var m=0;b>=0&&u[b]===0;b--)m++;if(b>=0&&m++,p=p.dblp(m),b<0)break;var w=u[b];P0(w!==0),t.type==="affine"?w>0?p=p.mixedAdd(s[w-1>>1]):p=p.mixedAdd(s[-w-1>>1].neg()):w>0?p=p.add(s[w-1>>1]):p=p.add(s[-w-1>>1].neg())}return t.type==="affine"?p.toP():p};ha.prototype._wnafMulAdd=function(t,r,i,n,s){var u=this._wnafT1,p=this._wnafT2,b=this._wnafT3,m=0,w,S,D;for(w=0;w<n;w++){D=r[w];var N=D._getNAFPoints(t);u[w]=N.wnd,p[w]=N.points}for(w=n-1;w>=1;w-=2){var P=w-1,L=w;if(u[P]!==1||u[L]!==1){b[P]=R0(i[P],u[P],this._bitLength),b[L]=R0(i[L],u[L],this._bitLength),m=Math.max(b[P].length,m),m=Math.max(b[L].length,m);continue}var k=[r[P],null,null,r[L]];r[P].y.cmp(r[L].y)===0?(k[1]=r[P].add(r[L]),k[2]=r[P].toJ().mixedAdd(r[L].neg())):r[P].y.cmp(r[L].y.redNeg())===0?(k[1]=r[P].toJ().mixedAdd(r[L]),k[2]=r[P].add(r[L].neg())):(k[1]=r[P].toJ().mixedAdd(r[L]),k[2]=r[P].toJ().mixedAdd(r[L].neg()));var Y=[-3,-1,-5,-7,0,7,5,1,3],Q=WE(i[P],i[L]);for(m=Math.max(Q[0].length,m),b[P]=new Array(m),b[L]=new Array(m),S=0;S<m;S++){var X=Q[0][S]|0,$=Q[1][S]|0;b[P][S]=Y[(X+1)*3+($+1)],b[L][S]=0,p[P]=k}}var j=this.jpoint(null,null,null),K=this._wnafT4;for(w=m;w>=0;w--){for(var C=0;w>=0;){var z=!0;for(S=0;S<n;S++)K[S]=b[S][w]|0,K[S]!==0&&(z=!1);if(!z)break;C++,w--}if(w>=0&&C++,j=j.dblp(C),w<0)break;for(S=0;S<n;S++){var st=K[S];st!==0&&(st>0?D=p[S][st-1>>1]:st<0&&(D=p[S][-st-1>>1].neg()),D.type==="affine"?j=j.mixedAdd(D):j=j.add(D))}}for(w=0;w<n;w++)p[w]=null;return s?j:j.toP()};function Tn(e,t){this.curve=e,this.type=t,this.precomputed=null}ha.BasePoint=Tn;Tn.prototype.eq=function(){throw new Error("Not implemented")};Tn.prototype.validate=function(){return this.curve.validate(this)};ha.prototype.decodePoint=function(t,r){t=Du.toArray(t,r);var i=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*i){t[0]===6?P0(t[t.length-1]%2===0):t[0]===7&&P0(t[t.length-1]%2===1);var n=this.point(t.slice(1,1+i),t.slice(1+i,1+2*i));return n}else if((t[0]===2||t[0]===3)&&t.length-1===i)return this.pointFromX(t.slice(1,1+i),t[0]===3);throw new Error("Unknown point format")};Tn.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Tn.prototype._encode=function(t){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};Tn.prototype.encode=function(t,r){return Du.encode(this._encode(r),t)};Tn.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Tn.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Tn.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<r;s+=t){for(var u=0;u<t;u++)n=n.dbl();i.push(n)}return{step:t,points:i}};Tn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<t)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)r[s]=r[s-1].add(n);return{wnd:t,points:r}};Tn.prototype._getBeta=function(){return null};Tn.prototype.dblp=function(t){for(var r=this,i=0;i<t;i++)r=r.dbl();return r};var XE=an,yr=To,p2=nl,Wf=sl,ZE=XE.assert;function Fn(e){Wf.call(this,"short",e),this.a=new yr(e.a,16).toRed(this.red),this.b=new yr(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}p2(Fn,Wf);var tM=Fn;Fn.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(t.beta)r=new yr(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(t.lambda)i=new yr(t.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?i=s[0]:(i=s[1],ZE(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var u;return t.basis?u=t.basis.map(function(p){return{a:new yr(p.a,16),b:new yr(p.b,16)}}):u=this._getEndoBasis(i),{beta:r,lambda:i,basis:u}}};Fn.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:yr.mont(t),i=new yr(2).toRed(r).redInvm(),n=i.redNeg(),s=new yr(3).toRed(r).redNeg().redSqrt().redMul(i),u=n.redAdd(s).fromRed(),p=n.redSub(s).fromRed();return[u,p]};Fn.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=t,n=this.n.clone(),s=new yr(1),u=new yr(0),p=new yr(0),b=new yr(1),m,w,S,D,N,P,L,k=0,Y,Q;i.cmpn(0)!==0;){var X=n.div(i);Y=n.sub(X.mul(i)),Q=p.sub(X.mul(s));var $=b.sub(X.mul(u));if(!S&&Y.cmp(r)<0)m=L.neg(),w=s,S=Y.neg(),D=Q;else if(S&&++k===2)break;L=Y,n=i,i=Y,p=s,s=Q,b=u,u=$}N=Y.neg(),P=Q;var j=S.sqr().add(D.sqr()),K=N.sqr().add(P.sqr());return K.cmp(j)>=0&&(N=m,P=w),S.negative&&(S=S.neg(),D=D.neg()),N.negative&&(N=N.neg(),P=P.neg()),[{a:S,b:D},{a:N,b:P}]};Fn.prototype._endoSplit=function(t){var r=this.endo.basis,i=r[0],n=r[1],s=n.b.mul(t).divRound(this.n),u=i.b.neg().mul(t).divRound(this.n),p=s.mul(i.a),b=u.mul(n.a),m=s.mul(i.b),w=u.mul(n.b),S=t.sub(p).sub(b),D=m.add(w).neg();return{k1:S,k2:D}};Fn.prototype.pointFromX=function(t,r){t=new yr(t,16),t.red||(t=t.toRed(this.red));var i=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(r&&!s||!r&&s)&&(n=n.redNeg()),this.point(t,n)};Fn.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,i=t.y,n=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};Fn.prototype._endoWnafMulAdd=function(t,r,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,u=0;u<t.length;u++){var p=this._endoSplit(r[u]),b=t[u],m=b._getBeta();p.k1.negative&&(p.k1.ineg(),b=b.neg(!0)),p.k2.negative&&(p.k2.ineg(),m=m.neg(!0)),n[u*2]=b,n[u*2+1]=m,s[u*2]=p.k1,s[u*2+1]=p.k2}for(var w=this._wnafMulAdd(1,n,s,u*2,i),S=0;S<u*2;S++)n[S]=null,s[S]=null;return w};function Yr(e,t,r,i){Wf.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new yr(t,16),this.y=new yr(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}p2(Yr,Wf.BasePoint);Fn.prototype.point=function(t,r,i){return new Yr(this,t,r,i)};Fn.prototype.pointFromJSON=function(t,r){return Yr.fromJSON(this,t,r)};Yr.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return r}};Yr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Yr.fromJSON=function(t,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=t.point(r[0],r[1],i);if(!r[2])return n;function s(p){return t.point(p[0],p[1],i)}var u=r[2];return n.precomputed={beta:null,doubles:u.doubles&&{step:u.doubles.step,points:[n].concat(u.doubles.points.map(s))},naf:u.naf&&{wnd:u.naf.wnd,points:[n].concat(u.naf.points.map(s))}},n};Yr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Yr.prototype.isInfinity=function(){return this.inf};Yr.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(t.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};Yr.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=t.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),u=s.redSqr().redISub(this.x.redAdd(this.x)),p=s.redMul(this.x.redSub(u)).redISub(this.y);return this.curve.point(u,p)};Yr.prototype.getX=function(){return this.x.fromRed()};Yr.prototype.getY=function(){return this.y.fromRed()};Yr.prototype.mul=function(t){return t=new yr(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};Yr.prototype.mulAdd=function(t,r,i){var n=[this,r],s=[t,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};Yr.prototype.jmulAdd=function(t,r,i){var n=[this,r],s=[t,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};Yr.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Yr.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};Yr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function ii(e,t,r,i){Wf.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new yr(0)):(this.x=new yr(t,16),this.y=new yr(r,16),this.z=new yr(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}p2(ii,Wf.BasePoint);Fn.prototype.jpoint=function(t,r,i){return new ii(this,t,r,i)};ii.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(t);return this.curve.point(i,n)};ii.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ii.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),s=t.x.redMul(i),u=this.y.redMul(r.redMul(t.z)),p=t.y.redMul(i.redMul(this.z)),b=n.redSub(s),m=u.redSub(p);if(b.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=b.redSqr(),S=w.redMul(b),D=n.redMul(w),N=m.redSqr().redIAdd(S).redISub(D).redISub(D),P=m.redMul(D.redISub(N)).redISub(u.redMul(S)),L=this.z.redMul(t.z).redMul(b);return this.curve.jpoint(N,P,L)};ii.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=t.x.redMul(r),s=this.y,u=t.y.redMul(r).redMul(this.z),p=i.redSub(n),b=s.redSub(u);if(p.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=p.redSqr(),w=m.redMul(p),S=i.redMul(m),D=b.redSqr().redIAdd(w).redISub(S).redISub(S),N=b.redMul(S.redISub(D)).redISub(s.redMul(w)),P=this.z.redMul(p);return this.curve.jpoint(D,N,P)};ii.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<t;r++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,u=this.x,p=this.y,b=this.z,m=b.redSqr().redSqr(),w=p.redAdd(p);for(r=0;r<t;r++){var S=u.redSqr(),D=w.redSqr(),N=D.redSqr(),P=S.redAdd(S).redIAdd(S).redIAdd(n.redMul(m)),L=u.redMul(D),k=P.redSqr().redISub(L.redAdd(L)),Y=L.redISub(k),Q=P.redMul(Y);Q=Q.redIAdd(Q).redISub(N);var X=w.redMul(b);r+1<t&&(m=m.redMul(N)),u=k,b=X,w=Q}return this.curve.jpoint(u,w.redMul(s),b)};ii.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ii.prototype._zeroDbl=function(){var t,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),u=s.redSqr(),p=this.x.redAdd(s).redSqr().redISub(n).redISub(u);p=p.redIAdd(p);var b=n.redAdd(n).redIAdd(n),m=b.redSqr().redISub(p).redISub(p),w=u.redIAdd(u);w=w.redIAdd(w),w=w.redIAdd(w),t=m,r=b.redMul(p.redISub(m)).redISub(w),i=this.y.redAdd(this.y)}else{var S=this.x.redSqr(),D=this.y.redSqr(),N=D.redSqr(),P=this.x.redAdd(D).redSqr().redISub(S).redISub(N);P=P.redIAdd(P);var L=S.redAdd(S).redIAdd(S),k=L.redSqr(),Y=N.redIAdd(N);Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),t=k.redISub(P).redISub(P),r=L.redMul(P.redISub(t)).redISub(Y),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(t,r,i)};ii.prototype._threeDbl=function(){var t,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),u=s.redSqr(),p=this.x.redAdd(s).redSqr().redISub(n).redISub(u);p=p.redIAdd(p);var b=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),m=b.redSqr().redISub(p).redISub(p);t=m;var w=u.redIAdd(u);w=w.redIAdd(w),w=w.redIAdd(w),r=b.redMul(p.redISub(m)).redISub(w),i=this.y.redAdd(this.y)}else{var S=this.z.redSqr(),D=this.y.redSqr(),N=this.x.redMul(D),P=this.x.redSub(S).redMul(this.x.redAdd(S));P=P.redAdd(P).redIAdd(P);var L=N.redIAdd(N);L=L.redIAdd(L);var k=L.redAdd(L);t=P.redSqr().redISub(k),i=this.y.redAdd(this.z).redSqr().redISub(D).redISub(S);var Y=D.redSqr();Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),r=P.redMul(L.redISub(t)).redISub(Y)}return this.curve.jpoint(t,r,i)};ii.prototype._dbl=function(){var t=this.curve.a,r=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),u=r.redSqr(),p=i.redSqr(),b=u.redAdd(u).redIAdd(u).redIAdd(t.redMul(s)),m=r.redAdd(r);m=m.redIAdd(m);var w=m.redMul(p),S=b.redSqr().redISub(w.redAdd(w)),D=w.redISub(S),N=p.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var P=b.redMul(D).redISub(N),L=i.redAdd(i).redMul(n);return this.curve.jpoint(S,P,L)};ii.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),s=t.redAdd(t).redIAdd(t),u=s.redSqr(),p=this.x.redAdd(r).redSqr().redISub(t).redISub(n);p=p.redIAdd(p),p=p.redAdd(p).redIAdd(p),p=p.redISub(u);var b=p.redSqr(),m=n.redIAdd(n);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var w=s.redIAdd(p).redSqr().redISub(u).redISub(b).redISub(m),S=r.redMul(w);S=S.redIAdd(S),S=S.redIAdd(S);var D=this.x.redMul(b).redISub(S);D=D.redIAdd(D),D=D.redIAdd(D);var N=this.y.redMul(w.redMul(m.redISub(w)).redISub(p.redMul(b)));N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var P=this.z.redAdd(p).redSqr().redISub(i).redISub(b);return this.curve.jpoint(D,N,P)};ii.prototype.mul=function(t,r){return t=new yr(t,r),this.curve._wnafMul(this,t)};ii.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),i=t.z.redSqr();if(this.x.redMul(i).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),s=i.redMul(t.z);return this.y.redMul(s).redISub(t.y.redMul(n)).cmpn(0)===0};ii.prototype.eqXToP=function(t){var r=this.z.redSqr(),i=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=t.clone(),s=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};ii.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ii.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Rf=To,db=nl,ol=sl,eM=an;function Xf(e){ol.call(this,"mont",e),this.a=new Rf(e.a,16).toRed(this.red),this.b=new Rf(e.b,16).toRed(this.red),this.i4=new Rf(4).toRed(this.red).redInvm(),this.two=new Rf(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}db(Xf,ol);var rM=Xf;Xf.prototype.validate=function(t){var r=t.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),s=n.redSqrt();return s.redSqr().cmp(n)===0};function Jr(e,t,r){ol.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Rf(t,16),this.z=new Rf(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}db(Jr,ol.BasePoint);Xf.prototype.decodePoint=function(t,r){return this.point(eM.toArray(t,r),1)};Xf.prototype.point=function(t,r){return new Jr(this,t,r)};Xf.prototype.pointFromJSON=function(t){return Jr.fromJSON(this,t)};Jr.prototype.precompute=function(){};Jr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Jr.fromJSON=function(t,r){return new Jr(t,r[0],r[1]||t.one)};Jr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Jr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Jr.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),s=r.redSub(n),u=r.redMul(n),p=s.redMul(n.redAdd(this.curve.a24.redMul(s)));return this.curve.point(u,p)};Jr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Jr.prototype.diffAdd=function(t,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),s=t.x.redAdd(t.z),u=t.x.redSub(t.z),p=u.redMul(i),b=s.redMul(n),m=r.z.redMul(p.redAdd(b).redSqr()),w=r.x.redMul(p.redISub(b).redSqr());return this.curve.point(m,w)};Jr.prototype.mul=function(t){for(var r=t.clone(),i=this,n=this.curve.point(null,null),s=this,u=[];r.cmpn(0)!==0;r.iushrn(1))u.push(r.andln(1));for(var p=u.length-1;p>=0;p--)u[p]===0?(i=i.diffAdd(n,s),n=n.dbl()):(n=i.diffAdd(n,s),i=i.dbl());return n};Jr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Jr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Jr.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};Jr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Jr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var iM=an,Ro=To,pb=nl,al=sl,nM=iM.assert;function Zs(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,al.call(this,"edwards",e),this.a=new Ro(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ro(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ro(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),nM(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}pb(Zs,al);var sM=Zs;Zs.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};Zs.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};Zs.prototype.jpoint=function(t,r,i,n){return this.point(t,r,i,n)};Zs.prototype.pointFromX=function(t,r){t=new Ro(t,16),t.red||(t=t.toRed(this.red));var i=t.redSqr(),n=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),u=n.redMul(s.redInvm()),p=u.redSqrt();if(p.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");var b=p.fromRed().isOdd();return(r&&!b||!r&&b)&&(p=p.redNeg()),this.point(t,p)};Zs.prototype.pointFromY=function(t,r){t=new Ro(t,16),t.red||(t=t.toRed(this.red));var i=t.redSqr(),n=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),u=n.redMul(s.redInvm());if(u.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var p=u.redSqrt();if(p.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");return p.fromRed().isOdd()!==r&&(p=p.redNeg()),this.point(p,t)};Zs.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),i=t.y.redSqr(),n=r.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(s)===0};function ar(e,t,r,i,n){al.BasePoint.call(this,e,"projective"),t===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ro(t,16),this.y=new Ro(r,16),this.z=i?new Ro(i,16):this.curve.one,this.t=n&&new Ro(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}pb(ar,al.BasePoint);Zs.prototype.pointFromJSON=function(t){return ar.fromJSON(this,t)};Zs.prototype.point=function(t,r,i,n){return new ar(this,t,r,i,n)};ar.fromJSON=function(t,r){return new ar(t,r[0],r[1],r[2])};ar.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ar.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};ar.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(t),s=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),u=n.redAdd(r),p=u.redSub(i),b=n.redSub(r),m=s.redMul(p),w=u.redMul(b),S=s.redMul(b),D=p.redMul(u);return this.curve.point(m,w,D,S)};ar.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,s,u,p,b,m;if(this.curve.twisted){p=this.curve._mulA(r);var w=p.redAdd(i);this.zOne?(n=t.redSub(r).redSub(i).redMul(w.redSub(this.curve.two)),s=w.redMul(p.redSub(i)),u=w.redSqr().redSub(w).redSub(w)):(b=this.z.redSqr(),m=w.redSub(b).redISub(b),n=t.redSub(r).redISub(i).redMul(m),s=w.redMul(p.redSub(i)),u=w.redMul(m))}else p=r.redAdd(i),b=this.curve._mulC(this.z).redSqr(),m=p.redSub(b).redSub(b),n=this.curve._mulC(t.redISub(p)).redMul(m),s=this.curve._mulC(p).redMul(r.redISub(i)),u=p.redMul(m);return this.curve.point(n,s,u)};ar.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};ar.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),i=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),s=this.z.redMul(t.z.redAdd(t.z)),u=i.redSub(r),p=s.redSub(n),b=s.redAdd(n),m=i.redAdd(r),w=u.redMul(p),S=b.redMul(m),D=u.redMul(m),N=p.redMul(b);return this.curve.point(w,S,N,D)};ar.prototype._projAdd=function(t){var r=this.z.redMul(t.z),i=r.redSqr(),n=this.x.redMul(t.x),s=this.y.redMul(t.y),u=this.curve.d.redMul(n).redMul(s),p=i.redSub(u),b=i.redAdd(u),m=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(n).redISub(s),w=r.redMul(p).redMul(m),S,D;return this.curve.twisted?(S=r.redMul(b).redMul(s.redSub(this.curve._mulA(n))),D=p.redMul(b)):(S=r.redMul(b).redMul(s.redSub(n)),D=this.curve._mulC(p).redMul(b)),this.curve.point(w,S,D)};ar.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};ar.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};ar.prototype.mulAdd=function(t,r,i){return this.curve._wnafMulAdd(1,[this,r],[t,i],2,!1)};ar.prototype.jmulAdd=function(t,r,i){return this.curve._wnafMulAdd(1,[this,r],[t,i],2,!0)};ar.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};ar.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};ar.prototype.getX=function(){return this.normalize(),this.x.fromRed()};ar.prototype.getY=function(){return this.normalize(),this.y.fromRed()};ar.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};ar.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=t.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};ar.prototype.toP=ar.prototype.normalize;ar.prototype.mixedAdd=ar.prototype.add;(function(e){var t=e;t.base=sl,t.short=tM,t.mont=rM,t.edwards=sM})(d2);var fl={},hl={},Te={},oM=$a,aM=nl;Te.inherits=aM;function fM(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function hM(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var s=e.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):fM(e,n)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}Te.toArray=hM;function uM(e){for(var t="",r=0;r<e.length;r++)t+=mb(e[r].toString(16));return t}Te.toHex=uM;function gb(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Te.htonl=gb;function cM(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=gb(n)),r+=vb(n.toString(16))}return r}Te.toHex32=cM;function mb(e){return e.length===1?"0"+e:e}Te.zero2=mb;function vb(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Te.zero8=vb;function lM(e,t,r,i){var n=r-t;oM(n%4===0);for(var s=new Array(n/4),u=0,p=t;u<s.length;u++,p+=4){var b;i==="big"?b=e[p]<<24|e[p+1]<<16|e[p+2]<<8|e[p+3]:b=e[p+3]<<24|e[p+2]<<16|e[p+1]<<8|e[p],s[u]=b>>>0}return s}Te.join32=lM;function dM(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var s=e[i];t==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}Te.split32=dM;function pM(e,t){return e>>>t|e<<32-t}Te.rotr32=pM;function gM(e,t){return e<<t|e>>>32-t}Te.rotl32=gM;function mM(e,t){return e+t>>>0}Te.sum32=mM;function vM(e,t,r){return e+t+r>>>0}Te.sum32_3=vM;function bM(e,t,r,i){return e+t+r+i>>>0}Te.sum32_4=bM;function yM(e,t,r,i,n){return e+t+r+i+n>>>0}Te.sum32_5=yM;function wM(e,t,r,i){var n=e[t],s=e[t+1],u=i+s>>>0,p=(u<i?1:0)+r+n;e[t]=p>>>0,e[t+1]=u}Te.sum64=wM;function AM(e,t,r,i){var n=t+i>>>0,s=(n<t?1:0)+e+r;return s>>>0}Te.sum64_hi=AM;function _M(e,t,r,i){var n=t+i;return n>>>0}Te.sum64_lo=_M;function EM(e,t,r,i,n,s,u,p){var b=0,m=t;m=m+i>>>0,b+=m<t?1:0,m=m+s>>>0,b+=m<s?1:0,m=m+p>>>0,b+=m<p?1:0;var w=e+r+n+u+b;return w>>>0}Te.sum64_4_hi=EM;function MM(e,t,r,i,n,s,u,p){var b=t+i+s+p;return b>>>0}Te.sum64_4_lo=MM;function SM(e,t,r,i,n,s,u,p,b,m){var w=0,S=t;S=S+i>>>0,w+=S<t?1:0,S=S+s>>>0,w+=S<s?1:0,S=S+p>>>0,w+=S<p?1:0,S=S+m>>>0,w+=S<m?1:0;var D=e+r+n+u+b+w;return D>>>0}Te.sum64_5_hi=SM;function xM(e,t,r,i,n,s,u,p,b,m){var w=t+i+s+p+m;return w>>>0}Te.sum64_5_lo=xM;function IM(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}Te.rotr64_hi=IM;function DM(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Te.rotr64_lo=DM;function NM(e,t,r){return e>>>r}Te.shr64_hi=NM;function CM(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Te.shr64_lo=CM;var Zf={},Q3=Te,RM=$a;function ul(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Zf.BlockHash=ul;ul.prototype.update=function(t,r){if(t=Q3.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var i=t.length%this._delta8;this.pending=t.slice(t.length-i,t.length),this.pending.length===0&&(this.pending=null),t=Q3.join32(t,0,t.length-i,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this};ul.prototype.digest=function(t){return this.update(this._pad()),RM(this.pending===null),this._digest(t)};ul.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,i=r-(t+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var s=1;s<i;s++)n[s]=0;if(t<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=t>>>24&255,n[s++]=t>>>16&255,n[s++]=t>>>8&255,n[s++]=t&255}else for(n[s++]=t&255,n[s++]=t>>>8&255,n[s++]=t>>>16&255,n[s++]=t>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,u=8;u<this.padLength;u++)n[s++]=0;return n};var th={},to={},PM=Te,Ts=PM.rotr32;function OM(e,t,r,i){if(e===0)return bb(t,r,i);if(e===1||e===3)return wb(t,r,i);if(e===2)return yb(t,r,i)}to.ft_1=OM;function bb(e,t,r){return e&t^~e&r}to.ch32=bb;function yb(e,t,r){return e&t^e&r^t&r}to.maj32=yb;function wb(e,t,r){return e^t^r}to.p32=wb;function BM(e){return Ts(e,2)^Ts(e,13)^Ts(e,22)}to.s0_256=BM;function TM(e){return Ts(e,6)^Ts(e,11)^Ts(e,25)}to.s1_256=TM;function FM(e){return Ts(e,7)^Ts(e,18)^e>>>3}to.g0_256=FM;function UM(e){return Ts(e,17)^Ts(e,19)^e>>>10}to.g1_256=UM;var Lf=Te,qM=Zf,LM=to,Qd=Lf.rotl32,Lh=Lf.sum32,kM=Lf.sum32_5,zM=LM.ft_1,Ab=qM.BlockHash,$M=[1518500249,1859775393,2400959708,3395469782];function Js(){if(!(this instanceof Js))return new Js;Ab.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Lf.inherits(Js,Ab);var HM=Js;Js.blockSize=512;Js.outSize=160;Js.hmacStrength=80;Js.padLength=64;Js.prototype._update=function(t,r){for(var i=this.W,n=0;n<16;n++)i[n]=t[r+n];for(;n<i.length;n++)i[n]=Qd(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var s=this.h[0],u=this.h[1],p=this.h[2],b=this.h[3],m=this.h[4];for(n=0;n<i.length;n++){var w=~~(n/20),S=kM(Qd(s,5),zM(w,u,p,b),m,i[n],$M[w]);m=b,b=p,p=Qd(u,30),u=s,s=S}this.h[0]=Lh(this.h[0],s),this.h[1]=Lh(this.h[1],u),this.h[2]=Lh(this.h[2],p),this.h[3]=Lh(this.h[3],b),this.h[4]=Lh(this.h[4],m)};Js.prototype._digest=function(t){return t==="hex"?Lf.toHex32(this.h,"big"):Lf.split32(this.h,"big")};var kf=Te,jM=Zf,eh=to,KM=$a,$n=kf.sum32,GM=kf.sum32_4,QM=kf.sum32_5,VM=eh.ch32,JM=eh.maj32,YM=eh.s0_256,WM=eh.s1_256,XM=eh.g0_256,ZM=eh.g1_256,_b=jM.BlockHash,tS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ys(){if(!(this instanceof Ys))return new Ys;_b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=tS,this.W=new Array(64)}kf.inherits(Ys,_b);var Eb=Ys;Ys.blockSize=512;Ys.outSize=256;Ys.hmacStrength=192;Ys.padLength=64;Ys.prototype._update=function(t,r){for(var i=this.W,n=0;n<16;n++)i[n]=t[r+n];for(;n<i.length;n++)i[n]=GM(ZM(i[n-2]),i[n-7],XM(i[n-15]),i[n-16]);var s=this.h[0],u=this.h[1],p=this.h[2],b=this.h[3],m=this.h[4],w=this.h[5],S=this.h[6],D=this.h[7];for(KM(this.k.length===i.length),n=0;n<i.length;n++){var N=QM(D,WM(m),VM(m,w,S),this.k[n],i[n]),P=$n(YM(s),JM(s,u,p));D=S,S=w,w=m,m=$n(b,N),b=p,p=u,u=s,s=$n(N,P)}this.h[0]=$n(this.h[0],s),this.h[1]=$n(this.h[1],u),this.h[2]=$n(this.h[2],p),this.h[3]=$n(this.h[3],b),this.h[4]=$n(this.h[4],m),this.h[5]=$n(this.h[5],w),this.h[6]=$n(this.h[6],S),this.h[7]=$n(this.h[7],D)};Ys.prototype._digest=function(t){return t==="hex"?kf.toHex32(this.h,"big"):kf.split32(this.h,"big")};var dp=Te,Mb=Eb;function Po(){if(!(this instanceof Po))return new Po;Mb.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}dp.inherits(Po,Mb);var eS=Po;Po.blockSize=512;Po.outSize=224;Po.hmacStrength=192;Po.padLength=64;Po.prototype._digest=function(t){return t==="hex"?dp.toHex32(this.h.slice(0,7),"big"):dp.split32(this.h.slice(0,7),"big")};var ji=Te,rS=Zf,iS=$a,Fs=ji.rotr64_hi,Us=ji.rotr64_lo,Sb=ji.shr64_hi,xb=ji.shr64_lo,Go=ji.sum64,Vd=ji.sum64_hi,Jd=ji.sum64_lo,nS=ji.sum64_4_hi,sS=ji.sum64_4_lo,oS=ji.sum64_5_hi,aS=ji.sum64_5_lo,Ib=rS.BlockHash,fS=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function hs(){if(!(this instanceof hs))return new hs;Ib.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=fS,this.W=new Array(160)}ji.inherits(hs,Ib);var Db=hs;hs.blockSize=1024;hs.outSize=512;hs.hmacStrength=192;hs.padLength=128;hs.prototype._prepareBlock=function(t,r){for(var i=this.W,n=0;n<32;n++)i[n]=t[r+n];for(;n<i.length;n+=2){var s=yS(i[n-4],i[n-3]),u=wS(i[n-4],i[n-3]),p=i[n-14],b=i[n-13],m=vS(i[n-30],i[n-29]),w=bS(i[n-30],i[n-29]),S=i[n-32],D=i[n-31];i[n]=nS(s,u,p,b,m,w,S,D),i[n+1]=sS(s,u,p,b,m,w,S,D)}};hs.prototype._update=function(t,r){this._prepareBlock(t,r);var i=this.W,n=this.h[0],s=this.h[1],u=this.h[2],p=this.h[3],b=this.h[4],m=this.h[5],w=this.h[6],S=this.h[7],D=this.h[8],N=this.h[9],P=this.h[10],L=this.h[11],k=this.h[12],Y=this.h[13],Q=this.h[14],X=this.h[15];iS(this.k.length===i.length);for(var $=0;$<i.length;$+=2){var j=Q,K=X,C=gS(D,N),z=mS(D,N),st=hS(D,N,P,L,k),dt=uS(D,N,P,L,k,Y),H=this.k[$],I=this.k[$+1],o=i[$],h=i[$+1],c=oS(j,K,C,z,st,dt,H,I,o,h),v=aS(j,K,C,z,st,dt,H,I,o,h);j=dS(n,s),K=pS(n,s),C=cS(n,s,u,p,b),z=lS(n,s,u,p,b,m);var y=Vd(j,K,C,z),M=Jd(j,K,C,z);Q=k,X=Y,k=P,Y=L,P=D,L=N,D=Vd(w,S,c,v),N=Jd(S,S,c,v),w=b,S=m,b=u,m=p,u=n,p=s,n=Vd(c,v,y,M),s=Jd(c,v,y,M)}Go(this.h,0,n,s),Go(this.h,2,u,p),Go(this.h,4,b,m),Go(this.h,6,w,S),Go(this.h,8,D,N),Go(this.h,10,P,L),Go(this.h,12,k,Y),Go(this.h,14,Q,X)};hs.prototype._digest=function(t){return t==="hex"?ji.toHex32(this.h,"big"):ji.split32(this.h,"big")};function hS(e,t,r,i,n){var s=e&r^~e&n;return s<0&&(s+=4294967296),s}function uS(e,t,r,i,n,s){var u=t&i^~t&s;return u<0&&(u+=4294967296),u}function cS(e,t,r,i,n){var s=e&r^e&n^r&n;return s<0&&(s+=4294967296),s}function lS(e,t,r,i,n,s){var u=t&i^t&s^i&s;return u<0&&(u+=4294967296),u}function dS(e,t){var r=Fs(e,t,28),i=Fs(t,e,2),n=Fs(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function pS(e,t){var r=Us(e,t,28),i=Us(t,e,2),n=Us(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function gS(e,t){var r=Fs(e,t,14),i=Fs(e,t,18),n=Fs(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function mS(e,t){var r=Us(e,t,14),i=Us(e,t,18),n=Us(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function vS(e,t){var r=Fs(e,t,1),i=Fs(e,t,8),n=Sb(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function bS(e,t){var r=Us(e,t,1),i=Us(e,t,8),n=xb(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function yS(e,t){var r=Fs(e,t,19),i=Fs(t,e,29),n=Sb(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}function wS(e,t){var r=Us(e,t,19),i=Us(t,e,29),n=xb(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}var pp=Te,Nb=Db;function Oo(){if(!(this instanceof Oo))return new Oo;Nb.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}pp.inherits(Oo,Nb);var AS=Oo;Oo.blockSize=1024;Oo.outSize=384;Oo.hmacStrength=192;Oo.padLength=128;Oo.prototype._digest=function(t){return t==="hex"?pp.toHex32(this.h.slice(0,12),"big"):pp.split32(this.h.slice(0,12),"big")};th.sha1=HM;th.sha224=eS;th.sha256=Eb;th.sha384=AS;th.sha512=Db;var Cb={},qa=Te,_S=Zf,Gc=qa.rotl32,V3=qa.sum32,kh=qa.sum32_3,J3=qa.sum32_4,Rb=_S.BlockHash;function Ws(){if(!(this instanceof Ws))return new Ws;Rb.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}qa.inherits(Ws,Rb);Cb.ripemd160=Ws;Ws.blockSize=512;Ws.outSize=160;Ws.hmacStrength=192;Ws.padLength=64;Ws.prototype._update=function(t,r){for(var i=this.h[0],n=this.h[1],s=this.h[2],u=this.h[3],p=this.h[4],b=i,m=n,w=s,S=u,D=p,N=0;N<80;N++){var P=V3(Gc(J3(i,Y3(N,n,s,u),t[SS[N]+r],ES(N)),IS[N]),p);i=p,p=u,u=Gc(s,10),s=n,n=P,P=V3(Gc(J3(b,Y3(79-N,m,w,S),t[xS[N]+r],MS(N)),DS[N]),D),b=D,D=S,S=Gc(w,10),w=m,m=P}P=kh(this.h[1],s,S),this.h[1]=kh(this.h[2],u,D),this.h[2]=kh(this.h[3],p,b),this.h[3]=kh(this.h[4],i,m),this.h[4]=kh(this.h[0],n,w),this.h[0]=P};Ws.prototype._digest=function(t){return t==="hex"?qa.toHex32(this.h,"little"):qa.split32(this.h,"little")};function Y3(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function ES(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function MS(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var SS=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],xS=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],IS=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],DS=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],NS=Te,CS=$a;function zf(e,t,r){if(!(this instanceof zf))return new zf(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(NS.toArray(t,r))}var RS=zf;zf.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),CS(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)};zf.prototype.update=function(t,r){return this.inner.update(t,r),this};zf.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(e){var t=e;t.utils=Te,t.common=Zf,t.sha=th,t.ripemd=Cb,t.hmac=RS,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(hl);var Yd,W3;function PS(){return W3||(W3=1,Yd={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Yd}(function(e){var t=e,r=hl,i=d2,n=an,s=n.assert;function u(m){m.type==="short"?this.curve=new i.short(m):m.type==="edwards"?this.curve=new i.edwards(m):this.curve=new i.mont(m),this.g=this.curve.g,this.n=this.curve.n,this.hash=m.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=u;function p(m,w){Object.defineProperty(t,m,{configurable:!0,enumerable:!0,get:function(){var S=new u(w);return Object.defineProperty(t,m,{configurable:!0,enumerable:!0,value:S}),S}})}p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var b;try{b=PS()}catch{b=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",b]})})(fl);var OS=hl,Ba=c2,Pb=$a;function fa(e){if(!(this instanceof fa))return new fa(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Ba.toArray(e.entropy,e.entropyEnc||"hex"),r=Ba.toArray(e.nonce,e.nonceEnc||"hex"),i=Ba.toArray(e.pers,e.persEnc||"hex");Pb(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var BS=fa;fa.prototype._init=function(t,r,i){var n=t.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};fa.prototype._hmac=function(){return new OS.hmac(this.hash,this.K)};fa.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};fa.prototype.reseed=function(t,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),t=Ba.toArray(t,r),i=Ba.toArray(i,n),Pb(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(i||[])),this._reseed=1};fa.prototype.generate=function(t,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=Ba.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var u=s.slice(0,t);return this._update(i),this._reseed++,Ba.encode(u,r)};var TS=To,FS=an,gp=FS.assert;function li(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var US=li;li.fromPublic=function(t,r,i){return r instanceof li?r:new li(t,{pub:r,pubEnc:i})};li.fromPrivate=function(t,r,i){return r instanceof li?r:new li(t,{priv:r,privEnc:i})};li.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};li.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};li.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};li.prototype._importPrivate=function(t,r){this.priv=new TS(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};li.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?gp(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&gp(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};li.prototype.derive=function(t){return t.validate()||gp(t.validate(),"public point not validated"),t.mul(this.priv).getX()};li.prototype.sign=function(t,r,i){return this.ec.sign(t,this,r,i)};li.prototype.verify=function(t,r,i){return this.ec.verify(t,r,this,void 0,i)};li.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var O0=To,g2=an,qS=g2.assert;function cl(e,t){if(e instanceof cl)return e;this._importDER(e,t)||(qS(e.r&&e.s,"Signature without r or s"),this.r=new O0(e.r,16),this.s=new O0(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var LS=cl;function kS(){this.place=0}function Wd(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4||e[t.place]===0)return!1;for(var n=0,s=0,u=t.place;s<i;s++,u++)n<<=8,n|=e[u],n>>>=0;return n<=127?!1:(t.place=u,n)}function X3(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}cl.prototype._importDER=function(t,r){t=g2.toArray(t,r);var i=new kS;if(t[i.place++]!==48)return!1;var n=Wd(t,i);if(n===!1||n+i.place!==t.length||t[i.place++]!==2)return!1;var s=Wd(t,i);if(s===!1||t[i.place]&128)return!1;var u=t.slice(i.place,s+i.place);if(i.place+=s,t[i.place++]!==2)return!1;var p=Wd(t,i);if(p===!1||t.length!==p+i.place||t[i.place]&128)return!1;var b=t.slice(i.place,p+i.place);if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;if(b[0]===0)if(b[1]&128)b=b.slice(1);else return!1;return this.r=new O0(u),this.s=new O0(b),this.recoveryParam=null,!0};function Xd(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}cl.prototype.toDER=function(t){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=X3(r),i=X3(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];Xd(n,r.length),n=n.concat(r),n.push(2),Xd(n,i.length);var s=n.concat(i),u=[48];return Xd(u,s.length),u=u.concat(s),g2.encode(u,t)};var ns=To,Ob=BS,zS=an,Zd=fl,$S=lb,Ca=zS.assert,m2=US,ll=LS;function On(e){if(!(this instanceof On))return new On(e);typeof e=="string"&&(Ca(Object.prototype.hasOwnProperty.call(Zd,e),"Unknown curve "+e),e=Zd[e]),e instanceof Zd.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var HS=On;On.prototype.keyPair=function(t){return new m2(this,t)};On.prototype.keyFromPrivate=function(t,r){return m2.fromPrivate(this,t,r)};On.prototype.keyFromPublic=function(t,r){return m2.fromPublic(this,t,r)};On.prototype.genKeyPair=function(t){t||(t={});for(var r=new Ob({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||$S(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new ns(2));;){var s=new ns(r.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};On.prototype._truncateToN=function(t,r,i){var n;if(ns.isBN(t)||typeof t=="number")t=new ns(t,16),n=t.byteLength();else if(typeof t=="object")n=t.length,t=new ns(t,16);else{var s=t.toString();n=s.length+1>>>1,t=new ns(s,16)}typeof i!="number"&&(i=n*8);var u=i-this.n.bitLength();return u>0&&(t=t.ushrn(u)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};On.prototype.sign=function(t,r,i,n){if(typeof i=="object"&&(n=i,i=null),n||(n={}),typeof t!="string"&&typeof t!="number"&&!ns.isBN(t)){Ca(typeof t=="object"&&t&&typeof t.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Ca(t.length>>>0===t.length);for(var s=0;s<t.length;s++)Ca((t[s]&255)===t[s])}r=this.keyFromPrivate(r,i),t=this._truncateToN(t,!1,n.msgBitLength),Ca(!t.isNeg(),"Can not sign a negative message");var u=this.n.byteLength(),p=r.getPrivate().toArray("be",u),b=t.toArray("be",u);Ca(new ns(b).eq(t),"Can not sign message");for(var m=new Ob({hash:this.hash,entropy:p,nonce:b,pers:n.pers,persEnc:n.persEnc||"utf8"}),w=this.n.sub(new ns(1)),S=0;;S++){var D=n.k?n.k(S):new ns(m.generate(this.n.byteLength()));if(D=this._truncateToN(D,!0),!(D.cmpn(1)<=0||D.cmp(w)>=0)){var N=this.g.mul(D);if(!N.isInfinity()){var P=N.getX(),L=P.umod(this.n);if(L.cmpn(0)!==0){var k=D.invm(this.n).mul(L.mul(r.getPrivate()).iadd(t));if(k=k.umod(this.n),k.cmpn(0)!==0){var Y=(N.getY().isOdd()?1:0)|(P.cmp(L)!==0?2:0);return n.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),Y^=1),new ll({r:L,s:k,recoveryParam:Y})}}}}}};On.prototype.verify=function(t,r,i,n,s){s||(s={}),t=this._truncateToN(t,!1,s.msgBitLength),i=this.keyFromPublic(i,n),r=new ll(r,"hex");var u=r.r,p=r.s;if(u.cmpn(1)<0||u.cmp(this.n)>=0||p.cmpn(1)<0||p.cmp(this.n)>=0)return!1;var b=p.invm(this.n),m=b.mul(t).umod(this.n),w=b.mul(u).umod(this.n),S;return this.curve._maxwellTrick?(S=this.g.jmulAdd(m,i.getPublic(),w),S.isInfinity()?!1:S.eqXToP(u)):(S=this.g.mulAdd(m,i.getPublic(),w),S.isInfinity()?!1:S.getX().umod(this.n).cmp(u)===0)};On.prototype.recoverPubKey=function(e,t,r,i){Ca((3&r)===r,"The recovery param is more than two bits"),t=new ll(t,i);var n=this.n,s=new ns(e),u=t.r,p=t.s,b=r&1,m=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?u=this.curve.pointFromX(u.add(this.curve.n),b):u=this.curve.pointFromX(u,b);var w=t.r.invm(n),S=n.sub(s).mul(w).umod(n),D=p.mul(w).umod(n);return this.g.mulAdd(S,u,D)};On.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new ll(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var Nu=an,Bb=Nu.assert,Z3=Nu.parseBytes,rh=Nu.cachedProperty;function Vr(e,t){this.eddsa=e,this._secret=Z3(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Z3(t.pub)}Vr.fromPublic=function(t,r){return r instanceof Vr?r:new Vr(t,{pub:r})};Vr.fromSecret=function(t,r){return r instanceof Vr?r:new Vr(t,{secret:r})};Vr.prototype.secret=function(){return this._secret};rh(Vr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});rh(Vr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});rh(Vr,"privBytes",function(){var t=this.eddsa,r=this.hash(),i=t.encodingLength-1,n=r.slice(0,t.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});rh(Vr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});rh(Vr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});rh(Vr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Vr.prototype.sign=function(t){return Bb(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};Vr.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};Vr.prototype.getSecret=function(t){return Bb(this._secret,"KeyPair is public only"),Nu.encode(this.secret(),t)};Vr.prototype.getPublic=function(t){return Nu.encode(this.pubBytes(),t)};var jS=Vr,KS=To,dl=an,tm=dl.assert,pl=dl.cachedProperty,GS=dl.parseBytes;function Ha(e,t){this.eddsa=e,typeof t!="object"&&(t=GS(t)),Array.isArray(t)&&(tm(t.length===e.encodingLength*2,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),tm(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof KS&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}pl(Ha,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});pl(Ha,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});pl(Ha,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});pl(Ha,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ha.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ha.prototype.toHex=function(){return dl.encode(this.toBytes(),"hex").toUpperCase()};var QS=Ha,VS=hl,JS=fl,$f=an,YS=$f.assert,Tb=$f.parseBytes,Fb=jS,em=QS;function Ki(e){if(YS(e==="ed25519","only tested with ed25519 so far"),!(this instanceof Ki))return new Ki(e);e=JS[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=VS.sha512}var WS=Ki;Ki.prototype.sign=function(t,r){t=Tb(t);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),t),s=this.g.mul(n),u=this.encodePoint(s),p=this.hashInt(u,i.pubBytes(),t).mul(i.priv()),b=n.add(p).umod(this.curve.n);return this.makeSignature({R:s,S:b,Rencoded:u})};Ki.prototype.verify=function(t,r,i){if(t=Tb(t),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var n=this.keyFromPublic(i),s=this.hashInt(r.Rencoded(),n.pubBytes(),t),u=this.g.mul(r.S()),p=r.R().add(n.pub().mul(s));return p.eq(u)};Ki.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return $f.intFromLE(t.digest()).umod(this.curve.n)};Ki.prototype.keyFromPublic=function(t){return Fb.fromPublic(this,t)};Ki.prototype.keyFromSecret=function(t){return Fb.fromSecret(this,t)};Ki.prototype.makeSignature=function(t){return t instanceof em?t:new em(this,t)};Ki.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};Ki.prototype.decodePoint=function(t){t=$f.parseBytes(t);var r=t.length-1,i=t.slice(0,r).concat(t[r]&-129),n=(t[r]&128)!==0,s=$f.intFromLE(i);return this.curve.pointFromY(s,n)};Ki.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};Ki.prototype.decodeInt=function(t){return $f.intFromLE(t)};Ki.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=YE.version,t.utils=an,t.rand=lb,t.curve=d2,t.curves=fl,t.ec=HS,t.eddsa=WS})(ub);var Xt={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mp=function(e,t){return mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)i.hasOwnProperty(n)&&(r[n]=i[n])},mp(e,t)};function XS(e,t){mp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var vp=function(){return vp=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},vp.apply(this,arguments)};function ZS(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function tx(e,t,r,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,i);else for(var p=e.length-1;p>=0;p--)(u=e[p])&&(s=(n<3?u(s):n>3?u(t,r,s):u(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s}function ex(e,t){return function(r,i){t(r,i,e)}}function rx(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ix(e,t,r,i){function n(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function p(w){try{m(i.next(w))}catch(S){u(S)}}function b(w){try{m(i.throw(w))}catch(S){u(S)}}function m(w){w.done?s(w.value):n(w.value).then(p,b)}m((i=i.apply(e,t||[])).next())})}function nx(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(m){return function(w){return b([m,w])}}function b(m){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=m[0]&2?n.return:m[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,m[1])).done)return s;switch(n=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,n=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(w){m=[6,w],n=0}finally{i=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function sx(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}function ox(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function bp(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ub(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),n,s=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(p){u={error:p}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return s}function ax(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ub(arguments[t]));return e}function fx(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var s=arguments[t],u=0,p=s.length;u<p;u++,n++)i[n]=s[u];return i}function vu(e){return this instanceof vu?(this.v=e,this):new vu(e)}function hx(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),n,s=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(D){i[D]&&(n[D]=function(N){return new Promise(function(P,L){s.push([D,N,P,L])>1||p(D,N)})})}function p(D,N){try{b(i[D](N))}catch(P){S(s[0][3],P)}}function b(D){D.value instanceof vu?Promise.resolve(D.value.v).then(m,w):S(s[0][2],D)}function m(D){p("next",D)}function w(D){p("throw",D)}function S(D,N){D(N),s.shift(),s.length&&p(s[0][0],s[0][1])}}function ux(e){var t,r;return t={},i("next"),i("throw",function(n){throw n}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(n,s){t[n]=e[n]?function(u){return(r=!r)?{value:vu(e[n](u)),done:n==="return"}:s?s(u):u}:s}}function cx(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof bp=="function"?bp(e):e[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(s){r[s]=e[s]&&function(u){return new Promise(function(p,b){u=e[s](u),n(p,b,u.done,u.value)})}}function n(s,u,p,b){Promise.resolve(b).then(function(m){s({value:m,done:p})},u)}}function lx(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function dx(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function px(e){return e&&e.__esModule?e:{default:e}}function gx(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function mx(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const vx=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return vp},__asyncDelegator:ux,__asyncGenerator:hx,__asyncValues:cx,__await:vu,__awaiter:ix,__classPrivateFieldGet:gx,__classPrivateFieldSet:mx,__createBinding:sx,__decorate:tx,__exportStar:ox,__extends:XS,__generator:nx,__importDefault:px,__importStar:dx,__makeTemplateObject:lx,__metadata:rx,__param:ex,__read:Ub,__rest:ZS,__spread:ax,__spreadArrays:fx,__values:bp},Symbol.toStringTag,{value:"Module"})),gl=hb(vx);var t1={},zh={},rm;function bx(){if(rm)return zh;rm=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return zh.delay=e,zh}var xa={},e1={},Ia={},im;function yx(){return im||(im=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.ONE_THOUSAND=Ia.ONE_HUNDRED=void 0,Ia.ONE_HUNDRED=100,Ia.ONE_THOUSAND=1e3),Ia}var r1={},nm;function wx(){return nm||(nm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(r1)),r1}var sm;function qb(){return sm||(sm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=gl;t.__exportStar(yx(),e),t.__exportStar(wx(),e)}(e1)),e1}var om;function Ax(){if(om)return xa;om=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.fromMiliseconds=xa.toMiliseconds=void 0;const e=qb();function t(i){return i*e.ONE_THOUSAND}xa.toMiliseconds=t;function r(i){return Math.floor(i/e.ONE_THOUSAND)}return xa.fromMiliseconds=r,xa}var am;function _x(){return am||(am=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=gl;t.__exportStar(bx(),e),t.__exportStar(Ax(),e)}(t1)),t1}var bf={},fm;function Ex(){if(fm)return bf;fm=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const i=this.get(r);if(typeof i.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const n=Date.now()-i.started;this.timestamps.set(r,{started:i.started,elapsed:n})}get(r){const i=this.timestamps.get(r);if(typeof i>"u")throw new Error(`No timestamp found for label: ${r}`);return i}elapsed(r){const i=this.get(r);return i.elapsed||Date.now()-i.started}}return bf.Watch=e,bf.default=e,bf}var i1={},$h={},hm;function Mx(){if(hm)return $h;hm=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.IWatch=void 0;class e{}return $h.IWatch=e,$h}var um;function Sx(){return um||(um=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),gl.__exportStar(Mx(),e)}(i1)),i1}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=gl;t.__exportStar(_x(),e),t.__exportStar(Ex(),e),t.__exportStar(Sx(),e),t.__exportStar(qb(),e)})(Xt);class ja{}let xx=class extends ja{constructor(t){super()}};const cm=Xt.FIVE_SECONDS,ih={pulse:"heartbeat_pulse"};let Ix=class Lb extends xx{constructor(t){super(t),this.events=new Bn.EventEmitter,this.interval=cm,this.interval=(t==null?void 0:t.interval)||cm}static async init(t){const r=new Lb(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Xt.toMiliseconds(this.interval))}pulse(){this.events.emit(ih.pulse)}};const Dx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Nx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Cx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Rx(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Px(e);return}return t}function Px(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Qc(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const i=r.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;if(i==="undefined")return;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i==="-infinity")return Number.NEGATIVE_INFINITY}if(!Cx.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Dx.test(e)||Nx.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Rx)}return JSON.parse(e)}catch(i){if(t.strict)throw i;return e}}function Ox(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function Qr(e,...t){try{return Ox(e(...t))}catch(r){return Promise.reject(r)}}function Bx(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function Tx(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function m0(e){if(Bx(e))return String(e);if(Tx(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return m0(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const yp="base64:";function Fx(e){return typeof e=="string"?e:yp+Lx(e)}function Ux(e){return typeof e!="string"||!e.startsWith(yp)?e:qx(e.slice(yp.length))}function qx(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function Lx(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function Li(e){var t;return e&&((t=e.split("?")[0])==null?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function kx(...e){return Li(e.join(":"))}function Vc(e){return e=Li(e),e?e+":":""}const zx="memory",$x=()=>{const e=new Map;return{name:zx,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function Hx(e={}){const t={mounts:{"":e.driver||$x()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=m=>{for(const w of t.mountpoints)if(m.startsWith(w))return{base:w,relativeKey:m.slice(w.length),driver:t.mounts[w]};return{base:"",relativeKey:m,driver:t.mounts[""]}},i=(m,w)=>t.mountpoints.filter(S=>S.startsWith(m)||w&&m.startsWith(S)).map(S=>({relativeBase:m.length>S.length?m.slice(S.length):void 0,mountpoint:S,driver:t.mounts[S]})),n=(m,w)=>{if(t.watching){w=Li(w);for(const S of t.watchListeners)S(m,w)}},s=async()=>{if(!t.watching){t.watching=!0;for(const m in t.mounts)t.unwatch[m]=await lm(t.mounts[m],n,m)}},u=async()=>{if(t.watching){for(const m in t.unwatch)await t.unwatch[m]();t.unwatch={},t.watching=!1}},p=(m,w,S)=>{const D=new Map,N=P=>{let L=D.get(P.base);return L||(L={driver:P.driver,base:P.base,items:[]},D.set(P.base,L)),L};for(const P of m){const L=typeof P=="string",k=Li(L?P:P.key),Y=L?void 0:P.value,Q=L||!P.options?w:{...w,...P.options},X=r(k);N(X).items.push({key:k,value:Y,relativeKey:X.relativeKey,options:Q})}return Promise.all([...D.values()].map(P=>S(P))).then(P=>P.flat())},b={hasItem(m,w={}){m=Li(m);const{relativeKey:S,driver:D}=r(m);return Qr(D.hasItem,S,w)},getItem(m,w={}){m=Li(m);const{relativeKey:S,driver:D}=r(m);return Qr(D.getItem,S,w).then(N=>Qc(N))},getItems(m,w={}){return p(m,w,S=>S.driver.getItems?Qr(S.driver.getItems,S.items.map(D=>({key:D.relativeKey,options:D.options})),w).then(D=>D.map(N=>({key:kx(S.base,N.key),value:Qc(N.value)}))):Promise.all(S.items.map(D=>Qr(S.driver.getItem,D.relativeKey,D.options).then(N=>({key:D.key,value:Qc(N)})))))},getItemRaw(m,w={}){m=Li(m);const{relativeKey:S,driver:D}=r(m);return D.getItemRaw?Qr(D.getItemRaw,S,w):Qr(D.getItem,S,w).then(N=>Ux(N))},async setItem(m,w,S={}){if(w===void 0)return b.removeItem(m);m=Li(m);const{relativeKey:D,driver:N}=r(m);N.setItem&&(await Qr(N.setItem,D,m0(w),S),N.watch||n("update",m))},async setItems(m,w){await p(m,w,async S=>{if(S.driver.setItems)return Qr(S.driver.setItems,S.items.map(D=>({key:D.relativeKey,value:m0(D.value),options:D.options})),w);S.driver.setItem&&await Promise.all(S.items.map(D=>Qr(S.driver.setItem,D.relativeKey,m0(D.value),D.options)))})},async setItemRaw(m,w,S={}){if(w===void 0)return b.removeItem(m,S);m=Li(m);const{relativeKey:D,driver:N}=r(m);if(N.setItemRaw)await Qr(N.setItemRaw,D,w,S);else if(N.setItem)await Qr(N.setItem,D,Fx(w),S);else return;N.watch||n("update",m)},async removeItem(m,w={}){typeof w=="boolean"&&(w={removeMeta:w}),m=Li(m);const{relativeKey:S,driver:D}=r(m);D.removeItem&&(await Qr(D.removeItem,S,w),(w.removeMeta||w.removeMata)&&await Qr(D.removeItem,S+"$",w),D.watch||n("remove",m))},async getMeta(m,w={}){typeof w=="boolean"&&(w={nativeOnly:w}),m=Li(m);const{relativeKey:S,driver:D}=r(m),N=Object.create(null);if(D.getMeta&&Object.assign(N,await Qr(D.getMeta,S,w)),!w.nativeOnly){const P=await Qr(D.getItem,S+"$",w).then(L=>Qc(L));P&&typeof P=="object"&&(typeof P.atime=="string"&&(P.atime=new Date(P.atime)),typeof P.mtime=="string"&&(P.mtime=new Date(P.mtime)),Object.assign(N,P))}return N},setMeta(m,w,S={}){return this.setItem(m+"$",w,S)},removeMeta(m,w={}){return this.removeItem(m+"$",w)},async getKeys(m,w={}){m=Vc(m);const S=i(m,!0);let D=[];const N=[];for(const P of S){const L=await Qr(P.driver.getKeys,P.relativeBase,w);for(const k of L){const Y=P.mountpoint+Li(k);D.some(Q=>Y.startsWith(Q))||N.push(Y)}D=[P.mountpoint,...D.filter(k=>!k.startsWith(P.mountpoint))]}return m?N.filter(P=>P.startsWith(m)&&P[P.length-1]!=="$"):N.filter(P=>P[P.length-1]!=="$")},async clear(m,w={}){m=Vc(m),await Promise.all(i(m,!1).map(async S=>{if(S.driver.clear)return Qr(S.driver.clear,S.relativeBase,w);if(S.driver.removeItem){const D=await S.driver.getKeys(S.relativeBase||"",w);return Promise.all(D.map(N=>S.driver.removeItem(N,w)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(m=>dm(m)))},async watch(m){return await s(),t.watchListeners.push(m),async()=>{t.watchListeners=t.watchListeners.filter(w=>w!==m),t.watchListeners.length===0&&await u()}},async unwatch(){t.watchListeners=[],await u()},mount(m,w){if(m=Vc(m),m&&t.mounts[m])throw new Error(`already mounted at ${m}`);return m&&(t.mountpoints.push(m),t.mountpoints.sort((S,D)=>D.length-S.length)),t.mounts[m]=w,t.watching&&Promise.resolve(lm(w,n,m)).then(S=>{t.unwatch[m]=S}).catch(console.error),b},async unmount(m,w=!0){var S,D;m=Vc(m),!(!m||!t.mounts[m])&&(t.watching&&m in t.unwatch&&((D=(S=t.unwatch)[m])==null||D.call(S),delete t.unwatch[m]),w&&await dm(t.mounts[m]),t.mountpoints=t.mountpoints.filter(N=>N!==m),delete t.mounts[m])},getMount(m=""){m=Li(m)+":";const w=r(m);return{driver:w.driver,base:w.base}},getMounts(m="",w={}){return m=Li(m),i(m,w.parents).map(D=>({driver:D.driver,base:D.mountpoint}))},keys:(m,w={})=>b.getKeys(m,w),get:(m,w={})=>b.getItem(m,w),set:(m,w,S={})=>b.setItem(m,w,S),has:(m,w={})=>b.hasItem(m,w),del:(m,w={})=>b.removeItem(m,w),remove:(m,w={})=>b.removeItem(m,w)};return b}function lm(e,t,r){return e.watch?e.watch((i,n)=>t(i,r+n)):()=>{}}async function dm(e){typeof e.dispose=="function"&&await Qr(e.dispose)}function Ka(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function kb(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const i=Ka(r);return(n,s)=>i.then(u=>s(u.transaction(t,n).objectStore(t)))}let n1;function Cu(){return n1||(n1=kb("keyval-store","keyval")),n1}function pm(e,t=Cu()){return t("readonly",r=>Ka(r.get(e)))}function jx(e,t,r=Cu()){return r("readwrite",i=>(i.put(t,e),Ka(i.transaction)))}function Kx(e,t=Cu()){return t("readwrite",r=>(r.delete(e),Ka(r.transaction)))}function Gx(e=Cu()){return e("readwrite",t=>(t.clear(),Ka(t.transaction)))}function Qx(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Ka(e.transaction)}function Vx(e=Cu()){return e("readonly",t=>{if(t.getAllKeys)return Ka(t.getAllKeys());const r=[];return Qx(t,i=>r.push(i.key)).then(()=>r)})}const Jx=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),Yx=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(i,n)=>typeof n=="string"&&n.match(/^\d+n$/)?BigInt(n.substring(0,n.length-1)):n)};function La(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return Yx(e)}catch{return e}}function Bo(e){return typeof e=="string"?e:Jx(e)||""}const Wx="idb-keyval";var Xx=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=n=>t+n;let i;return e.dbName&&e.storeName&&(i=kb(e.dbName,e.storeName)),{name:Wx,options:e,async hasItem(n){return!(typeof await pm(r(n),i)>"u")},async getItem(n){return await pm(r(n),i)??null},setItem(n,s){return jx(r(n),s,i)},removeItem(n){return Kx(r(n),i)},getKeys(){return Vx(i)},clear(){return Gx(i)}}};const Zx="WALLET_CONNECT_V2_INDEXED_DB",tI="keyvaluestorage";let eI=class{constructor(){this.indexedDb=Hx({driver:Xx({dbName:Zx,storeName:tI})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,Bo(r))}async removeItem(t){await this.indexedDb.removeItem(t)}};var s1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},v0={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,i){this[r]=String(i)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(i){r[i]=void 0,delete r[i]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof s1<"u"&&s1.localStorage?v0.exports=s1.localStorage:typeof window<"u"&&window.localStorage?v0.exports=window.localStorage:v0.exports=new t})();function rI(e){var t;return[e[0],La((t=e[1])!=null?t:"")]}let iI=class{constructor(){this.localStorage=v0.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(rI)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return La(r)}async setItem(t,r){this.localStorage.setItem(t,Bo(r))}async removeItem(t){this.localStorage.removeItem(t)}};const nI="wc_storage_version",gm=1,sI=async(e,t,r)=>{const i=nI,n=await t.getItem(i);if(n&&n>=gm){r(t);return}const s=await e.getKeys();if(!s.length){r(t);return}const u=[];for(;s.length;){const p=s.shift();if(!p)continue;const b=p.toLowerCase();if(b.includes("wc@")||b.includes("walletconnect")||b.includes("wc_")||b.includes("wallet_connect")){const m=await e.getItem(p);await t.setItem(p,m),u.push(p)}}await t.setItem(i,gm),r(t),oI(e,u)},oI=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};let aI=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new iI;this.storage=t;try{const r=new eI;sI(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}};function fI(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var hI=uI;function uI(e,t,r){var i=r&&r.stringify||fI,n=1;if(typeof e=="object"&&e!==null){var s=t.length+n;if(s===1)return e;var u=new Array(s);u[0]=i(e);for(var p=1;p<s;p++)u[p]=i(t[p]);return u.join(" ")}if(typeof e!="string")return e;var b=t.length;if(b===0)return e;for(var m="",w=1-n,S=-1,D=e&&e.length||0,N=0;N<D;){if(e.charCodeAt(N)===37&&N+1<D){switch(S=S>-1?S:0,e.charCodeAt(N+1)){case 100:case 102:if(w>=b||t[w]==null)break;S<N&&(m+=e.slice(S,N)),m+=Number(t[w]),S=N+2,N++;break;case 105:if(w>=b||t[w]==null)break;S<N&&(m+=e.slice(S,N)),m+=Math.floor(Number(t[w])),S=N+2,N++;break;case 79:case 111:case 106:if(w>=b||t[w]===void 0)break;S<N&&(m+=e.slice(S,N));var P=typeof t[w];if(P==="string"){m+="'"+t[w]+"'",S=N+2,N++;break}if(P==="function"){m+=t[w].name||"<anonymous>",S=N+2,N++;break}m+=i(t[w]),S=N+2,N++;break;case 115:if(w>=b)break;S<N&&(m+=e.slice(S,N)),m+=String(t[w]),S=N+2,N++;break;case 37:S<N&&(m+=e.slice(S,N)),m+="%",S=N+2,N++,w--;break}++w}++N}return S===-1?e:(S<D&&(m+=e.slice(S)),m)}const mm=hI;var Sf=qs;const bu=wI().console||{},cI={mapHttpRequest:Jc,mapHttpResponse:Jc,wrapRequestSerializer:o1,wrapResponseSerializer:o1,wrapErrorSerializer:o1,req:Jc,res:Jc,err:mI};function lI(e,t){return Array.isArray(e)?e.filter(function(i){return i!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function qs(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const r=e.browser.write||bu;e.browser.write&&(e.browser.asObject=!0);const i=e.serializers||{},n=lI(e.browser.serialize,i);let s=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const u=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),e.enabled===!1&&(e.level="silent");const p=e.level||"info",b=Object.create(r);b.log||(b.log=yu),Object.defineProperty(b,"levelVal",{get:w}),Object.defineProperty(b,"level",{get:S,set:D});const m={transmit:t,serialize:n,asObject:e.browser.asObject,levels:u,timestamp:vI(e)};b.levels=qs.levels,b.level=p,b.setMaxListeners=b.getMaxListeners=b.emit=b.addListener=b.on=b.prependListener=b.once=b.prependOnceListener=b.removeListener=b.removeAllListeners=b.listeners=b.listenerCount=b.eventNames=b.write=b.flush=yu,b.serializers=i,b._serialize=n,b._stdErrSerialize=s,b.child=N,t&&(b._logEvent=wp());function w(){return this.level==="silent"?1/0:this.levels.values[this.level]}function S(){return this._level}function D(P){if(P!=="silent"&&!this.levels.values[P])throw Error("unknown level "+P);this._level=P,yf(m,b,"error","log"),yf(m,b,"fatal","error"),yf(m,b,"warn","error"),yf(m,b,"info","log"),yf(m,b,"debug","log"),yf(m,b,"trace","log")}function N(P,L){if(!P)throw new Error("missing bindings for child Pino");L=L||{},n&&P.serializers&&(L.serializers=P.serializers);const k=L.serializers;if(n&&k){var Y=Object.assign({},i,k),Q=e.browser.serialize===!0?Object.keys(Y):n;delete P.serializers,ml([P],Q,Y,this._stdErrSerialize)}function X($){this._childLevel=($._childLevel|0)+1,this.error=wf($,P,"error"),this.fatal=wf($,P,"fatal"),this.warn=wf($,P,"warn"),this.info=wf($,P,"info"),this.debug=wf($,P,"debug"),this.trace=wf($,P,"trace"),Y&&(this.serializers=Y,this._serialize=Q),t&&(this._logEvent=wp([].concat($._logEvent.bindings,P)))}return X.prototype=this,new X(this)}return b}qs.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};qs.stdSerializers=cI;qs.stdTimeFunctions=Object.assign({},{nullTime:zb,epochTime:$b,unixTime:bI,isoTime:yI});function yf(e,t,r,i){const n=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?yu:n[r]?n[r]:bu[r]||bu[i]||yu,dI(e,t,r)}function dI(e,t,r){!e.transmit&&t[r]===yu||(t[r]=function(i){return function(){const s=e.timestamp(),u=new Array(arguments.length),p=Object.getPrototypeOf&&Object.getPrototypeOf(this)===bu?bu:this;for(var b=0;b<u.length;b++)u[b]=arguments[b];if(e.serialize&&!e.asObject&&ml(u,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?i.call(p,pI(this,r,u,s)):i.apply(p,u),e.transmit){const m=e.transmit.level||t.level,w=qs.levels.values[m],S=qs.levels.values[r];if(S<w)return;gI(this,{ts:s,methodLevel:r,methodValue:S,transmitLevel:m,transmitValue:qs.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},u)}}}(t[r]))}function pI(e,t,r,i){e._serialize&&ml(r,e._serialize,e.serializers,e._stdErrSerialize);const n=r.slice();let s=n[0];const u={};i&&(u.time=i),u.level=qs.levels.values[t];let p=(e._childLevel|0)+1;if(p<1&&(p=1),s!==null&&typeof s=="object"){for(;p--&&typeof n[0]=="object";)Object.assign(u,n.shift());s=n.length?mm(n.shift(),n):void 0}else typeof s=="string"&&(s=mm(n.shift(),n));return s!==void 0&&(u.msg=s),u}function ml(e,t,r,i){for(const n in e)if(i&&e[n]instanceof Error)e[n]=qs.stdSerializers.err(e[n]);else if(typeof e[n]=="object"&&!Array.isArray(e[n]))for(const s in e[n])t&&t.indexOf(s)>-1&&s in r&&(e[n][s]=r[s](e[n][s]))}function wf(e,t,r){return function(){const i=new Array(1+arguments.length);i[0]=t;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return e[r].apply(this,i)}}function gI(e,t,r){const i=t.send,n=t.ts,s=t.methodLevel,u=t.methodValue,p=t.val,b=e._logEvent.bindings;ml(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=n,e._logEvent.messages=r.filter(function(m){return b.indexOf(m)===-1}),e._logEvent.level.label=s,e._logEvent.level.value=u,i(s,e._logEvent,p),e._logEvent=wp(b)}function wp(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function mI(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)t[r]===void 0&&(t[r]=e[r]);return t}function vI(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?zb:$b}function Jc(){return{}}function o1(e){return e}function yu(){}function zb(){return!1}function $b(){return Date.now()}function bI(){return Math.round(Date.now()/1e3)}function yI(){return new Date(Date.now()).toISOString()}function wI(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}const Ru=f2(Sf),AI={level:"info"},Pu="custom_context",v2=1e3*1024;let _I=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},vm=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const r=new _I(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const r=t.value;return t=t.next,{done:!1,value:r}}}}},Hb=class{constructor(t,r=v2){this.level=t??"error",this.levelValue=Sf.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new vm(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===Sf.levels.values.error?console.error(t):r===Sf.levels.values.warn?console.warn(t):r===Sf.levels.values.debug?console.debug(t):r===Sf.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Bo({timestamp:new Date().toISOString(),log:t}));const r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new vm(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const r=this.getLogArray();return r.push(Bo({extraMetadata:t})),new Blob(r,{type:"application/json"})}},EI=class{constructor(t,r=v2){this.baseChunkLogger=new Hb(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const r=URL.createObjectURL(this.logsToBlob(t)),i=document.createElement("a");i.href=r,i.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}};class MI{constructor(t,r=v2){this.baseChunkLogger=new Hb(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var SI=Object.defineProperty,xI=Object.defineProperties,II=Object.getOwnPropertyDescriptors,bm=Object.getOwnPropertySymbols,DI=Object.prototype.hasOwnProperty,NI=Object.prototype.propertyIsEnumerable,ym=(e,t,r)=>t in e?SI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,B0=(e,t)=>{for(var r in t||(t={}))DI.call(t,r)&&ym(e,r,t[r]);if(bm)for(var r of bm(t))NI.call(t,r)&&ym(e,r,t[r]);return e},T0=(e,t)=>xI(e,II(t));function vl(e){return T0(B0({},e),{level:(e==null?void 0:e.level)||AI.level})}function CI(e,t=Pu){return e[t]||""}function RI(e,t,r=Pu){return e[r]=t,e}function Ji(e,t=Pu){let r="";return typeof e.bindings>"u"?r=CI(e,t):r=e.bindings().context||"",r}function PI(e,t,r=Pu){const i=Ji(e,r);return i.trim()?`${i}/${t}`:t}function Ni(e,t,r=Pu){const i=PI(e,t,r),n=e.child({context:i});return RI(n,i,r)}function OI(e){var t,r;const i=new EI((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Ru(T0(B0({},e.opts),{level:"trace",browser:T0(B0({},(r=e.opts)==null?void 0:r.browser),{write:n=>i.write(n)})})),chunkLoggerController:i}}function BI(e){var t;const r=new MI((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Ru(T0(B0({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function TI(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?OI(e):BI(e)}var b2={},ua={},bl={},yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.BrowserRandomSource=void 0;const wm=65536;class FI{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let i=0;i<r.length;i+=wm)this._crypto.getRandomValues(r.subarray(i,i+Math.min(r.length-i,wm)));return r}}yl.BrowserRandomSource=FI;var wl={},fn={};Object.defineProperty(fn,"__esModule",{value:!0});function UI(e){for(var t=0;t<e.length;t++)e[t]=0;return e}fn.wipe=UI;Object.defineProperty(wl,"__esModule",{value:!0});wl.NodeRandomSource=void 0;const qI=fn;class LI{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof TE<"u"){const t=a2;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const i=new Uint8Array(t);for(let n=0;n<i.length;n++)i[n]=r[n];return(0,qI.wipe)(r),i}}wl.NodeRandomSource=LI;Object.defineProperty(bl,"__esModule",{value:!0});bl.SystemRandomSource=void 0;const kI=yl,zI=wl;class $I{constructor(){if(this.isAvailable=!1,this.name="",this._source=new kI.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new zI.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}bl.SystemRandomSource=$I;var Se={},jb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(p,b){var m=p>>>16&65535,w=p&65535,S=b>>>16&65535,D=b&65535;return w*D+(m*D+w*S<<16>>>0)|0}e.mul=Math.imul||t;function r(p,b){return p+b|0}e.add=r;function i(p,b){return p-b|0}e.sub=i;function n(p,b){return p<<b|p>>>32-b}e.rotl=n;function s(p,b){return p<<32-b|p>>>b}e.rotr=s;function u(p){return typeof p=="number"&&isFinite(p)&&Math.floor(p)===p}e.isInteger=Number.isInteger||u,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(p){return e.isInteger(p)&&p>=-e.MAX_SAFE_INTEGER&&p<=e.MAX_SAFE_INTEGER}})(jb);Object.defineProperty(Se,"__esModule",{value:!0});var Kb=jb;function HI(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}Se.readInt16BE=HI;function jI(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}Se.readUint16BE=jI;function KI(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}Se.readInt16LE=KI;function GI(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}Se.readUint16LE=GI;function Gb(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}Se.writeUint16BE=Gb;Se.writeInt16BE=Gb;function Qb(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}Se.writeUint16LE=Qb;Se.writeInt16LE=Qb;function Ap(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}Se.readInt32BE=Ap;function _p(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}Se.readUint32BE=_p;function Ep(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}Se.readInt32LE=Ep;function Mp(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}Se.readUint32LE=Mp;function F0(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}Se.writeUint32BE=F0;Se.writeInt32BE=F0;function U0(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}Se.writeUint32LE=U0;Se.writeInt32LE=U0;function QI(e,t){t===void 0&&(t=0);var r=Ap(e,t),i=Ap(e,t+4);return r*4294967296+i-(i>>31)*4294967296}Se.readInt64BE=QI;function VI(e,t){t===void 0&&(t=0);var r=_p(e,t),i=_p(e,t+4);return r*4294967296+i}Se.readUint64BE=VI;function JI(e,t){t===void 0&&(t=0);var r=Ep(e,t),i=Ep(e,t+4);return i*4294967296+r-(r>>31)*4294967296}Se.readInt64LE=JI;function YI(e,t){t===void 0&&(t=0);var r=Mp(e,t),i=Mp(e,t+4);return i*4294967296+r}Se.readUint64LE=YI;function Vb(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),F0(e/4294967296>>>0,t,r),F0(e>>>0,t,r+4),t}Se.writeUint64BE=Vb;Se.writeInt64BE=Vb;function Jb(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),U0(e>>>0,t,r),U0(e/4294967296>>>0,t,r+4),t}Se.writeUint64LE=Jb;Se.writeInt64LE=Jb;function WI(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,s=e/8+r-1;s>=r;s--)i+=t[s]*n,n*=256;return i}Se.readUintBE=WI;function XI(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,s=r;s<r+e/8;s++)i+=t[s]*n,n*=256;return i}Se.readUintLE=XI;function ZI(e,t,r,i){if(r===void 0&&(r=new Uint8Array(e/8)),i===void 0&&(i=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Kb.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var n=1,s=e/8+i-1;s>=i;s--)r[s]=t/n&255,n*=256;return r}Se.writeUintBE=ZI;function tD(e,t,r,i){if(r===void 0&&(r=new Uint8Array(e/8)),i===void 0&&(i=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Kb.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var n=1,s=i;s<i+e/8;s++)r[s]=t/n&255,n*=256;return r}Se.writeUintLE=tD;function eD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}Se.readFloat32BE=eD;function rD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}Se.readFloat32LE=rD;function iD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}Se.readFloat64BE=iD;function nD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}Se.readFloat64LE=nD;function sD(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat32(r,e),t}Se.writeFloat32BE=sD;function oD(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat32(r,e,!0),t}Se.writeFloat32LE=oD;function aD(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat64(r,e),t}Se.writeFloat64BE=aD;function fD(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat64(r,e,!0),t}Se.writeFloat64LE=fD;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=bl,r=Se,i=fn;e.defaultRandomSource=new t.SystemRandomSource;function n(m,w=e.defaultRandomSource){return w.randomBytes(m)}e.randomBytes=n;function s(m=e.defaultRandomSource){const w=n(4,m),S=(0,r.readUint32LE)(w);return(0,i.wipe)(w),S}e.randomUint32=s;const u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function p(m,w=u,S=e.defaultRandomSource){if(w.length<2)throw new Error("randomString charset is too short");if(w.length>256)throw new Error("randomString charset is too long");let D="";const N=w.length,P=256-256%N;for(;m>0;){const L=n(Math.ceil(m*256/P),S);for(let k=0;k<L.length&&m>0;k++){const Y=L[k];Y<P&&(D+=w.charAt(Y%N),m--)}(0,i.wipe)(L)}return D}e.randomString=p;function b(m,w=u,S=e.defaultRandomSource){const D=Math.ceil(m/(Math.log(w.length)/Math.LN2));return p(D,w,S)}e.randomStringForEntropy=b})(ua);var Yb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Se,r=fn;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var i=function(){function p(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return p.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},p.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},p.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},p.prototype.update=function(b,m){if(m===void 0&&(m=b.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var w=0;if(this._bytesHashed+=m,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&m>0;)this._buffer[this._bufferLength++]=b[w++],m--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(m>=this.blockSize&&(w=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,b,w,m),m%=this.blockSize);m>0;)this._buffer[this._bufferLength++]=b[w++],m--;return this},p.prototype.finish=function(b){if(!this._finished){var m=this._bytesHashed,w=this._bufferLength,S=m/536870912|0,D=m<<3,N=m%128<112?128:256;this._buffer[w]=128;for(var P=w+1;P<N-8;P++)this._buffer[P]=0;t.writeUint32BE(S,this._buffer,N-8),t.writeUint32BE(D,this._buffer,N-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,N),this._finished=!0}for(var P=0;P<this.digestLength/8;P++)t.writeUint32BE(this._stateHi[P],b,P*8),t.writeUint32BE(this._stateLo[P],b,P*8+4);return this},p.prototype.digest=function(){var b=new Uint8Array(this.digestLength);return this.finish(b),b},p.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},p.prototype.restoreState=function(b){return this._stateHi.set(b.stateHi),this._stateLo.set(b.stateLo),this._bufferLength=b.bufferLength,b.buffer&&this._buffer.set(b.buffer),this._bytesHashed=b.bytesHashed,this._finished=!1,this},p.prototype.cleanSavedState=function(b){r.wipe(b.stateHi),r.wipe(b.stateLo),b.buffer&&r.wipe(b.buffer),b.bufferLength=0,b.bytesHashed=0},p}();e.SHA512=i;var n=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(p,b,m,w,S,D,N){for(var P=m[0],L=m[1],k=m[2],Y=m[3],Q=m[4],X=m[5],$=m[6],j=m[7],K=w[0],C=w[1],z=w[2],st=w[3],dt=w[4],H=w[5],I=w[6],o=w[7],h,c,v,y,M,E,d,f;N>=128;){for(var _=0;_<16;_++){var J=8*_+D;p[_]=t.readUint32BE(S,J),b[_]=t.readUint32BE(S,J+4)}for(var _=0;_<80;_++){var W=P,g=L,F=k,O=Y,B=Q,q=X,x=$,T=j,Z=K,it=C,et=z,pt=st,gt=dt,_t=H,re=I,bt=o;if(h=j,c=o,M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=(Q>>>14|dt<<18)^(Q>>>18|dt<<14)^(dt>>>9|Q<<23),c=(dt>>>14|Q<<18)^(dt>>>18|Q<<14)^(Q>>>9|dt<<23),M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,h=Q&X^~Q&$,c=dt&H^~dt&I,M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,h=n[_*2],c=n[_*2+1],M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,h=p[_%16],c=b[_%16],M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,v=d&65535|f<<16,y=M&65535|E<<16,h=v,c=y,M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=(P>>>28|K<<4)^(K>>>2|P<<30)^(K>>>7|P<<25),c=(K>>>28|P<<4)^(P>>>2|K<<30)^(P>>>7|K<<25),M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,h=P&L^P&k^L&k,c=K&C^K&z^C&z,M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,T=d&65535|f<<16,bt=M&65535|E<<16,h=O,c=pt,M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=v,c=y,M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,O=d&65535|f<<16,pt=M&65535|E<<16,L=W,k=g,Y=F,Q=O,X=B,$=q,j=x,P=T,C=Z,z=it,st=et,dt=pt,H=gt,I=_t,o=re,K=bt,_%16===15)for(var J=0;J<16;J++)h=p[J],c=b[J],M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=p[(J+9)%16],c=b[(J+9)%16],M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,v=p[(J+1)%16],y=b[(J+1)%16],h=(v>>>1|y<<31)^(v>>>8|y<<24)^v>>>7,c=(y>>>1|v<<31)^(y>>>8|v<<24)^(y>>>7|v<<25),M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,v=p[(J+14)%16],y=b[(J+14)%16],h=(v>>>19|y<<13)^(y>>>29|v<<3)^v>>>6,c=(y>>>19|v<<13)^(v>>>29|y<<3)^(y>>>6|v<<26),M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,p[J]=d&65535|f<<16,b[J]=M&65535|E<<16}h=P,c=K,M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=m[0],c=w[0],M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,m[0]=P=d&65535|f<<16,w[0]=K=M&65535|E<<16,h=L,c=C,M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=m[1],c=w[1],M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,m[1]=L=d&65535|f<<16,w[1]=C=M&65535|E<<16,h=k,c=z,M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=m[2],c=w[2],M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,m[2]=k=d&65535|f<<16,w[2]=z=M&65535|E<<16,h=Y,c=st,M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=m[3],c=w[3],M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,m[3]=Y=d&65535|f<<16,w[3]=st=M&65535|E<<16,h=Q,c=dt,M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=m[4],c=w[4],M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,m[4]=Q=d&65535|f<<16,w[4]=dt=M&65535|E<<16,h=X,c=H,M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=m[5],c=w[5],M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,m[5]=X=d&65535|f<<16,w[5]=H=M&65535|E<<16,h=$,c=I,M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=m[6],c=w[6],M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,m[6]=$=d&65535|f<<16,w[6]=I=M&65535|E<<16,h=j,c=o,M=c&65535,E=c>>>16,d=h&65535,f=h>>>16,h=m[7],c=w[7],M+=c&65535,E+=c>>>16,d+=h&65535,f+=h>>>16,E+=M>>>16,d+=E>>>16,f+=d>>>16,m[7]=j=d&65535|f<<16,w[7]=o=M&65535|E<<16,D+=128,N-=128}return D}function u(p){var b=new i;b.update(p);var m=b.digest();return b.clean(),m}e.hash=u})(Yb);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=ua,r=Yb,i=fn;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function n(O){const B=new Float64Array(16);if(O)for(let q=0;q<O.length;q++)B[q]=O[q];return B}const s=new Uint8Array(32);s[0]=9;const u=n(),p=n([1]),b=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),w=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),S=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),D=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function N(O,B){for(let q=0;q<16;q++)O[q]=B[q]|0}function P(O){let B=1;for(let q=0;q<16;q++){let x=O[q]+B+65535;B=Math.floor(x/65536),O[q]=x-B*65536}O[0]+=B-1+37*(B-1)}function L(O,B,q){const x=~(q-1);for(let T=0;T<16;T++){const Z=x&(O[T]^B[T]);O[T]^=Z,B[T]^=Z}}function k(O,B){const q=n(),x=n();for(let T=0;T<16;T++)x[T]=B[T];P(x),P(x),P(x);for(let T=0;T<2;T++){q[0]=x[0]-65517;for(let it=1;it<15;it++)q[it]=x[it]-65535-(q[it-1]>>16&1),q[it-1]&=65535;q[15]=x[15]-32767-(q[14]>>16&1);const Z=q[15]>>16&1;q[14]&=65535,L(x,q,1-Z)}for(let T=0;T<16;T++)O[2*T]=x[T]&255,O[2*T+1]=x[T]>>8}function Y(O,B){let q=0;for(let x=0;x<32;x++)q|=O[x]^B[x];return(1&q-1>>>8)-1}function Q(O,B){const q=new Uint8Array(32),x=new Uint8Array(32);return k(q,O),k(x,B),Y(q,x)}function X(O){const B=new Uint8Array(32);return k(B,O),B[0]&1}function $(O,B){for(let q=0;q<16;q++)O[q]=B[2*q]+(B[2*q+1]<<8);O[15]&=32767}function j(O,B,q){for(let x=0;x<16;x++)O[x]=B[x]+q[x]}function K(O,B,q){for(let x=0;x<16;x++)O[x]=B[x]-q[x]}function C(O,B,q){let x,T,Z=0,it=0,et=0,pt=0,gt=0,_t=0,re=0,bt=0,Et=0,Qt=0,ct=0,yt=0,Wt=0,ht=0,wt=0,Kt=0,ut=0,It=0,Vt=0,mt=0,Rt=0,te=0,vt=0,Pt=0,ue=0,Tt=0,Jt=0,ce=0,Ft=0,Yt=0,de=0,Mt=q[0],Lt=q[1],se=q[2],St=q[3],kt=q[4],ie=q[5],Dt=q[6],jt=q[7],oe=q[8],Nt=q[9],zt=q[10],fe=q[11],xt=q[12],qt=q[13],he=q[14],Ct=q[15];x=B[0],Z+=x*Mt,it+=x*Lt,et+=x*se,pt+=x*St,gt+=x*kt,_t+=x*ie,re+=x*Dt,bt+=x*jt,Et+=x*oe,Qt+=x*Nt,ct+=x*zt,yt+=x*fe,Wt+=x*xt,ht+=x*qt,wt+=x*he,Kt+=x*Ct,x=B[1],it+=x*Mt,et+=x*Lt,pt+=x*se,gt+=x*St,_t+=x*kt,re+=x*ie,bt+=x*Dt,Et+=x*jt,Qt+=x*oe,ct+=x*Nt,yt+=x*zt,Wt+=x*fe,ht+=x*xt,wt+=x*qt,Kt+=x*he,ut+=x*Ct,x=B[2],et+=x*Mt,pt+=x*Lt,gt+=x*se,_t+=x*St,re+=x*kt,bt+=x*ie,Et+=x*Dt,Qt+=x*jt,ct+=x*oe,yt+=x*Nt,Wt+=x*zt,ht+=x*fe,wt+=x*xt,Kt+=x*qt,ut+=x*he,It+=x*Ct,x=B[3],pt+=x*Mt,gt+=x*Lt,_t+=x*se,re+=x*St,bt+=x*kt,Et+=x*ie,Qt+=x*Dt,ct+=x*jt,yt+=x*oe,Wt+=x*Nt,ht+=x*zt,wt+=x*fe,Kt+=x*xt,ut+=x*qt,It+=x*he,Vt+=x*Ct,x=B[4],gt+=x*Mt,_t+=x*Lt,re+=x*se,bt+=x*St,Et+=x*kt,Qt+=x*ie,ct+=x*Dt,yt+=x*jt,Wt+=x*oe,ht+=x*Nt,wt+=x*zt,Kt+=x*fe,ut+=x*xt,It+=x*qt,Vt+=x*he,mt+=x*Ct,x=B[5],_t+=x*Mt,re+=x*Lt,bt+=x*se,Et+=x*St,Qt+=x*kt,ct+=x*ie,yt+=x*Dt,Wt+=x*jt,ht+=x*oe,wt+=x*Nt,Kt+=x*zt,ut+=x*fe,It+=x*xt,Vt+=x*qt,mt+=x*he,Rt+=x*Ct,x=B[6],re+=x*Mt,bt+=x*Lt,Et+=x*se,Qt+=x*St,ct+=x*kt,yt+=x*ie,Wt+=x*Dt,ht+=x*jt,wt+=x*oe,Kt+=x*Nt,ut+=x*zt,It+=x*fe,Vt+=x*xt,mt+=x*qt,Rt+=x*he,te+=x*Ct,x=B[7],bt+=x*Mt,Et+=x*Lt,Qt+=x*se,ct+=x*St,yt+=x*kt,Wt+=x*ie,ht+=x*Dt,wt+=x*jt,Kt+=x*oe,ut+=x*Nt,It+=x*zt,Vt+=x*fe,mt+=x*xt,Rt+=x*qt,te+=x*he,vt+=x*Ct,x=B[8],Et+=x*Mt,Qt+=x*Lt,ct+=x*se,yt+=x*St,Wt+=x*kt,ht+=x*ie,wt+=x*Dt,Kt+=x*jt,ut+=x*oe,It+=x*Nt,Vt+=x*zt,mt+=x*fe,Rt+=x*xt,te+=x*qt,vt+=x*he,Pt+=x*Ct,x=B[9],Qt+=x*Mt,ct+=x*Lt,yt+=x*se,Wt+=x*St,ht+=x*kt,wt+=x*ie,Kt+=x*Dt,ut+=x*jt,It+=x*oe,Vt+=x*Nt,mt+=x*zt,Rt+=x*fe,te+=x*xt,vt+=x*qt,Pt+=x*he,ue+=x*Ct,x=B[10],ct+=x*Mt,yt+=x*Lt,Wt+=x*se,ht+=x*St,wt+=x*kt,Kt+=x*ie,ut+=x*Dt,It+=x*jt,Vt+=x*oe,mt+=x*Nt,Rt+=x*zt,te+=x*fe,vt+=x*xt,Pt+=x*qt,ue+=x*he,Tt+=x*Ct,x=B[11],yt+=x*Mt,Wt+=x*Lt,ht+=x*se,wt+=x*St,Kt+=x*kt,ut+=x*ie,It+=x*Dt,Vt+=x*jt,mt+=x*oe,Rt+=x*Nt,te+=x*zt,vt+=x*fe,Pt+=x*xt,ue+=x*qt,Tt+=x*he,Jt+=x*Ct,x=B[12],Wt+=x*Mt,ht+=x*Lt,wt+=x*se,Kt+=x*St,ut+=x*kt,It+=x*ie,Vt+=x*Dt,mt+=x*jt,Rt+=x*oe,te+=x*Nt,vt+=x*zt,Pt+=x*fe,ue+=x*xt,Tt+=x*qt,Jt+=x*he,ce+=x*Ct,x=B[13],ht+=x*Mt,wt+=x*Lt,Kt+=x*se,ut+=x*St,It+=x*kt,Vt+=x*ie,mt+=x*Dt,Rt+=x*jt,te+=x*oe,vt+=x*Nt,Pt+=x*zt,ue+=x*fe,Tt+=x*xt,Jt+=x*qt,ce+=x*he,Ft+=x*Ct,x=B[14],wt+=x*Mt,Kt+=x*Lt,ut+=x*se,It+=x*St,Vt+=x*kt,mt+=x*ie,Rt+=x*Dt,te+=x*jt,vt+=x*oe,Pt+=x*Nt,ue+=x*zt,Tt+=x*fe,Jt+=x*xt,ce+=x*qt,Ft+=x*he,Yt+=x*Ct,x=B[15],Kt+=x*Mt,ut+=x*Lt,It+=x*se,Vt+=x*St,mt+=x*kt,Rt+=x*ie,te+=x*Dt,vt+=x*jt,Pt+=x*oe,ue+=x*Nt,Tt+=x*zt,Jt+=x*fe,ce+=x*xt,Ft+=x*qt,Yt+=x*he,de+=x*Ct,Z+=38*ut,it+=38*It,et+=38*Vt,pt+=38*mt,gt+=38*Rt,_t+=38*te,re+=38*vt,bt+=38*Pt,Et+=38*ue,Qt+=38*Tt,ct+=38*Jt,yt+=38*ce,Wt+=38*Ft,ht+=38*Yt,wt+=38*de,T=1,x=Z+T+65535,T=Math.floor(x/65536),Z=x-T*65536,x=it+T+65535,T=Math.floor(x/65536),it=x-T*65536,x=et+T+65535,T=Math.floor(x/65536),et=x-T*65536,x=pt+T+65535,T=Math.floor(x/65536),pt=x-T*65536,x=gt+T+65535,T=Math.floor(x/65536),gt=x-T*65536,x=_t+T+65535,T=Math.floor(x/65536),_t=x-T*65536,x=re+T+65535,T=Math.floor(x/65536),re=x-T*65536,x=bt+T+65535,T=Math.floor(x/65536),bt=x-T*65536,x=Et+T+65535,T=Math.floor(x/65536),Et=x-T*65536,x=Qt+T+65535,T=Math.floor(x/65536),Qt=x-T*65536,x=ct+T+65535,T=Math.floor(x/65536),ct=x-T*65536,x=yt+T+65535,T=Math.floor(x/65536),yt=x-T*65536,x=Wt+T+65535,T=Math.floor(x/65536),Wt=x-T*65536,x=ht+T+65535,T=Math.floor(x/65536),ht=x-T*65536,x=wt+T+65535,T=Math.floor(x/65536),wt=x-T*65536,x=Kt+T+65535,T=Math.floor(x/65536),Kt=x-T*65536,Z+=T-1+37*(T-1),T=1,x=Z+T+65535,T=Math.floor(x/65536),Z=x-T*65536,x=it+T+65535,T=Math.floor(x/65536),it=x-T*65536,x=et+T+65535,T=Math.floor(x/65536),et=x-T*65536,x=pt+T+65535,T=Math.floor(x/65536),pt=x-T*65536,x=gt+T+65535,T=Math.floor(x/65536),gt=x-T*65536,x=_t+T+65535,T=Math.floor(x/65536),_t=x-T*65536,x=re+T+65535,T=Math.floor(x/65536),re=x-T*65536,x=bt+T+65535,T=Math.floor(x/65536),bt=x-T*65536,x=Et+T+65535,T=Math.floor(x/65536),Et=x-T*65536,x=Qt+T+65535,T=Math.floor(x/65536),Qt=x-T*65536,x=ct+T+65535,T=Math.floor(x/65536),ct=x-T*65536,x=yt+T+65535,T=Math.floor(x/65536),yt=x-T*65536,x=Wt+T+65535,T=Math.floor(x/65536),Wt=x-T*65536,x=ht+T+65535,T=Math.floor(x/65536),ht=x-T*65536,x=wt+T+65535,T=Math.floor(x/65536),wt=x-T*65536,x=Kt+T+65535,T=Math.floor(x/65536),Kt=x-T*65536,Z+=T-1+37*(T-1),O[0]=Z,O[1]=it,O[2]=et,O[3]=pt,O[4]=gt,O[5]=_t,O[6]=re,O[7]=bt,O[8]=Et,O[9]=Qt,O[10]=ct,O[11]=yt,O[12]=Wt,O[13]=ht,O[14]=wt,O[15]=Kt}function z(O,B){C(O,B,B)}function st(O,B){const q=n();let x;for(x=0;x<16;x++)q[x]=B[x];for(x=253;x>=0;x--)z(q,q),x!==2&&x!==4&&C(q,q,B);for(x=0;x<16;x++)O[x]=q[x]}function dt(O,B){const q=n();let x;for(x=0;x<16;x++)q[x]=B[x];for(x=250;x>=0;x--)z(q,q),x!==1&&C(q,q,B);for(x=0;x<16;x++)O[x]=q[x]}function H(O,B){const q=n(),x=n(),T=n(),Z=n(),it=n(),et=n(),pt=n(),gt=n(),_t=n();K(q,O[1],O[0]),K(_t,B[1],B[0]),C(q,q,_t),j(x,O[0],O[1]),j(_t,B[0],B[1]),C(x,x,_t),C(T,O[3],B[3]),C(T,T,m),C(Z,O[2],B[2]),j(Z,Z,Z),K(it,x,q),K(et,Z,T),j(pt,Z,T),j(gt,x,q),C(O[0],it,et),C(O[1],gt,pt),C(O[2],pt,et),C(O[3],it,gt)}function I(O,B,q){for(let x=0;x<4;x++)L(O[x],B[x],q)}function o(O,B){const q=n(),x=n(),T=n();st(T,B[2]),C(q,B[0],T),C(x,B[1],T),k(O,x),O[31]^=X(q)<<7}function h(O,B,q){N(O[0],u),N(O[1],p),N(O[2],p),N(O[3],u);for(let x=255;x>=0;--x){const T=q[x/8|0]>>(x&7)&1;I(O,B,T),H(B,O),H(O,O),I(O,B,T)}}function c(O,B){const q=[n(),n(),n(),n()];N(q[0],w),N(q[1],S),N(q[2],p),C(q[3],w,S),h(O,q,B)}function v(O){if(O.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const B=(0,r.hash)(O);B[0]&=248,B[31]&=127,B[31]|=64;const q=new Uint8Array(32),x=[n(),n(),n(),n()];c(x,B),o(q,x);const T=new Uint8Array(64);return T.set(O),T.set(q,32),{publicKey:q,secretKey:T}}e.generateKeyPairFromSeed=v;function y(O){const B=(0,t.randomBytes)(32,O),q=v(B);return(0,i.wipe)(B),q}e.generateKeyPair=y;function M(O){if(O.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(O.subarray(32))}e.extractPublicKeyFromSecretKey=M;const E=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function d(O,B){let q,x,T,Z;for(x=63;x>=32;--x){for(q=0,T=x-32,Z=x-12;T<Z;++T)B[T]+=q-16*B[x]*E[T-(x-32)],q=Math.floor((B[T]+128)/256),B[T]-=q*256;B[T]+=q,B[x]=0}for(q=0,T=0;T<32;T++)B[T]+=q-(B[31]>>4)*E[T],q=B[T]>>8,B[T]&=255;for(T=0;T<32;T++)B[T]-=q*E[T];for(x=0;x<32;x++)B[x+1]+=B[x]>>8,O[x]=B[x]&255}function f(O){const B=new Float64Array(64);for(let q=0;q<64;q++)B[q]=O[q];for(let q=0;q<64;q++)O[q]=0;d(O,B)}function _(O,B){const q=new Float64Array(64),x=[n(),n(),n(),n()],T=(0,r.hash)(O.subarray(0,32));T[0]&=248,T[31]&=127,T[31]|=64;const Z=new Uint8Array(64);Z.set(T.subarray(32),32);const it=new r.SHA512;it.update(Z.subarray(32)),it.update(B);const et=it.digest();it.clean(),f(et),c(x,et),o(Z,x),it.reset(),it.update(Z.subarray(0,32)),it.update(O.subarray(32)),it.update(B);const pt=it.digest();f(pt);for(let gt=0;gt<32;gt++)q[gt]=et[gt];for(let gt=0;gt<32;gt++)for(let _t=0;_t<32;_t++)q[gt+_t]+=pt[gt]*T[_t];return d(Z.subarray(32),q),Z}e.sign=_;function J(O,B){const q=n(),x=n(),T=n(),Z=n(),it=n(),et=n(),pt=n();return N(O[2],p),$(O[1],B),z(T,O[1]),C(Z,T,b),K(T,T,O[2]),j(Z,O[2],Z),z(it,Z),z(et,it),C(pt,et,it),C(q,pt,T),C(q,q,Z),dt(q,q),C(q,q,T),C(q,q,Z),C(q,q,Z),C(O[0],q,Z),z(x,O[0]),C(x,x,Z),Q(x,T)&&C(O[0],O[0],D),z(x,O[0]),C(x,x,Z),Q(x,T)?-1:(X(O[0])===B[31]>>7&&K(O[0],u,O[0]),C(O[3],O[0],O[1]),0)}function W(O,B,q){const x=new Uint8Array(32),T=[n(),n(),n(),n()],Z=[n(),n(),n(),n()];if(q.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(J(Z,O))return!1;const it=new r.SHA512;it.update(q.subarray(0,32)),it.update(O),it.update(B);const et=it.digest();return f(et),h(T,Z,et),c(Z,q.subarray(32)),H(T,Z),o(x,T),!Y(q,x)}e.verify=W;function g(O){let B=[n(),n(),n(),n()];if(J(B,O))throw new Error("Ed25519: invalid public key");let q=n(),x=n(),T=B[1];j(q,p,T),K(x,p,T),st(x,x),C(q,q,x);let Z=new Uint8Array(32);return k(Z,q),Z}e.convertPublicKeyToX25519=g;function F(O){const B=(0,r.hash)(O.subarray(0,32));B[0]&=248,B[31]&=127,B[31]|=64;const q=new Uint8Array(B.subarray(0,32));return(0,i.wipe)(B),q}e.convertSecretKeyToX25519=F})(b2);const hD="EdDSA",uD="JWT",q0=".",Al="base64url",Wb="utf8",Xb="utf8",cD=":",lD="did",dD="key",Am="base58btc",pD="z",gD="K36",mD=32;function y2(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Zb(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?y2(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function vD(e,t){t||(t=e.reduce((n,s)=>n+s.length,0));const r=Zb(t);let i=0;for(const n of e)r.set(n,i),i+=n.length;return y2(r)}function bD(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),u=s.charCodeAt(0);if(r[u]!==255)throw new TypeError(s+" is ambiguous");r[u]=n}var p=e.length,b=e.charAt(0),m=Math.log(p)/Math.log(256),w=Math.log(256)/Math.log(p);function S(P){if(P instanceof Uint8Array||(ArrayBuffer.isView(P)?P=new Uint8Array(P.buffer,P.byteOffset,P.byteLength):Array.isArray(P)&&(P=Uint8Array.from(P))),!(P instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(P.length===0)return"";for(var L=0,k=0,Y=0,Q=P.length;Y!==Q&&P[Y]===0;)Y++,L++;for(var X=(Q-Y)*w+1>>>0,$=new Uint8Array(X);Y!==Q;){for(var j=P[Y],K=0,C=X-1;(j!==0||K<k)&&C!==-1;C--,K++)j+=256*$[C]>>>0,$[C]=j%p>>>0,j=j/p>>>0;if(j!==0)throw new Error("Non-zero carry");k=K,Y++}for(var z=X-k;z!==X&&$[z]===0;)z++;for(var st=b.repeat(L);z<X;++z)st+=e.charAt($[z]);return st}function D(P){if(typeof P!="string")throw new TypeError("Expected String");if(P.length===0)return new Uint8Array;var L=0;if(P[L]!==" "){for(var k=0,Y=0;P[L]===b;)k++,L++;for(var Q=(P.length-L)*m+1>>>0,X=new Uint8Array(Q);P[L];){var $=r[P.charCodeAt(L)];if($===255)return;for(var j=0,K=Q-1;($!==0||j<Y)&&K!==-1;K--,j++)$+=p*X[K]>>>0,X[K]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");Y=j,L++}if(P[L]!==" "){for(var C=Q-Y;C!==Q&&X[C]===0;)C++;for(var z=new Uint8Array(k+(Q-C)),st=k;C!==Q;)z[st++]=X[C++];return z}}}function N(P){var L=D(P);if(L)return L;throw new Error(`Non-${t} character`)}return{encode:S,decodeUnsafe:D,decode:N}}var yD=bD,wD=yD;const AD=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},_D=e=>new TextEncoder().encode(e),ED=e=>new TextDecoder().decode(e);class MD{constructor(t,r,i){this.name=t,this.prefix=r,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class SD{constructor(t,r,i){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return ty(this,t)}}class xD{constructor(t){this.decoders=t}or(t){return ty(this,t)}decode(t){const r=t[0],i=this.decoders[r];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ty=(e,t)=>new xD({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class ID{constructor(t,r,i,n){this.name=t,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new MD(t,r,i),this.decoder=new SD(t,r,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const _l=({name:e,prefix:t,encode:r,decode:i})=>new ID(e,t,r,i),Ou=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=wD(r,t);return _l({prefix:e,name:t,encode:i,decode:s=>AD(n(s))})},DD=(e,t,r,i)=>{const n={};for(let w=0;w<t.length;++w)n[t[w]]=w;let s=e.length;for(;e[s-1]==="=";)--s;const u=new Uint8Array(s*r/8|0);let p=0,b=0,m=0;for(let w=0;w<s;++w){const S=n[e[w]];if(S===void 0)throw new SyntaxError(`Non-${i} character`);b=b<<r|S,p+=r,p>=8&&(p-=8,u[m++]=255&b>>p)}if(p>=r||255&b<<8-p)throw new SyntaxError("Unexpected end of data");return u},ND=(e,t,r)=>{const i=t[t.length-1]==="=",n=(1<<r)-1;let s="",u=0,p=0;for(let b=0;b<e.length;++b)for(p=p<<8|e[b],u+=8;u>r;)u-=r,s+=t[n&p>>u];if(u&&(s+=t[n&p<<r-u]),i)for(;s.length*r&7;)s+="=";return s},ni=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>_l({prefix:t,name:e,encode(n){return ND(n,i,r)},decode(n){return DD(n,i,r,e)}}),CD=_l({prefix:"\0",name:"identity",encode:e=>ED(e),decode:e=>_D(e)}),RD=Object.freeze(Object.defineProperty({__proto__:null,identity:CD},Symbol.toStringTag,{value:"Module"})),PD=ni({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),OD=Object.freeze(Object.defineProperty({__proto__:null,base2:PD},Symbol.toStringTag,{value:"Module"})),BD=ni({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),TD=Object.freeze(Object.defineProperty({__proto__:null,base8:BD},Symbol.toStringTag,{value:"Module"})),FD=Ou({prefix:"9",name:"base10",alphabet:"0123456789"}),UD=Object.freeze(Object.defineProperty({__proto__:null,base10:FD},Symbol.toStringTag,{value:"Module"})),qD=ni({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),LD=ni({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),kD=Object.freeze(Object.defineProperty({__proto__:null,base16:qD,base16upper:LD},Symbol.toStringTag,{value:"Module"})),zD=ni({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$D=ni({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),HD=ni({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),jD=ni({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),KD=ni({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),GD=ni({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),QD=ni({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),VD=ni({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),JD=ni({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),YD=Object.freeze(Object.defineProperty({__proto__:null,base32:zD,base32hex:KD,base32hexpad:QD,base32hexpadupper:VD,base32hexupper:GD,base32pad:HD,base32padupper:jD,base32upper:$D,base32z:JD},Symbol.toStringTag,{value:"Module"})),WD=Ou({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),XD=Ou({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ZD=Object.freeze(Object.defineProperty({__proto__:null,base36:WD,base36upper:XD},Symbol.toStringTag,{value:"Module"})),tN=Ou({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eN=Ou({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),rN=Object.freeze(Object.defineProperty({__proto__:null,base58btc:tN,base58flickr:eN},Symbol.toStringTag,{value:"Module"})),iN=ni({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nN=ni({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),sN=ni({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),oN=ni({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),aN=Object.freeze(Object.defineProperty({__proto__:null,base64:iN,base64pad:nN,base64url:sN,base64urlpad:oN},Symbol.toStringTag,{value:"Module"})),ey=Array.from(""),fN=ey.reduce((e,t,r)=>(e[r]=t,e),[]),hN=ey.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function uN(e){return e.reduce((t,r)=>(t+=fN[r],t),"")}function cN(e){const t=[];for(const r of e){const i=hN[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(i)}return new Uint8Array(t)}const lN=_l({prefix:"",name:"base256emoji",encode:uN,decode:cN}),dN=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:lN},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const L0={...RD,...OD,...TD,...UD,...kD,...YD,...ZD,...rN,...aN,...dN};function ry(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const _m=ry("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),a1=ry("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=Zb(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),iy={utf8:_m,"utf-8":_m,hex:L0.base16,latin1:a1,ascii:a1,binary:a1,...L0};function El(e,t="utf8"){const r=iy[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function nh(e,t="utf8"){const r=iy[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?y2(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function Em(e){return La(El(nh(e,Al),Wb))}function k0(e){return El(nh(Bo(e),Wb),Al)}function ny(e){const t=nh(gD,Am),r=pD+El(vD([t,e]),Am);return[lD,dD,r].join(cD)}function pN(e){return El(e,Al)}function gN(e){return nh(e,Al)}function mN(e){return nh([k0(e.header),k0(e.payload)].join(q0),Xb)}function vN(e){return[k0(e.header),k0(e.payload),pN(e.signature)].join(q0)}function Sp(e){const t=e.split(q0),r=Em(t[0]),i=Em(t[1]),n=gN(t[2]),s=nh(t.slice(0,2).join(q0),Xb);return{header:r,payload:i,signature:n,data:s}}function Mm(e=ua.randomBytes(mD)){return b2.generateKeyPairFromSeed(e)}async function bN(e,t,r,i,n=Xt.fromMiliseconds(Date.now())){const s={alg:hD,typ:uD},u=ny(i.publicKey),p=n+r,b={iss:u,sub:e,aud:t,iat:n,exp:p},m=mN({header:s,payload:b}),w=b2.sign(i.secretKey,m);return vN({header:s,payload:b,signature:w})}var Sm=function(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,s;i<n;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},yN=function(){function e(t,r,i){this.name=t,this.version=r,this.os=i,this.type="browser"}return e}(),wN=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),AN=function(){function e(t,r,i,n){this.name=t,this.version=r,this.os=i,this.bot=n,this.type="bot-device"}return e}(),_N=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),EN=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),MN=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SN=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,xm=3,xN=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",MN]],Im=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function IN(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new EN:typeof navigator<"u"?NN(navigator.userAgent):RN()}function DN(e){return e!==""&&xN.reduce(function(t,r){var i=r[0],n=r[1];if(t)return t;var s=n.exec(e);return!!s&&[i,s]},!1)}function NN(e){var t=DN(e);if(!t)return null;var r=t[0],i=t[1];if(r==="searchbot")return new _N;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<xm&&(n=Sm(Sm([],n,!0),PN(xm-n.length),!0)):n=[];var s=n.join("."),u=CN(e),p=SN.exec(e);return p&&p[1]?new AN(r,s,u,p[1]):new yN(r,s,u)}function CN(e){for(var t=0,r=Im.length;t<r;t++){var i=Im[t],n=i[0],s=i[1],u=s.exec(e);if(u)return n}return null}function RN(){var e=typeof process<"u"&&process.version;return e?new wN(process.version.slice(1)):null}function PN(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.getLocalStorage=sr.getLocalStorageOrThrow=sr.getCrypto=sr.getCryptoOrThrow=sy=sr.getLocation=sr.getLocationOrThrow=Bu=sr.getNavigator=sr.getNavigatorOrThrow=oh=sr.getDocument=sr.getDocumentOrThrow=sr.getFromWindowOrThrow=sr.getFromWindow=void 0;function Ga(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}sr.getFromWindow=Ga;function sh(e){const t=Ga(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}sr.getFromWindowOrThrow=sh;function ON(){return sh("document")}sr.getDocumentOrThrow=ON;function BN(){return Ga("document")}var oh=sr.getDocument=BN;function TN(){return sh("navigator")}sr.getNavigatorOrThrow=TN;function FN(){return Ga("navigator")}var Bu=sr.getNavigator=FN;function UN(){return sh("location")}sr.getLocationOrThrow=UN;function qN(){return Ga("location")}var sy=sr.getLocation=qN;function LN(){return sh("crypto")}sr.getCryptoOrThrow=LN;function kN(){return Ga("crypto")}sr.getCrypto=kN;function zN(){return sh("localStorage")}sr.getLocalStorageOrThrow=zN;function $N(){return Ga("localStorage")}sr.getLocalStorage=$N;var w2={};Object.defineProperty(w2,"__esModule",{value:!0});var A2=w2.getWindowMetadata=void 0;const Dm=sr;function HN(){let e,t;try{e=Dm.getDocumentOrThrow(),t=Dm.getLocationOrThrow()}catch{return null}function r(){const S=e.getElementsByTagName("link"),D=[];for(let N=0;N<S.length;N++){const P=S[N],L=P.getAttribute("rel");if(L&&L.toLowerCase().indexOf("icon")>-1){const k=P.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let Y=t.protocol+"//"+t.host;if(k.indexOf("/")===0)Y+=k;else{const Q=t.pathname.split("/");Q.pop();const X=Q.join("/");Y+=X+"/"+k}D.push(Y)}else if(k.indexOf("//")===0){const Y=t.protocol+k;D.push(Y)}else D.push(k)}}return D}function i(...S){const D=e.getElementsByTagName("meta");for(let N=0;N<D.length;N++){const P=D[N],L=["itemprop","property","name"].map(k=>P.getAttribute(k)).filter(k=>k?S.includes(k):!1);if(L.length&&L){const k=P.getAttribute("content");if(k)return k}}return""}function n(){let S=i("name","og:site_name","og:title","twitter:title");return S||(S=e.title),S}function s(){return i("description","og:description","twitter:description","keywords")}const u=n(),p=s(),b=t.origin,m=r();return{description:p,url:b,icons:m,name:u}}A2=w2.getWindowMetadata=HN;var wu={},jN=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),oy="%[a-f0-9]{2}",Nm=new RegExp("("+oy+")|([^%]+?)","gi"),Cm=new RegExp("("+oy+")+","gi");function xp(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],xp(r),xp(i))}function KN(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(Nm)||[],r=1;r<t.length;r++)e=xp(t,r).join(""),t=e.match(Nm)||[];return e}}function GN(e){for(var t={"%FE%FF":"","%FF%FE":""},r=Cm.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var i=KN(r[0]);i!==r[0]&&(t[r[0]]=i)}r=Cm.exec(e)}t["%C2"]="";for(var n=Object.keys(t),s=0;s<n.length;s++){var u=n[s];e=e.replace(new RegExp(u,"g"),t[u])}return e}var QN=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return GN(e)}},VN=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},JN=function(e,t){for(var r={},i=Object.keys(e),n=Array.isArray(t),s=0;s<i.length;s++){var u=i[s],p=e[u];(n?t.indexOf(u)!==-1:t(u,p,e))&&(r[u]=p)}return r};(function(e){const t=jN,r=QN,i=VN,n=JN,s=Q=>Q==null,u=Symbol("encodeFragmentIdentifier");function p(Q){switch(Q.arrayFormat){case"index":return X=>($,j)=>{const K=$.length;return j===void 0||Q.skipNull&&j===null||Q.skipEmptyString&&j===""?$:j===null?[...$,[w(X,Q),"[",K,"]"].join("")]:[...$,[w(X,Q),"[",w(K,Q),"]=",w(j,Q)].join("")]};case"bracket":return X=>($,j)=>j===void 0||Q.skipNull&&j===null||Q.skipEmptyString&&j===""?$:j===null?[...$,[w(X,Q),"[]"].join("")]:[...$,[w(X,Q),"[]=",w(j,Q)].join("")];case"colon-list-separator":return X=>($,j)=>j===void 0||Q.skipNull&&j===null||Q.skipEmptyString&&j===""?$:j===null?[...$,[w(X,Q),":list="].join("")]:[...$,[w(X,Q),":list=",w(j,Q)].join("")];case"comma":case"separator":case"bracket-separator":{const X=Q.arrayFormat==="bracket-separator"?"[]=":"=";return $=>(j,K)=>K===void 0||Q.skipNull&&K===null||Q.skipEmptyString&&K===""?j:(K=K===null?"":K,j.length===0?[[w($,Q),X,w(K,Q)].join("")]:[[j,w(K,Q)].join(Q.arrayFormatSeparator)])}default:return X=>($,j)=>j===void 0||Q.skipNull&&j===null||Q.skipEmptyString&&j===""?$:j===null?[...$,w(X,Q)]:[...$,[w(X,Q),"=",w(j,Q)].join("")]}}function b(Q){let X;switch(Q.arrayFormat){case"index":return($,j,K)=>{if(X=/\[(\d*)\]$/.exec($),$=$.replace(/\[\d*\]$/,""),!X){K[$]=j;return}K[$]===void 0&&(K[$]={}),K[$][X[1]]=j};case"bracket":return($,j,K)=>{if(X=/(\[\])$/.exec($),$=$.replace(/\[\]$/,""),!X){K[$]=j;return}if(K[$]===void 0){K[$]=[j];return}K[$]=[].concat(K[$],j)};case"colon-list-separator":return($,j,K)=>{if(X=/(:list)$/.exec($),$=$.replace(/:list$/,""),!X){K[$]=j;return}if(K[$]===void 0){K[$]=[j];return}K[$]=[].concat(K[$],j)};case"comma":case"separator":return($,j,K)=>{const C=typeof j=="string"&&j.includes(Q.arrayFormatSeparator),z=typeof j=="string"&&!C&&S(j,Q).includes(Q.arrayFormatSeparator);j=z?S(j,Q):j;const st=C||z?j.split(Q.arrayFormatSeparator).map(dt=>S(dt,Q)):j===null?j:S(j,Q);K[$]=st};case"bracket-separator":return($,j,K)=>{const C=/(\[\])$/.test($);if($=$.replace(/\[\]$/,""),!C){K[$]=j&&S(j,Q);return}const z=j===null?[]:j.split(Q.arrayFormatSeparator).map(st=>S(st,Q));if(K[$]===void 0){K[$]=z;return}K[$]=[].concat(K[$],z)};default:return($,j,K)=>{if(K[$]===void 0){K[$]=j;return}K[$]=[].concat(K[$],j)}}}function m(Q){if(typeof Q!="string"||Q.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function w(Q,X){return X.encode?X.strict?t(Q):encodeURIComponent(Q):Q}function S(Q,X){return X.decode?r(Q):Q}function D(Q){return Array.isArray(Q)?Q.sort():typeof Q=="object"?D(Object.keys(Q)).sort((X,$)=>Number(X)-Number($)).map(X=>Q[X]):Q}function N(Q){const X=Q.indexOf("#");return X!==-1&&(Q=Q.slice(0,X)),Q}function P(Q){let X="";const $=Q.indexOf("#");return $!==-1&&(X=Q.slice($)),X}function L(Q){Q=N(Q);const X=Q.indexOf("?");return X===-1?"":Q.slice(X+1)}function k(Q,X){return X.parseNumbers&&!Number.isNaN(Number(Q))&&typeof Q=="string"&&Q.trim()!==""?Q=Number(Q):X.parseBooleans&&Q!==null&&(Q.toLowerCase()==="true"||Q.toLowerCase()==="false")&&(Q=Q.toLowerCase()==="true"),Q}function Y(Q,X){X=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},X),m(X.arrayFormatSeparator);const $=b(X),j=Object.create(null);if(typeof Q!="string"||(Q=Q.trim().replace(/^[?#&]/,""),!Q))return j;for(const K of Q.split("&")){if(K==="")continue;let[C,z]=i(X.decode?K.replace(/\+/g," "):K,"=");z=z===void 0?null:["comma","separator","bracket-separator"].includes(X.arrayFormat)?z:S(z,X),$(S(C,X),z,j)}for(const K of Object.keys(j)){const C=j[K];if(typeof C=="object"&&C!==null)for(const z of Object.keys(C))C[z]=k(C[z],X);else j[K]=k(C,X)}return X.sort===!1?j:(X.sort===!0?Object.keys(j).sort():Object.keys(j).sort(X.sort)).reduce((K,C)=>{const z=j[C];return z&&typeof z=="object"&&!Array.isArray(z)?K[C]=D(z):K[C]=z,K},Object.create(null))}e.extract=L,e.parse=Y,e.stringify=(Q,X)=>{if(!Q)return"";X=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},X),m(X.arrayFormatSeparator);const $=z=>X.skipNull&&s(Q[z])||X.skipEmptyString&&Q[z]==="",j=p(X),K={};for(const z of Object.keys(Q))$(z)||(K[z]=Q[z]);const C=Object.keys(K);return X.sort!==!1&&C.sort(X.sort),C.map(z=>{const st=Q[z];return st===void 0?"":st===null?w(z,X):Array.isArray(st)?st.length===0&&X.arrayFormat==="bracket-separator"?w(z,X)+"[]":st.reduce(j(z),[]).join("&"):w(z,X)+"="+w(st,X)}).filter(z=>z.length>0).join("&")},e.parseUrl=(Q,X)=>{X=Object.assign({decode:!0},X);const[$,j]=i(Q,"#");return Object.assign({url:$.split("?")[0]||"",query:Y(L(Q),X)},X&&X.parseFragmentIdentifier&&j?{fragmentIdentifier:S(j,X)}:{})},e.stringifyUrl=(Q,X)=>{X=Object.assign({encode:!0,strict:!0,[u]:!0},X);const $=N(Q.url).split("?")[0]||"",j=e.extract(Q.url),K=e.parse(j,{sort:!1}),C=Object.assign(K,Q.query);let z=e.stringify(C,X);z&&(z=`?${z}`);let st=P(Q.url);return Q.fragmentIdentifier&&(st=`#${X[u]?w(Q.fragmentIdentifier,X):Q.fragmentIdentifier}`),`${$}${z}${st}`},e.pick=(Q,X,$)=>{$=Object.assign({parseFragmentIdentifier:!0,[u]:!1},$);const{url:j,query:K,fragmentIdentifier:C}=e.parseUrl(Q,$);return e.stringifyUrl({url:j,query:n(K,X),fragmentIdentifier:C},$)},e.exclude=(Q,X,$)=>{const j=Array.isArray(X)?K=>!X.includes(K):(K,C)=>!X(K,C);return e.pick(Q,j,$)}})(wu);var _2={},Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});var fi=Se,Ip=fn,YN=20;function WN(e,t,r){for(var i=1634760805,n=857760878,s=2036477234,u=1797285236,p=r[3]<<24|r[2]<<16|r[1]<<8|r[0],b=r[7]<<24|r[6]<<16|r[5]<<8|r[4],m=r[11]<<24|r[10]<<16|r[9]<<8|r[8],w=r[15]<<24|r[14]<<16|r[13]<<8|r[12],S=r[19]<<24|r[18]<<16|r[17]<<8|r[16],D=r[23]<<24|r[22]<<16|r[21]<<8|r[20],N=r[27]<<24|r[26]<<16|r[25]<<8|r[24],P=r[31]<<24|r[30]<<16|r[29]<<8|r[28],L=t[3]<<24|t[2]<<16|t[1]<<8|t[0],k=t[7]<<24|t[6]<<16|t[5]<<8|t[4],Y=t[11]<<24|t[10]<<16|t[9]<<8|t[8],Q=t[15]<<24|t[14]<<16|t[13]<<8|t[12],X=i,$=n,j=s,K=u,C=p,z=b,st=m,dt=w,H=S,I=D,o=N,h=P,c=L,v=k,y=Y,M=Q,E=0;E<YN;E+=2)X=X+C|0,c^=X,c=c>>>16|c<<16,H=H+c|0,C^=H,C=C>>>20|C<<12,$=$+z|0,v^=$,v=v>>>16|v<<16,I=I+v|0,z^=I,z=z>>>20|z<<12,j=j+st|0,y^=j,y=y>>>16|y<<16,o=o+y|0,st^=o,st=st>>>20|st<<12,K=K+dt|0,M^=K,M=M>>>16|M<<16,h=h+M|0,dt^=h,dt=dt>>>20|dt<<12,j=j+st|0,y^=j,y=y>>>24|y<<8,o=o+y|0,st^=o,st=st>>>25|st<<7,K=K+dt|0,M^=K,M=M>>>24|M<<8,h=h+M|0,dt^=h,dt=dt>>>25|dt<<7,$=$+z|0,v^=$,v=v>>>24|v<<8,I=I+v|0,z^=I,z=z>>>25|z<<7,X=X+C|0,c^=X,c=c>>>24|c<<8,H=H+c|0,C^=H,C=C>>>25|C<<7,X=X+z|0,M^=X,M=M>>>16|M<<16,o=o+M|0,z^=o,z=z>>>20|z<<12,$=$+st|0,c^=$,c=c>>>16|c<<16,h=h+c|0,st^=h,st=st>>>20|st<<12,j=j+dt|0,v^=j,v=v>>>16|v<<16,H=H+v|0,dt^=H,dt=dt>>>20|dt<<12,K=K+C|0,y^=K,y=y>>>16|y<<16,I=I+y|0,C^=I,C=C>>>20|C<<12,j=j+dt|0,v^=j,v=v>>>24|v<<8,H=H+v|0,dt^=H,dt=dt>>>25|dt<<7,K=K+C|0,y^=K,y=y>>>24|y<<8,I=I+y|0,C^=I,C=C>>>25|C<<7,$=$+st|0,c^=$,c=c>>>24|c<<8,h=h+c|0,st^=h,st=st>>>25|st<<7,X=X+z|0,M^=X,M=M>>>24|M<<8,o=o+M|0,z^=o,z=z>>>25|z<<7;fi.writeUint32LE(X+i|0,e,0),fi.writeUint32LE($+n|0,e,4),fi.writeUint32LE(j+s|0,e,8),fi.writeUint32LE(K+u|0,e,12),fi.writeUint32LE(C+p|0,e,16),fi.writeUint32LE(z+b|0,e,20),fi.writeUint32LE(st+m|0,e,24),fi.writeUint32LE(dt+w|0,e,28),fi.writeUint32LE(H+S|0,e,32),fi.writeUint32LE(I+D|0,e,36),fi.writeUint32LE(o+N|0,e,40),fi.writeUint32LE(h+P|0,e,44),fi.writeUint32LE(c+L|0,e,48),fi.writeUint32LE(v+k|0,e,52),fi.writeUint32LE(y+Y|0,e,56),fi.writeUint32LE(M+Q|0,e,60)}function ay(e,t,r,i,n){if(n===void 0&&(n=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,u;if(n===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),u=s.length-t.length,s.set(t,u)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=t,u=n}for(var p=new Uint8Array(64),b=0;b<r.length;b+=64){WN(p,s,e);for(var m=b;m<b+64&&m<r.length;m++)i[m]=r[m]^p[m-b];ZN(s,0,u)}return Ip.wipe(p),n===0&&Ip.wipe(s),i}Ml.streamXOR=ay;function XN(e,t,r,i){return i===void 0&&(i=0),Ip.wipe(r),ay(e,t,r,r,i)}Ml.stream=XN;function ZN(e,t,r){for(var i=1;r--;)i=i+(e[t]&255)|0,e[t]=i&255,i>>>=8,t++;if(i>0)throw new Error("ChaCha: counter overflow")}var fy={},ca={};Object.defineProperty(ca,"__esModule",{value:!0});function tC(e,t,r){return~(e-1)&t|e-1&r}ca.select=tC;function eC(e,t){return(e|0)-(t|0)-1>>>31&1}ca.lessOrEqual=eC;function hy(e,t){if(e.length!==t.length)return 0;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 1&r-1>>>8}ca.compare=hy;function rC(e,t){return e.length===0||t.length===0?!1:hy(e,t)!==0}ca.equal=rC;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ca,r=fn;e.DIGEST_LENGTH=16;var i=function(){function u(p){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var b=p[0]|p[1]<<8;this._r[0]=b&8191;var m=p[2]|p[3]<<8;this._r[1]=(b>>>13|m<<3)&8191;var w=p[4]|p[5]<<8;this._r[2]=(m>>>10|w<<6)&7939;var S=p[6]|p[7]<<8;this._r[3]=(w>>>7|S<<9)&8191;var D=p[8]|p[9]<<8;this._r[4]=(S>>>4|D<<12)&255,this._r[5]=D>>>1&8190;var N=p[10]|p[11]<<8;this._r[6]=(D>>>14|N<<2)&8191;var P=p[12]|p[13]<<8;this._r[7]=(N>>>11|P<<5)&8065;var L=p[14]|p[15]<<8;this._r[8]=(P>>>8|L<<8)&8191,this._r[9]=L>>>5&127,this._pad[0]=p[16]|p[17]<<8,this._pad[1]=p[18]|p[19]<<8,this._pad[2]=p[20]|p[21]<<8,this._pad[3]=p[22]|p[23]<<8,this._pad[4]=p[24]|p[25]<<8,this._pad[5]=p[26]|p[27]<<8,this._pad[6]=p[28]|p[29]<<8,this._pad[7]=p[30]|p[31]<<8}return u.prototype._blocks=function(p,b,m){for(var w=this._fin?0:2048,S=this._h[0],D=this._h[1],N=this._h[2],P=this._h[3],L=this._h[4],k=this._h[5],Y=this._h[6],Q=this._h[7],X=this._h[8],$=this._h[9],j=this._r[0],K=this._r[1],C=this._r[2],z=this._r[3],st=this._r[4],dt=this._r[5],H=this._r[6],I=this._r[7],o=this._r[8],h=this._r[9];m>=16;){var c=p[b+0]|p[b+1]<<8;S+=c&8191;var v=p[b+2]|p[b+3]<<8;D+=(c>>>13|v<<3)&8191;var y=p[b+4]|p[b+5]<<8;N+=(v>>>10|y<<6)&8191;var M=p[b+6]|p[b+7]<<8;P+=(y>>>7|M<<9)&8191;var E=p[b+8]|p[b+9]<<8;L+=(M>>>4|E<<12)&8191,k+=E>>>1&8191;var d=p[b+10]|p[b+11]<<8;Y+=(E>>>14|d<<2)&8191;var f=p[b+12]|p[b+13]<<8;Q+=(d>>>11|f<<5)&8191;var _=p[b+14]|p[b+15]<<8;X+=(f>>>8|_<<8)&8191,$+=_>>>5|w;var J=0,W=J;W+=S*j,W+=D*(5*h),W+=N*(5*o),W+=P*(5*I),W+=L*(5*H),J=W>>>13,W&=8191,W+=k*(5*dt),W+=Y*(5*st),W+=Q*(5*z),W+=X*(5*C),W+=$*(5*K),J+=W>>>13,W&=8191;var g=J;g+=S*K,g+=D*j,g+=N*(5*h),g+=P*(5*o),g+=L*(5*I),J=g>>>13,g&=8191,g+=k*(5*H),g+=Y*(5*dt),g+=Q*(5*st),g+=X*(5*z),g+=$*(5*C),J+=g>>>13,g&=8191;var F=J;F+=S*C,F+=D*K,F+=N*j,F+=P*(5*h),F+=L*(5*o),J=F>>>13,F&=8191,F+=k*(5*I),F+=Y*(5*H),F+=Q*(5*dt),F+=X*(5*st),F+=$*(5*z),J+=F>>>13,F&=8191;var O=J;O+=S*z,O+=D*C,O+=N*K,O+=P*j,O+=L*(5*h),J=O>>>13,O&=8191,O+=k*(5*o),O+=Y*(5*I),O+=Q*(5*H),O+=X*(5*dt),O+=$*(5*st),J+=O>>>13,O&=8191;var B=J;B+=S*st,B+=D*z,B+=N*C,B+=P*K,B+=L*j,J=B>>>13,B&=8191,B+=k*(5*h),B+=Y*(5*o),B+=Q*(5*I),B+=X*(5*H),B+=$*(5*dt),J+=B>>>13,B&=8191;var q=J;q+=S*dt,q+=D*st,q+=N*z,q+=P*C,q+=L*K,J=q>>>13,q&=8191,q+=k*j,q+=Y*(5*h),q+=Q*(5*o),q+=X*(5*I),q+=$*(5*H),J+=q>>>13,q&=8191;var x=J;x+=S*H,x+=D*dt,x+=N*st,x+=P*z,x+=L*C,J=x>>>13,x&=8191,x+=k*K,x+=Y*j,x+=Q*(5*h),x+=X*(5*o),x+=$*(5*I),J+=x>>>13,x&=8191;var T=J;T+=S*I,T+=D*H,T+=N*dt,T+=P*st,T+=L*z,J=T>>>13,T&=8191,T+=k*C,T+=Y*K,T+=Q*j,T+=X*(5*h),T+=$*(5*o),J+=T>>>13,T&=8191;var Z=J;Z+=S*o,Z+=D*I,Z+=N*H,Z+=P*dt,Z+=L*st,J=Z>>>13,Z&=8191,Z+=k*z,Z+=Y*C,Z+=Q*K,Z+=X*j,Z+=$*(5*h),J+=Z>>>13,Z&=8191;var it=J;it+=S*h,it+=D*o,it+=N*I,it+=P*H,it+=L*dt,J=it>>>13,it&=8191,it+=k*st,it+=Y*z,it+=Q*C,it+=X*K,it+=$*j,J+=it>>>13,it&=8191,J=(J<<2)+J|0,J=J+W|0,W=J&8191,J=J>>>13,g+=J,S=W,D=g,N=F,P=O,L=B,k=q,Y=x,Q=T,X=Z,$=it,b+=16,m-=16}this._h[0]=S,this._h[1]=D,this._h[2]=N,this._h[3]=P,this._h[4]=L,this._h[5]=k,this._h[6]=Y,this._h[7]=Q,this._h[8]=X,this._h[9]=$},u.prototype.finish=function(p,b){b===void 0&&(b=0);var m=new Uint16Array(10),w,S,D,N;if(this._leftover){for(N=this._leftover,this._buffer[N++]=1;N<16;N++)this._buffer[N]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(w=this._h[1]>>>13,this._h[1]&=8191,N=2;N<10;N++)this._h[N]+=w,w=this._h[N]>>>13,this._h[N]&=8191;for(this._h[0]+=w*5,w=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=w,w=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=w,m[0]=this._h[0]+5,w=m[0]>>>13,m[0]&=8191,N=1;N<10;N++)m[N]=this._h[N]+w,w=m[N]>>>13,m[N]&=8191;for(m[9]-=8192,S=(w^1)-1,N=0;N<10;N++)m[N]&=S;for(S=~S,N=0;N<10;N++)this._h[N]=this._h[N]&S|m[N];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,D=this._h[0]+this._pad[0],this._h[0]=D&65535,N=1;N<8;N++)D=(this._h[N]+this._pad[N]|0)+(D>>>16)|0,this._h[N]=D&65535;return p[b+0]=this._h[0]>>>0,p[b+1]=this._h[0]>>>8,p[b+2]=this._h[1]>>>0,p[b+3]=this._h[1]>>>8,p[b+4]=this._h[2]>>>0,p[b+5]=this._h[2]>>>8,p[b+6]=this._h[3]>>>0,p[b+7]=this._h[3]>>>8,p[b+8]=this._h[4]>>>0,p[b+9]=this._h[4]>>>8,p[b+10]=this._h[5]>>>0,p[b+11]=this._h[5]>>>8,p[b+12]=this._h[6]>>>0,p[b+13]=this._h[6]>>>8,p[b+14]=this._h[7]>>>0,p[b+15]=this._h[7]>>>8,this._finished=!0,this},u.prototype.update=function(p){var b=0,m=p.length,w;if(this._leftover){w=16-this._leftover,w>m&&(w=m);for(var S=0;S<w;S++)this._buffer[this._leftover+S]=p[b+S];if(m-=w,b+=w,this._leftover+=w,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(m>=16&&(w=m-m%16,this._blocks(p,b,w),b+=w,m-=w),m){for(var S=0;S<m;S++)this._buffer[this._leftover+S]=p[b+S];this._leftover+=m}return this},u.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var p=new Uint8Array(16);return this.finish(p),p},u.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},u}();e.Poly1305=i;function n(u,p){var b=new i(u);b.update(p);var m=b.digest();return b.clean(),m}e.oneTimeAuth=n;function s(u,p){return u.length!==e.DIGEST_LENGTH||p.length!==e.DIGEST_LENGTH?!1:t.equal(u,p)}e.equal=s})(fy);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Ml,r=fy,i=fn,n=Se,s=ca;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var u=new Uint8Array(16),p=function(){function b(m){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,m.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(m)}return b.prototype.seal=function(m,w,S,D){if(m.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var N=new Uint8Array(16);N.set(m,N.length-m.length);var P=new Uint8Array(32);t.stream(this._key,N,P,4);var L=w.length+this.tagLength,k;if(D){if(D.length!==L)throw new Error("ChaCha20Poly1305: incorrect destination length");k=D}else k=new Uint8Array(L);return t.streamXOR(this._key,N,w,k,4),this._authenticate(k.subarray(k.length-this.tagLength,k.length),P,k.subarray(0,k.length-this.tagLength),S),i.wipe(N),k},b.prototype.open=function(m,w,S,D){if(m.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(w.length<this.tagLength)return null;var N=new Uint8Array(16);N.set(m,N.length-m.length);var P=new Uint8Array(32);t.stream(this._key,N,P,4);var L=new Uint8Array(this.tagLength);if(this._authenticate(L,P,w.subarray(0,w.length-this.tagLength),S),!s.equal(L,w.subarray(w.length-this.tagLength,w.length)))return null;var k=w.length-this.tagLength,Y;if(D){if(D.length!==k)throw new Error("ChaCha20Poly1305: incorrect destination length");Y=D}else Y=new Uint8Array(k);return t.streamXOR(this._key,N,w.subarray(0,w.length-this.tagLength),Y,4),i.wipe(N),Y},b.prototype.clean=function(){return i.wipe(this._key),this},b.prototype._authenticate=function(m,w,S,D){var N=new r.Poly1305(w);D&&(N.update(D),D.length%16>0&&N.update(u.subarray(D.length%16))),N.update(S),S.length%16>0&&N.update(u.subarray(S.length%16));var P=new Uint8Array(8);D&&n.writeUint64LE(D.length,P),N.update(P),n.writeUint64LE(S.length,P),N.update(P);for(var L=N.digest(),k=0;k<L.length;k++)m[k]=L[k];N.clean(),i.wipe(L),i.wipe(P)},b}();e.ChaCha20Poly1305=p})(_2);var uy={},Tu={},E2={};Object.defineProperty(E2,"__esModule",{value:!0});function iC(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}E2.isSerializableHash=iC;Object.defineProperty(Tu,"__esModule",{value:!0});var bs=E2,nC=ca,sC=fn,cy=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var i=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(i).clean():i.set(r);for(var n=0;n<i.length;n++)i[n]^=54;this._inner.update(i);for(var n=0;n<i.length;n++)i[n]^=106;this._outer.update(i),bs.isSerializableHash(this._inner)&&bs.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),sC.wipe(i)}return e.prototype.reset=function(){if(!bs.isSerializableHash(this._inner)||!bs.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){bs.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),bs.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!bs.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!bs.isSerializableHash(this._inner)||!bs.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!bs.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();Tu.HMAC=cy;function oC(e,t,r){var i=new cy(e,t);i.update(r);var n=i.digest();return i.clean(),n}Tu.hmac=oC;Tu.equal=nC.equal;Object.defineProperty(uy,"__esModule",{value:!0});var Rm=Tu,Pm=fn,aC=function(){function e(t,r,i,n){i===void 0&&(i=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=n;var s=Rm.hmac(this._hash,i,r);this._hmac=new Rm.HMAC(t,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),i=0;i<r.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[i]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),Pm.wipe(this._buffer),Pm.wipe(this._counter),this._bufpos=0},e}(),fC=uy.HKDF=aC,Qa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Se,r=fn;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var i=function(){function p(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return p.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},p.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},p.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},p.prototype.update=function(b,m){if(m===void 0&&(m=b.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var w=0;if(this._bytesHashed+=m,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&m>0;)this._buffer[this._bufferLength++]=b[w++],m--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(m>=this.blockSize&&(w=s(this._temp,this._state,b,w,m),m%=this.blockSize);m>0;)this._buffer[this._bufferLength++]=b[w++],m--;return this},p.prototype.finish=function(b){if(!this._finished){var m=this._bytesHashed,w=this._bufferLength,S=m/536870912|0,D=m<<3,N=m%64<56?64:128;this._buffer[w]=128;for(var P=w+1;P<N-8;P++)this._buffer[P]=0;t.writeUint32BE(S,this._buffer,N-8),t.writeUint32BE(D,this._buffer,N-4),s(this._temp,this._state,this._buffer,0,N),this._finished=!0}for(var P=0;P<this.digestLength/4;P++)t.writeUint32BE(this._state[P],b,P*4);return this},p.prototype.digest=function(){var b=new Uint8Array(this.digestLength);return this.finish(b),b},p.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},p.prototype.restoreState=function(b){return this._state.set(b.state),this._bufferLength=b.bufferLength,b.buffer&&this._buffer.set(b.buffer),this._bytesHashed=b.bytesHashed,this._finished=!1,this},p.prototype.cleanSavedState=function(b){r.wipe(b.state),b.buffer&&r.wipe(b.buffer),b.bufferLength=0,b.bytesHashed=0},p}();e.SHA256=i;var n=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(p,b,m,w,S){for(;S>=64;){for(var D=b[0],N=b[1],P=b[2],L=b[3],k=b[4],Y=b[5],Q=b[6],X=b[7],$=0;$<16;$++){var j=w+$*4;p[$]=t.readUint32BE(m,j)}for(var $=16;$<64;$++){var K=p[$-2],C=(K>>>17|K<<15)^(K>>>19|K<<13)^K>>>10;K=p[$-15];var z=(K>>>7|K<<25)^(K>>>18|K<<14)^K>>>3;p[$]=(C+p[$-7]|0)+(z+p[$-16]|0)}for(var $=0;$<64;$++){var C=(((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&Y^~k&Q)|0)+(X+(n[$]+p[$]|0)|0)|0,z=((D>>>2|D<<30)^(D>>>13|D<<19)^(D>>>22|D<<10))+(D&N^D&P^N&P)|0;X=Q,Q=Y,Y=k,k=L+C|0,L=P,P=N,N=D,D=C+z|0}b[0]+=D,b[1]+=N,b[2]+=P,b[3]+=L,b[4]+=k,b[5]+=Y,b[6]+=Q,b[7]+=X,w+=64,S-=64}return w}function u(p){var b=new i;b.update(p);var m=b.digest();return b.clean(),m}e.hash=u})(Qa);var M2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=ua,r=fn;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function i($){const j=new Float64Array(16);if($)for(let K=0;K<$.length;K++)j[K]=$[K];return j}const n=new Uint8Array(32);n[0]=9;const s=i([56129,1]);function u($){let j=1;for(let K=0;K<16;K++){let C=$[K]+j+65535;j=Math.floor(C/65536),$[K]=C-j*65536}$[0]+=j-1+37*(j-1)}function p($,j,K){const C=~(K-1);for(let z=0;z<16;z++){const st=C&($[z]^j[z]);$[z]^=st,j[z]^=st}}function b($,j){const K=i(),C=i();for(let z=0;z<16;z++)C[z]=j[z];u(C),u(C),u(C);for(let z=0;z<2;z++){K[0]=C[0]-65517;for(let dt=1;dt<15;dt++)K[dt]=C[dt]-65535-(K[dt-1]>>16&1),K[dt-1]&=65535;K[15]=C[15]-32767-(K[14]>>16&1);const st=K[15]>>16&1;K[14]&=65535,p(C,K,1-st)}for(let z=0;z<16;z++)$[2*z]=C[z]&255,$[2*z+1]=C[z]>>8}function m($,j){for(let K=0;K<16;K++)$[K]=j[2*K]+(j[2*K+1]<<8);$[15]&=32767}function w($,j,K){for(let C=0;C<16;C++)$[C]=j[C]+K[C]}function S($,j,K){for(let C=0;C<16;C++)$[C]=j[C]-K[C]}function D($,j,K){let C,z,st=0,dt=0,H=0,I=0,o=0,h=0,c=0,v=0,y=0,M=0,E=0,d=0,f=0,_=0,J=0,W=0,g=0,F=0,O=0,B=0,q=0,x=0,T=0,Z=0,it=0,et=0,pt=0,gt=0,_t=0,re=0,bt=0,Et=K[0],Qt=K[1],ct=K[2],yt=K[3],Wt=K[4],ht=K[5],wt=K[6],Kt=K[7],ut=K[8],It=K[9],Vt=K[10],mt=K[11],Rt=K[12],te=K[13],vt=K[14],Pt=K[15];C=j[0],st+=C*Et,dt+=C*Qt,H+=C*ct,I+=C*yt,o+=C*Wt,h+=C*ht,c+=C*wt,v+=C*Kt,y+=C*ut,M+=C*It,E+=C*Vt,d+=C*mt,f+=C*Rt,_+=C*te,J+=C*vt,W+=C*Pt,C=j[1],dt+=C*Et,H+=C*Qt,I+=C*ct,o+=C*yt,h+=C*Wt,c+=C*ht,v+=C*wt,y+=C*Kt,M+=C*ut,E+=C*It,d+=C*Vt,f+=C*mt,_+=C*Rt,J+=C*te,W+=C*vt,g+=C*Pt,C=j[2],H+=C*Et,I+=C*Qt,o+=C*ct,h+=C*yt,c+=C*Wt,v+=C*ht,y+=C*wt,M+=C*Kt,E+=C*ut,d+=C*It,f+=C*Vt,_+=C*mt,J+=C*Rt,W+=C*te,g+=C*vt,F+=C*Pt,C=j[3],I+=C*Et,o+=C*Qt,h+=C*ct,c+=C*yt,v+=C*Wt,y+=C*ht,M+=C*wt,E+=C*Kt,d+=C*ut,f+=C*It,_+=C*Vt,J+=C*mt,W+=C*Rt,g+=C*te,F+=C*vt,O+=C*Pt,C=j[4],o+=C*Et,h+=C*Qt,c+=C*ct,v+=C*yt,y+=C*Wt,M+=C*ht,E+=C*wt,d+=C*Kt,f+=C*ut,_+=C*It,J+=C*Vt,W+=C*mt,g+=C*Rt,F+=C*te,O+=C*vt,B+=C*Pt,C=j[5],h+=C*Et,c+=C*Qt,v+=C*ct,y+=C*yt,M+=C*Wt,E+=C*ht,d+=C*wt,f+=C*Kt,_+=C*ut,J+=C*It,W+=C*Vt,g+=C*mt,F+=C*Rt,O+=C*te,B+=C*vt,q+=C*Pt,C=j[6],c+=C*Et,v+=C*Qt,y+=C*ct,M+=C*yt,E+=C*Wt,d+=C*ht,f+=C*wt,_+=C*Kt,J+=C*ut,W+=C*It,g+=C*Vt,F+=C*mt,O+=C*Rt,B+=C*te,q+=C*vt,x+=C*Pt,C=j[7],v+=C*Et,y+=C*Qt,M+=C*ct,E+=C*yt,d+=C*Wt,f+=C*ht,_+=C*wt,J+=C*Kt,W+=C*ut,g+=C*It,F+=C*Vt,O+=C*mt,B+=C*Rt,q+=C*te,x+=C*vt,T+=C*Pt,C=j[8],y+=C*Et,M+=C*Qt,E+=C*ct,d+=C*yt,f+=C*Wt,_+=C*ht,J+=C*wt,W+=C*Kt,g+=C*ut,F+=C*It,O+=C*Vt,B+=C*mt,q+=C*Rt,x+=C*te,T+=C*vt,Z+=C*Pt,C=j[9],M+=C*Et,E+=C*Qt,d+=C*ct,f+=C*yt,_+=C*Wt,J+=C*ht,W+=C*wt,g+=C*Kt,F+=C*ut,O+=C*It,B+=C*Vt,q+=C*mt,x+=C*Rt,T+=C*te,Z+=C*vt,it+=C*Pt,C=j[10],E+=C*Et,d+=C*Qt,f+=C*ct,_+=C*yt,J+=C*Wt,W+=C*ht,g+=C*wt,F+=C*Kt,O+=C*ut,B+=C*It,q+=C*Vt,x+=C*mt,T+=C*Rt,Z+=C*te,it+=C*vt,et+=C*Pt,C=j[11],d+=C*Et,f+=C*Qt,_+=C*ct,J+=C*yt,W+=C*Wt,g+=C*ht,F+=C*wt,O+=C*Kt,B+=C*ut,q+=C*It,x+=C*Vt,T+=C*mt,Z+=C*Rt,it+=C*te,et+=C*vt,pt+=C*Pt,C=j[12],f+=C*Et,_+=C*Qt,J+=C*ct,W+=C*yt,g+=C*Wt,F+=C*ht,O+=C*wt,B+=C*Kt,q+=C*ut,x+=C*It,T+=C*Vt,Z+=C*mt,it+=C*Rt,et+=C*te,pt+=C*vt,gt+=C*Pt,C=j[13],_+=C*Et,J+=C*Qt,W+=C*ct,g+=C*yt,F+=C*Wt,O+=C*ht,B+=C*wt,q+=C*Kt,x+=C*ut,T+=C*It,Z+=C*Vt,it+=C*mt,et+=C*Rt,pt+=C*te,gt+=C*vt,_t+=C*Pt,C=j[14],J+=C*Et,W+=C*Qt,g+=C*ct,F+=C*yt,O+=C*Wt,B+=C*ht,q+=C*wt,x+=C*Kt,T+=C*ut,Z+=C*It,it+=C*Vt,et+=C*mt,pt+=C*Rt,gt+=C*te,_t+=C*vt,re+=C*Pt,C=j[15],W+=C*Et,g+=C*Qt,F+=C*ct,O+=C*yt,B+=C*Wt,q+=C*ht,x+=C*wt,T+=C*Kt,Z+=C*ut,it+=C*It,et+=C*Vt,pt+=C*mt,gt+=C*Rt,_t+=C*te,re+=C*vt,bt+=C*Pt,st+=38*g,dt+=38*F,H+=38*O,I+=38*B,o+=38*q,h+=38*x,c+=38*T,v+=38*Z,y+=38*it,M+=38*et,E+=38*pt,d+=38*gt,f+=38*_t,_+=38*re,J+=38*bt,z=1,C=st+z+65535,z=Math.floor(C/65536),st=C-z*65536,C=dt+z+65535,z=Math.floor(C/65536),dt=C-z*65536,C=H+z+65535,z=Math.floor(C/65536),H=C-z*65536,C=I+z+65535,z=Math.floor(C/65536),I=C-z*65536,C=o+z+65535,z=Math.floor(C/65536),o=C-z*65536,C=h+z+65535,z=Math.floor(C/65536),h=C-z*65536,C=c+z+65535,z=Math.floor(C/65536),c=C-z*65536,C=v+z+65535,z=Math.floor(C/65536),v=C-z*65536,C=y+z+65535,z=Math.floor(C/65536),y=C-z*65536,C=M+z+65535,z=Math.floor(C/65536),M=C-z*65536,C=E+z+65535,z=Math.floor(C/65536),E=C-z*65536,C=d+z+65535,z=Math.floor(C/65536),d=C-z*65536,C=f+z+65535,z=Math.floor(C/65536),f=C-z*65536,C=_+z+65535,z=Math.floor(C/65536),_=C-z*65536,C=J+z+65535,z=Math.floor(C/65536),J=C-z*65536,C=W+z+65535,z=Math.floor(C/65536),W=C-z*65536,st+=z-1+37*(z-1),z=1,C=st+z+65535,z=Math.floor(C/65536),st=C-z*65536,C=dt+z+65535,z=Math.floor(C/65536),dt=C-z*65536,C=H+z+65535,z=Math.floor(C/65536),H=C-z*65536,C=I+z+65535,z=Math.floor(C/65536),I=C-z*65536,C=o+z+65535,z=Math.floor(C/65536),o=C-z*65536,C=h+z+65535,z=Math.floor(C/65536),h=C-z*65536,C=c+z+65535,z=Math.floor(C/65536),c=C-z*65536,C=v+z+65535,z=Math.floor(C/65536),v=C-z*65536,C=y+z+65535,z=Math.floor(C/65536),y=C-z*65536,C=M+z+65535,z=Math.floor(C/65536),M=C-z*65536,C=E+z+65535,z=Math.floor(C/65536),E=C-z*65536,C=d+z+65535,z=Math.floor(C/65536),d=C-z*65536,C=f+z+65535,z=Math.floor(C/65536),f=C-z*65536,C=_+z+65535,z=Math.floor(C/65536),_=C-z*65536,C=J+z+65535,z=Math.floor(C/65536),J=C-z*65536,C=W+z+65535,z=Math.floor(C/65536),W=C-z*65536,st+=z-1+37*(z-1),$[0]=st,$[1]=dt,$[2]=H,$[3]=I,$[4]=o,$[5]=h,$[6]=c,$[7]=v,$[8]=y,$[9]=M,$[10]=E,$[11]=d,$[12]=f,$[13]=_,$[14]=J,$[15]=W}function N($,j){D($,j,j)}function P($,j){const K=i();for(let C=0;C<16;C++)K[C]=j[C];for(let C=253;C>=0;C--)N(K,K),C!==2&&C!==4&&D(K,K,j);for(let C=0;C<16;C++)$[C]=K[C]}function L($,j){const K=new Uint8Array(32),C=new Float64Array(80),z=i(),st=i(),dt=i(),H=i(),I=i(),o=i();for(let y=0;y<31;y++)K[y]=$[y];K[31]=$[31]&127|64,K[0]&=248,m(C,j);for(let y=0;y<16;y++)st[y]=C[y];z[0]=H[0]=1;for(let y=254;y>=0;--y){const M=K[y>>>3]>>>(y&7)&1;p(z,st,M),p(dt,H,M),w(I,z,dt),S(z,z,dt),w(dt,st,H),S(st,st,H),N(H,I),N(o,z),D(z,dt,z),D(dt,st,I),w(I,z,dt),S(z,z,dt),N(st,z),S(dt,H,o),D(z,dt,s),w(z,z,H),D(dt,dt,z),D(z,H,o),D(H,st,C),N(st,I),p(z,st,M),p(dt,H,M)}for(let y=0;y<16;y++)C[y+16]=z[y],C[y+32]=dt[y],C[y+48]=st[y],C[y+64]=H[y];const h=C.subarray(32),c=C.subarray(16);P(h,h),D(c,c,h);const v=new Uint8Array(32);return b(v,c),v}e.scalarMult=L;function k($){return L($,n)}e.scalarMultBase=k;function Y($){if($.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const j=new Uint8Array($);return{publicKey:k(j),secretKey:j}}e.generateKeyPairFromSeed=Y;function Q($){const j=(0,t.randomBytes)(32,$),K=Y(j);return(0,r.wipe)(j),K}e.generateKeyPair=Q;function X($,j,K=!1){if($.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(j.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const C=L($,j);if(K){let z=0;for(let st=0;st<C.length;st++)z|=C[st];if(z===0)throw new Error("X25519: invalid shared key")}return C}e.sharedKey=X})(M2);function ly(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function f1(e,t){t||(t=e.reduce((n,s)=>n+s.length,0));const r=ly(t);let i=0;for(const n of e)r.set(n,i),i+=n.length;return r}function dy(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const Om=dy("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),h1=dy("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=ly(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),py={utf8:Om,"utf-8":Om,hex:L0.base16,latin1:h1,ascii:h1,binary:h1,...L0};function zi(e,t="utf8"){const r=py[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function di(e,t="utf8"){const r=py[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}const hC={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},uC="PARSE_ERROR",cC="INVALID_REQUEST",lC="METHOD_NOT_FOUND",dC="INVALID_PARAMS",gy="INTERNAL_ERROR",S2="SERVER_ERROR",pC=[-32700,-32600,-32601,-32602,-32603],au={[uC]:{code:-32700,message:"Parse error"},[cC]:{code:-32600,message:"Invalid Request"},[lC]:{code:-32601,message:"Method not found"},[dC]:{code:-32602,message:"Invalid params"},[gy]:{code:-32603,message:"Internal error"},[S2]:{code:-32e3,message:"Server error"}},my=S2;function gC(e){return pC.includes(e)}function Bm(e){return Object.keys(au).includes(e)?au[e]:au[my]}function mC(e){const t=Object.values(au).find(r=>r.code===e);return t||au[my]}function vy(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var by={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Dp=function(e,t){return Dp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)i.hasOwnProperty(n)&&(r[n]=i[n])},Dp(e,t)};function vC(e,t){Dp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Np=function(){return Np=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Np.apply(this,arguments)};function bC(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function yC(e,t,r,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,i);else for(var p=e.length-1;p>=0;p--)(u=e[p])&&(s=(n<3?u(s):n>3?u(t,r,s):u(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s}function wC(e,t){return function(r,i){t(r,i,e)}}function AC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function _C(e,t,r,i){function n(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function p(w){try{m(i.next(w))}catch(S){u(S)}}function b(w){try{m(i.throw(w))}catch(S){u(S)}}function m(w){w.done?s(w.value):n(w.value).then(p,b)}m((i=i.apply(e,t||[])).next())})}function EC(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(m){return function(w){return b([m,w])}}function b(m){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=m[0]&2?n.return:m[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,m[1])).done)return s;switch(n=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,n=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(w){m=[6,w],n=0}finally{i=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function MC(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}function SC(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Cp(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),n,s=[],u;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(p){u={error:p}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return s}function xC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(yy(arguments[t]));return e}function IC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var s=arguments[t],u=0,p=s.length;u<p;u++,n++)i[n]=s[u];return i}function Au(e){return this instanceof Au?(this.v=e,this):new Au(e)}function DC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),n,s=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(D){i[D]&&(n[D]=function(N){return new Promise(function(P,L){s.push([D,N,P,L])>1||p(D,N)})})}function p(D,N){try{b(i[D](N))}catch(P){S(s[0][3],P)}}function b(D){D.value instanceof Au?Promise.resolve(D.value.v).then(m,w):S(s[0][2],D)}function m(D){p("next",D)}function w(D){p("throw",D)}function S(D,N){D(N),s.shift(),s.length&&p(s[0][0],s[0][1])}}function NC(e){var t,r;return t={},i("next"),i("throw",function(n){throw n}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(n,s){t[n]=e[n]?function(u){return(r=!r)?{value:Au(e[n](u)),done:n==="return"}:s?s(u):u}:s}}function CC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Cp=="function"?Cp(e):e[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(s){r[s]=e[s]&&function(u){return new Promise(function(p,b){u=e[s](u),n(p,b,u.done,u.value)})}}function n(s,u,p,b){Promise.resolve(b).then(function(m){s({value:m,done:p})},u)}}function RC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function PC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function OC(e){return e&&e.__esModule?e:{default:e}}function BC(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function TC(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const FC=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Np},__asyncDelegator:NC,__asyncGenerator:DC,__asyncValues:CC,__await:Au,__awaiter:_C,__classPrivateFieldGet:BC,__classPrivateFieldSet:TC,__createBinding:MC,__decorate:yC,__exportStar:SC,__extends:vC,__generator:EC,__importDefault:OC,__importStar:PC,__makeTemplateObject:RC,__metadata:AC,__param:wC,__read:yy,__rest:bC,__spread:xC,__spreadArrays:IC,__values:Cp},Symbol.toStringTag,{value:"Module"})),UC=hb(FC);var mo={},Tm;function qC(){if(Tm)return mo;Tm=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.isBrowserCryptoAvailable=mo.getSubtleCrypto=mo.getBrowerCrypto=void 0;function e(){return(Ai===null||Ai===void 0?void 0:Ai.crypto)||(Ai===null||Ai===void 0?void 0:Ai.msCrypto)||{}}mo.getBrowerCrypto=e;function t(){const i=e();return i.subtle||i.webkitSubtle}mo.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return mo.isBrowserCryptoAvailable=r,mo}var vo={},Fm;function LC(){if(Fm)return vo;Fm=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.isBrowser=vo.isNode=vo.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}vo.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}vo.isNode=t;function r(){return!e()&&!t()}return vo.isBrowser=r,vo}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=UC;t.__exportStar(qC(),e),t.__exportStar(LC(),e)})(by);function Yo(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function Pa(e=6){return BigInt(Yo(e))}function sa(e,t,r){return{id:r||Yo(),jsonrpc:"2.0",method:e,params:t}}function Sl(e,t){return{id:e,jsonrpc:"2.0",result:t}}function xl(e,t,r){return{id:e,jsonrpc:"2.0",error:kC(t)}}function kC(e,t){return typeof e>"u"?Bm(gy):(typeof e=="string"&&(e=Object.assign(Object.assign({},Bm(S2)),{message:e})),gC(e.code)&&(e=mC(e.code)),e)}class zC{}let $C=class extends zC{constructor(){super()}};class HC extends $C{constructor(t){super()}}const jC="^https?:",KC="^wss?:";function GC(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function wy(e,t){const r=GC(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function Um(e){return wy(e,jC)}function qm(e){return wy(e,KC)}function QC(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function Ay(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function x2(e){return Ay(e)&&"method"in e}function Il(e){return Ay(e)&&(As(e)||Dn(e))}function As(e){return"result"in e}function Dn(e){return"error"in e}let cs=class extends HC{constructor(t){super(t),this.events=new Bn.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(sa(t.method,t.params||[],t.id||Pa().toString()),r)}async requestStrict(t,r){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(s){n(s)}this.events.on(`${t.id}`,s=>{Dn(s)?n(s.error):i(s.result)});try{await this.connection.send(t,r)}catch(s){n(s)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),Il(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};var z0={exports:{}};z0.exports;(function(e,t){var r=200,i="__lodash_hash_undefined__",n=1,s=2,u=9007199254740991,p="[object Arguments]",b="[object Array]",m="[object AsyncFunction]",w="[object Boolean]",S="[object Date]",D="[object Error]",N="[object Function]",P="[object GeneratorFunction]",L="[object Map]",k="[object Number]",Y="[object Null]",Q="[object Object]",X="[object Promise]",$="[object Proxy]",j="[object RegExp]",K="[object Set]",C="[object String]",z="[object Symbol]",st="[object Undefined]",dt="[object WeakMap]",H="[object ArrayBuffer]",I="[object DataView]",o="[object Float32Array]",h="[object Float64Array]",c="[object Int8Array]",v="[object Int16Array]",y="[object Int32Array]",M="[object Uint8Array]",E="[object Uint8ClampedArray]",d="[object Uint16Array]",f="[object Uint32Array]",_=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,g={};g[o]=g[h]=g[c]=g[v]=g[y]=g[M]=g[E]=g[d]=g[f]=!0,g[p]=g[b]=g[H]=g[w]=g[I]=g[S]=g[D]=g[N]=g[L]=g[k]=g[Q]=g[j]=g[K]=g[C]=g[dt]=!1;var F=typeof Ai=="object"&&Ai&&Ai.Object===Object&&Ai,O=typeof self=="object"&&self&&self.Object===Object&&self,B=F||O||Function("return this")(),q=t&&!t.nodeType&&t,x=q&&!0&&e&&!e.nodeType&&e,T=x&&x.exports===q,Z=T&&F.process,it=function(){try{return Z&&Z.binding&&Z.binding("util")}catch{}}(),et=it&&it.isTypedArray;function pt(tt,ot){for(var Ut=-1,ne=tt==null?0:tt.length,er=0,we=[];++Ut<ne;){var fr=tt[Ut];ot(fr,Ut,tt)&&(we[er++]=fr)}return we}function gt(tt,ot){for(var Ut=-1,ne=ot.length,er=tt.length;++Ut<ne;)tt[er+Ut]=ot[Ut];return tt}function _t(tt,ot){for(var Ut=-1,ne=tt==null?0:tt.length;++Ut<ne;)if(ot(tt[Ut],Ut,tt))return!0;return!1}function re(tt,ot){for(var Ut=-1,ne=Array(tt);++Ut<tt;)ne[Ut]=ot(Ut);return ne}function bt(tt){return function(ot){return tt(ot)}}function Et(tt,ot){return tt.has(ot)}function Qt(tt,ot){return tt==null?void 0:tt[ot]}function ct(tt){var ot=-1,Ut=Array(tt.size);return tt.forEach(function(ne,er){Ut[++ot]=[er,ne]}),Ut}function yt(tt,ot){return function(Ut){return tt(ot(Ut))}}function Wt(tt){var ot=-1,Ut=Array(tt.size);return tt.forEach(function(ne){Ut[++ot]=ne}),Ut}var ht=Array.prototype,wt=Function.prototype,Kt=Object.prototype,ut=B["__core-js_shared__"],It=wt.toString,Vt=Kt.hasOwnProperty,mt=function(){var tt=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return tt?"Symbol(src)_1."+tt:""}(),Rt=Kt.toString,te=RegExp("^"+It.call(Vt).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=T?B.Buffer:void 0,Pt=B.Symbol,ue=B.Uint8Array,Tt=Kt.propertyIsEnumerable,Jt=ht.splice,ce=Pt?Pt.toStringTag:void 0,Ft=Object.getOwnPropertySymbols,Yt=vt?vt.isBuffer:void 0,de=yt(Object.keys,Object),Mt=Yi(B,"DataView"),Lt=Yi(B,"Map"),se=Yi(B,"Promise"),St=Yi(B,"Set"),kt=Yi(B,"WeakMap"),ie=Yi(Object,"create"),Dt=so(Mt),jt=so(Lt),oe=so(se),Nt=so(St),zt=so(kt),fe=Pt?Pt.prototype:void 0,xt=fe?fe.valueOf:void 0;function qt(tt){var ot=-1,Ut=tt==null?0:tt.length;for(this.clear();++ot<Ut;){var ne=tt[ot];this.set(ne[0],ne[1])}}function he(){this.__data__=ie?ie(null):{},this.size=0}function Ct(tt){var ot=this.has(tt)&&delete this.__data__[tt];return this.size-=ot?1:0,ot}function Zt(tt){var ot=this.__data__;if(ie){var Ut=ot[tt];return Ut===i?void 0:Ut}return Vt.call(ot,tt)?ot[tt]:void 0}function be(tt){var ot=this.__data__;return ie?ot[tt]!==void 0:Vt.call(ot,tt)}function Ht(tt,ot){var Ut=this.__data__;return this.size+=this.has(tt)?0:1,Ut[tt]=ie&&ot===void 0?i:ot,this}qt.prototype.clear=he,qt.prototype.delete=Ct,qt.prototype.get=Zt,qt.prototype.has=be,qt.prototype.set=Ht;function Gt(tt){var ot=-1,Ut=tt==null?0:tt.length;for(this.clear();++ot<Ut;){var ne=tt[ot];this.set(ne[0],ne[1])}}function ze(){this.__data__=[],this.size=0}function $e(tt){var ot=this.__data__,Ut=la(ot,tt);if(Ut<0)return!1;var ne=ot.length-1;return Ut==ne?ot.pop():Jt.call(ot,Ut,1),--this.size,!0}function He(tt){var ot=this.__data__,Ut=la(ot,tt);return Ut<0?void 0:ot[Ut][1]}function je(tt){return la(this.__data__,tt)>-1}function Ke(tt,ot){var Ut=this.__data__,ne=la(Ut,tt);return ne<0?(++this.size,Ut.push([tt,ot])):Ut[ne][1]=ot,this}Gt.prototype.clear=ze,Gt.prototype.delete=$e,Gt.prototype.get=He,Gt.prototype.has=je,Gt.prototype.set=Ke;function Ie(tt){var ot=-1,Ut=tt==null?0:tt.length;for(this.clear();++ot<Ut;){var ne=tt[ot];this.set(ne[0],ne[1])}}function dr(){this.size=0,this.__data__={hash:new qt,map:new(Lt||Gt),string:new qt}}function Nr(tt){var ot=Fo(this,tt).delete(tt);return this.size-=ot?1:0,ot}function pr(tt){return Fo(this,tt).get(tt)}function Cr(tt){return Fo(this,tt).has(tt)}function Rr(tt,ot){var Ut=Fo(this,tt),ne=Ut.size;return Ut.set(tt,ot),this.size+=Ut.size==ne?0:1,this}Ie.prototype.clear=dr,Ie.prototype.delete=Nr,Ie.prototype.get=pr,Ie.prototype.has=Cr,Ie.prototype.set=Rr;function gr(tt){var ot=-1,Ut=tt==null?0:tt.length;for(this.__data__=new Ie;++ot<Ut;)this.add(tt[ot])}function Sr(tt){return this.__data__.set(tt,i),this}function xr(tt){return this.__data__.has(tt)}gr.prototype.add=gr.prototype.push=Sr,gr.prototype.has=xr;function Ze(tt){var ot=this.__data__=new Gt(tt);this.size=ot.size}function Pr(){this.__data__=new Gt,this.size=0}function Or(tt){var ot=this.__data__,Ut=ot.delete(tt);return this.size=ot.size,Ut}function Br(tt){return this.__data__.get(tt)}function pi(tt){return this.__data__.has(tt)}function ju(tt,ot){var Ut=this.__data__;if(Ut instanceof Gt){var ne=Ut.__data__;if(!Lt||ne.length<r-1)return ne.push([tt,ot]),this.size=++Ut.size,this;Ut=this.__data__=new Ie(ne)}return Ut.set(tt,ot),this.size=Ut.size,this}Ze.prototype.clear=Pr,Ze.prototype.delete=Or,Ze.prototype.get=Br,Ze.prototype.has=pi,Ze.prototype.set=ju;function Ku(tt,ot){var Ut=rf(tt),ne=!Ut&&ic(tt),er=!Ut&&!ne&&_h(tt),we=!Ut&&!ne&&!er&&oc(tt),fr=Ut||ne||er||we,Ir=fr?re(tt.length,String):[],Le=Ir.length;for(var rr in tt)Vt.call(tt,rr)&&!(fr&&(rr=="length"||er&&(rr=="offset"||rr=="parent")||we&&(rr=="buffer"||rr=="byteLength"||rr=="byteOffset")||Xu(rr,Le)))&&Ir.push(rr);return Ir}function la(tt,ot){for(var Ut=tt.length;Ut--;)if(rc(tt[Ut][0],ot))return Ut;return-1}function wh(tt,ot,Ut){var ne=ot(tt);return rf(tt)?ne:gt(ne,Ut(tt))}function da(tt){return tt==null?tt===void 0?st:Y:ce&&ce in Object(tt)?Yu(tt):Ll(tt)}function Ah(tt){return ga(tt)&&da(tt)==p}function pa(tt,ot,Ut,ne,er){return tt===ot?!0:tt==null||ot==null||!ga(tt)&&!ga(ot)?tt!==tt&&ot!==ot:Gu(tt,ot,Ut,ne,pa,er)}function Gu(tt,ot,Ut,ne,er,we){var fr=rf(tt),Ir=rf(ot),Le=fr?b:ds(tt),rr=Ir?b:ds(ot);Le=Le==p?Q:Le,rr=rr==p?Q:rr;var wr=Le==Q,Ci=rr==Q,Dr=Le==rr;if(Dr&&_h(tt)){if(!_h(ot))return!1;fr=!0,wr=!1}if(Dr&&!wr)return we||(we=new Ze),fr||oc(tt)?tf(tt,ot,Ut,ne,er,we):ql(tt,ot,Le,Ut,ne,er,we);if(!(Ut&n)){var hr=wr&&Vt.call(tt,"__wrapped__"),gi=Ci&&Vt.call(ot,"__wrapped__");if(hr||gi){var Un=hr?tt.value():tt,hn=gi?ot.value():ot;return we||(we=new Ze),er(Un,hn,Ut,ne,we)}}return Dr?(we||(we=new Ze),Ju(tt,ot,Ut,ne,er,we)):!1}function Ul(tt){if(!sc(tt)||tc(tt))return!1;var ot=nf(tt)?te:J;return ot.test(so(tt))}function Qu(tt){return ga(tt)&&nc(tt.length)&&!!g[da(tt)]}function Vu(tt){if(!ec(tt))return de(tt);var ot=[];for(var Ut in Object(tt))Vt.call(tt,Ut)&&Ut!="constructor"&&ot.push(Ut);return ot}function tf(tt,ot,Ut,ne,er,we){var fr=Ut&n,Ir=tt.length,Le=ot.length;if(Ir!=Le&&!(fr&&Le>Ir))return!1;var rr=we.get(tt);if(rr&&we.get(ot))return rr==ot;var wr=-1,Ci=!0,Dr=Ut&s?new gr:void 0;for(we.set(tt,ot),we.set(ot,tt);++wr<Ir;){var hr=tt[wr],gi=ot[wr];if(ne)var Un=fr?ne(gi,hr,wr,ot,tt,we):ne(hr,gi,wr,tt,ot,we);if(Un!==void 0){if(Un)continue;Ci=!1;break}if(Dr){if(!_t(ot,function(hn,ps){if(!Et(Dr,ps)&&(hr===hn||er(hr,hn,Ut,ne,we)))return Dr.push(ps)})){Ci=!1;break}}else if(!(hr===gi||er(hr,gi,Ut,ne,we))){Ci=!1;break}}return we.delete(tt),we.delete(ot),Ci}function ql(tt,ot,Ut,ne,er,we,fr){switch(Ut){case I:if(tt.byteLength!=ot.byteLength||tt.byteOffset!=ot.byteOffset)return!1;tt=tt.buffer,ot=ot.buffer;case H:return!(tt.byteLength!=ot.byteLength||!we(new ue(tt),new ue(ot)));case w:case S:case k:return rc(+tt,+ot);case D:return tt.name==ot.name&&tt.message==ot.message;case j:case C:return tt==ot+"";case L:var Ir=ct;case K:var Le=ne&n;if(Ir||(Ir=Wt),tt.size!=ot.size&&!Le)return!1;var rr=fr.get(tt);if(rr)return rr==ot;ne|=s,fr.set(tt,ot);var wr=tf(Ir(tt),Ir(ot),ne,er,we,fr);return fr.delete(tt),wr;case z:if(xt)return xt.call(tt)==xt.call(ot)}return!1}function Ju(tt,ot,Ut,ne,er,we){var fr=Ut&n,Ir=ef(tt),Le=Ir.length,rr=ef(ot),wr=rr.length;if(Le!=wr&&!fr)return!1;for(var Ci=Le;Ci--;){var Dr=Ir[Ci];if(!(fr?Dr in ot:Vt.call(ot,Dr)))return!1}var hr=we.get(tt);if(hr&&we.get(ot))return hr==ot;var gi=!0;we.set(tt,ot),we.set(ot,tt);for(var Un=fr;++Ci<Le;){Dr=Ir[Ci];var hn=tt[Dr],ps=ot[Dr];if(ne)var Eh=fr?ne(ps,hn,Dr,ot,tt,we):ne(hn,ps,Dr,tt,ot,we);if(!(Eh===void 0?hn===ps||er(hn,ps,Ut,ne,we):Eh)){gi=!1;break}Un||(Un=Dr=="constructor")}if(gi&&!Un){var ma=tt.constructor,zr=ot.constructor;ma!=zr&&"constructor"in tt&&"constructor"in ot&&!(typeof ma=="function"&&ma instanceof ma&&typeof zr=="function"&&zr instanceof zr)&&(gi=!1)}return we.delete(tt),we.delete(ot),gi}function ef(tt){return wh(tt,$l,Wu)}function Fo(tt,ot){var Ut=tt.__data__;return Zu(ot)?Ut[typeof ot=="string"?"string":"hash"]:Ut.map}function Yi(tt,ot){var Ut=Qt(tt,ot);return Ul(Ut)?Ut:void 0}function Yu(tt){var ot=Vt.call(tt,ce),Ut=tt[ce];try{tt[ce]=void 0;var ne=!0}catch{}var er=Rt.call(tt);return ne&&(ot?tt[ce]=Ut:delete tt[ce]),er}var Wu=Ft?function(tt){return tt==null?[]:(tt=Object(tt),pt(Ft(tt),function(ot){return Tt.call(tt,ot)}))}:tr,ds=da;(Mt&&ds(new Mt(new ArrayBuffer(1)))!=I||Lt&&ds(new Lt)!=L||se&&ds(se.resolve())!=X||St&&ds(new St)!=K||kt&&ds(new kt)!=dt)&&(ds=function(tt){var ot=da(tt),Ut=ot==Q?tt.constructor:void 0,ne=Ut?so(Ut):"";if(ne)switch(ne){case Dt:return I;case jt:return L;case oe:return X;case Nt:return K;case zt:return dt}return ot});function Xu(tt,ot){return ot=ot??u,!!ot&&(typeof tt=="number"||W.test(tt))&&tt>-1&&tt%1==0&&tt<ot}function Zu(tt){var ot=typeof tt;return ot=="string"||ot=="number"||ot=="symbol"||ot=="boolean"?tt!=="__proto__":tt===null}function tc(tt){return!!mt&&mt in tt}function ec(tt){var ot=tt&&tt.constructor,Ut=typeof ot=="function"&&ot.prototype||Kt;return tt===Ut}function Ll(tt){return Rt.call(tt)}function so(tt){if(tt!=null){try{return It.call(tt)}catch{}try{return tt+""}catch{}}return""}function rc(tt,ot){return tt===ot||tt!==tt&&ot!==ot}var ic=Ah(function(){return arguments}())?Ah:function(tt){return ga(tt)&&Vt.call(tt,"callee")&&!Tt.call(tt,"callee")},rf=Array.isArray;function kl(tt){return tt!=null&&nc(tt.length)&&!nf(tt)}var _h=Yt||Xe;function zl(tt,ot){return pa(tt,ot)}function nf(tt){if(!sc(tt))return!1;var ot=da(tt);return ot==N||ot==P||ot==m||ot==$}function nc(tt){return typeof tt=="number"&&tt>-1&&tt%1==0&&tt<=u}function sc(tt){var ot=typeof tt;return tt!=null&&(ot=="object"||ot=="function")}function ga(tt){return tt!=null&&typeof tt=="object"}var oc=et?bt(et):Qu;function $l(tt){return kl(tt)?Ku(tt):Vu(tt)}function tr(){return[]}function Xe(){return!1}e.exports=zl})(z0,z0.exports);var VC=z0.exports;const JC=f2(VC),YC=":";function _y(e){const[t,r]=e.split(YC);return{namespace:t,reference:r}}function Lm(e,t=[]){const r=[];return Object.keys(e).forEach(i=>{if(t.length&&!t.includes(i))return;const n=e[i];r.push(...n.accounts)}),r}function u1(e=[],t=[]){return[...new Set([...e,...t])]}var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WC(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var XC={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var s=!i&&typeof self=="object",u=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;u?n=Ey:s&&(n=self);var p=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,b=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",m="0123456789abcdef".split(""),w=[31,7936,2031616,520093696],S=[4,1024,262144,67108864],D=[1,256,65536,16777216],N=[6,1536,393216,100663296],P=[0,8,16,24],L=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],Y=[128,256],Q=["hex","buffer","arrayBuffer","array","digest"],X={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(g){return Object.prototype.toString.call(g)==="[object Array]"}),b&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(g){return typeof g=="object"&&g.buffer&&g.buffer.constructor===ArrayBuffer});for(var $=function(g,F,O){return function(B){return new _(g,F,g).update(B)[O]()}},j=function(g,F,O){return function(B,q){return new _(g,F,q).update(B)[O]()}},K=function(g,F,O){return function(B,q,x,T){return h["cshake"+g].update(B,q,x,T)[O]()}},C=function(g,F,O){return function(B,q,x,T){return h["kmac"+g].update(B,q,x,T)[O]()}},z=function(g,F,O,B){for(var q=0;q<Q.length;++q){var x=Q[q];g[x]=F(O,B,x)}return g},st=function(g,F){var O=$(g,F,"hex");return O.create=function(){return new _(g,F,g)},O.update=function(B){return O.create().update(B)},z(O,$,g,F)},dt=function(g,F){var O=j(g,F,"hex");return O.create=function(B){return new _(g,F,B)},O.update=function(B,q){return O.create(q).update(B)},z(O,j,g,F)},H=function(g,F){var O=X[g],B=K(g,F,"hex");return B.create=function(q,x,T){return!x&&!T?h["shake"+g].create(q):new _(g,F,q).bytepad([x,T],O)},B.update=function(q,x,T,Z){return B.create(x,T,Z).update(q)},z(B,K,g,F)},I=function(g,F){var O=X[g],B=C(g,F,"hex");return B.create=function(q,x,T){return new J(g,F,x).bytepad(["KMAC",T],O).bytepad([q],O)},B.update=function(q,x,T,Z){return B.create(q,T,Z).update(x)},z(B,C,g,F)},o=[{name:"keccak",padding:D,bits:k,createMethod:st},{name:"sha3",padding:N,bits:k,createMethod:st},{name:"shake",padding:w,bits:Y,createMethod:dt},{name:"cshake",padding:S,bits:Y,createMethod:H},{name:"kmac",padding:S,bits:Y,createMethod:I}],h={},c=[],v=0;v<o.length;++v)for(var y=o[v],M=y.bits,E=0;E<M.length;++E){var d=y.name+"_"+M[E];if(c.push(d),h[d]=y.createMethod(M[E],y.padding),y.name!=="sha3"){var f=y.name+M[E];c.push(f),h[f]=h[d]}}function _(g,F,O){this.blocks=[],this.s=[],this.padding=F,this.outputBits=O,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(g<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=O>>5,this.extraBytes=(O&31)>>3;for(var B=0;B<50;++B)this.s[B]=0}_.prototype.update=function(g){if(this.finalized)throw new Error(r);var F,O=typeof g;if(O!=="string"){if(O==="object"){if(g===null)throw new Error(t);if(b&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!b||!ArrayBuffer.isView(g)))throw new Error(t)}else throw new Error(t);F=!0}for(var B=this.blocks,q=this.byteCount,x=g.length,T=this.blockCount,Z=0,it=this.s,et,pt;Z<x;){if(this.reset)for(this.reset=!1,B[0]=this.block,et=1;et<T+1;++et)B[et]=0;if(F)for(et=this.start;Z<x&&et<q;++Z)B[et>>2]|=g[Z]<<P[et++&3];else for(et=this.start;Z<x&&et<q;++Z)pt=g.charCodeAt(Z),pt<128?B[et>>2]|=pt<<P[et++&3]:pt<2048?(B[et>>2]|=(192|pt>>6)<<P[et++&3],B[et>>2]|=(128|pt&63)<<P[et++&3]):pt<55296||pt>=57344?(B[et>>2]|=(224|pt>>12)<<P[et++&3],B[et>>2]|=(128|pt>>6&63)<<P[et++&3],B[et>>2]|=(128|pt&63)<<P[et++&3]):(pt=65536+((pt&1023)<<10|g.charCodeAt(++Z)&1023),B[et>>2]|=(240|pt>>18)<<P[et++&3],B[et>>2]|=(128|pt>>12&63)<<P[et++&3],B[et>>2]|=(128|pt>>6&63)<<P[et++&3],B[et>>2]|=(128|pt&63)<<P[et++&3]);if(this.lastByteIndex=et,et>=q){for(this.start=et-q,this.block=B[T],et=0;et<T;++et)it[et]^=B[et];W(it),this.reset=!0}else this.start=et}return this},_.prototype.encode=function(g,F){var O=g&255,B=1,q=[O];for(g=g>>8,O=g&255;O>0;)q.unshift(O),g=g>>8,O=g&255,++B;return F?q.push(B):q.unshift(B),this.update(q),q.length},_.prototype.encodeString=function(g){var F,O=typeof g;if(O!=="string"){if(O==="object"){if(g===null)throw new Error(t);if(b&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!b||!ArrayBuffer.isView(g)))throw new Error(t)}else throw new Error(t);F=!0}var B=0,q=g.length;if(F)B=q;else for(var x=0;x<g.length;++x){var T=g.charCodeAt(x);T<128?B+=1:T<2048?B+=2:T<55296||T>=57344?B+=3:(T=65536+((T&1023)<<10|g.charCodeAt(++x)&1023),B+=4)}return B+=this.encode(B*8),this.update(g),B},_.prototype.bytepad=function(g,F){for(var O=this.encode(F),B=0;B<g.length;++B)O+=this.encodeString(g[B]);var q=F-O%F,x=[];return x.length=q,this.update(x),this},_.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var g=this.blocks,F=this.lastByteIndex,O=this.blockCount,B=this.s;if(g[F>>2]|=this.padding[F&3],this.lastByteIndex===this.byteCount)for(g[0]=g[O],F=1;F<O+1;++F)g[F]=0;for(g[O-1]|=2147483648,F=0;F<O;++F)B[F]^=g[F];W(B)}},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var g=this.blockCount,F=this.s,O=this.outputBlocks,B=this.extraBytes,q=0,x=0,T="",Z;x<O;){for(q=0;q<g&&x<O;++q,++x)Z=F[q],T+=m[Z>>4&15]+m[Z&15]+m[Z>>12&15]+m[Z>>8&15]+m[Z>>20&15]+m[Z>>16&15]+m[Z>>28&15]+m[Z>>24&15];x%g===0&&(W(F),q=0)}return B&&(Z=F[q],T+=m[Z>>4&15]+m[Z&15],B>1&&(T+=m[Z>>12&15]+m[Z>>8&15]),B>2&&(T+=m[Z>>20&15]+m[Z>>16&15])),T},_.prototype.arrayBuffer=function(){this.finalize();var g=this.blockCount,F=this.s,O=this.outputBlocks,B=this.extraBytes,q=0,x=0,T=this.outputBits>>3,Z;B?Z=new ArrayBuffer(O+1<<2):Z=new ArrayBuffer(T);for(var it=new Uint32Array(Z);x<O;){for(q=0;q<g&&x<O;++q,++x)it[x]=F[q];x%g===0&&W(F)}return B&&(it[q]=F[q],Z=Z.slice(0,T)),Z},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var g=this.blockCount,F=this.s,O=this.outputBlocks,B=this.extraBytes,q=0,x=0,T=[],Z,it;x<O;){for(q=0;q<g&&x<O;++q,++x)Z=x<<2,it=F[q],T[Z]=it&255,T[Z+1]=it>>8&255,T[Z+2]=it>>16&255,T[Z+3]=it>>24&255;x%g===0&&W(F)}return B&&(Z=x<<2,it=F[q],T[Z]=it&255,B>1&&(T[Z+1]=it>>8&255),B>2&&(T[Z+2]=it>>16&255)),T};function J(g,F,O){_.call(this,g,F,O)}J.prototype=new _,J.prototype.finalize=function(){return this.encode(this.outputBits,!0),_.prototype.finalize.call(this)};var W=function(g){var F,O,B,q,x,T,Z,it,et,pt,gt,_t,re,bt,Et,Qt,ct,yt,Wt,ht,wt,Kt,ut,It,Vt,mt,Rt,te,vt,Pt,ue,Tt,Jt,ce,Ft,Yt,de,Mt,Lt,se,St,kt,ie,Dt,jt,oe,Nt,zt,fe,xt,qt,he,Ct,Zt,be,Ht,Gt,ze,$e,He,je,Ke,Ie;for(B=0;B<48;B+=2)q=g[0]^g[10]^g[20]^g[30]^g[40],x=g[1]^g[11]^g[21]^g[31]^g[41],T=g[2]^g[12]^g[22]^g[32]^g[42],Z=g[3]^g[13]^g[23]^g[33]^g[43],it=g[4]^g[14]^g[24]^g[34]^g[44],et=g[5]^g[15]^g[25]^g[35]^g[45],pt=g[6]^g[16]^g[26]^g[36]^g[46],gt=g[7]^g[17]^g[27]^g[37]^g[47],_t=g[8]^g[18]^g[28]^g[38]^g[48],re=g[9]^g[19]^g[29]^g[39]^g[49],F=_t^(T<<1|Z>>>31),O=re^(Z<<1|T>>>31),g[0]^=F,g[1]^=O,g[10]^=F,g[11]^=O,g[20]^=F,g[21]^=O,g[30]^=F,g[31]^=O,g[40]^=F,g[41]^=O,F=q^(it<<1|et>>>31),O=x^(et<<1|it>>>31),g[2]^=F,g[3]^=O,g[12]^=F,g[13]^=O,g[22]^=F,g[23]^=O,g[32]^=F,g[33]^=O,g[42]^=F,g[43]^=O,F=T^(pt<<1|gt>>>31),O=Z^(gt<<1|pt>>>31),g[4]^=F,g[5]^=O,g[14]^=F,g[15]^=O,g[24]^=F,g[25]^=O,g[34]^=F,g[35]^=O,g[44]^=F,g[45]^=O,F=it^(_t<<1|re>>>31),O=et^(re<<1|_t>>>31),g[6]^=F,g[7]^=O,g[16]^=F,g[17]^=O,g[26]^=F,g[27]^=O,g[36]^=F,g[37]^=O,g[46]^=F,g[47]^=O,F=pt^(q<<1|x>>>31),O=gt^(x<<1|q>>>31),g[8]^=F,g[9]^=O,g[18]^=F,g[19]^=O,g[28]^=F,g[29]^=O,g[38]^=F,g[39]^=O,g[48]^=F,g[49]^=O,bt=g[0],Et=g[1],oe=g[11]<<4|g[10]>>>28,Nt=g[10]<<4|g[11]>>>28,te=g[20]<<3|g[21]>>>29,vt=g[21]<<3|g[20]>>>29,He=g[31]<<9|g[30]>>>23,je=g[30]<<9|g[31]>>>23,kt=g[40]<<18|g[41]>>>14,ie=g[41]<<18|g[40]>>>14,ce=g[2]<<1|g[3]>>>31,Ft=g[3]<<1|g[2]>>>31,Qt=g[13]<<12|g[12]>>>20,ct=g[12]<<12|g[13]>>>20,zt=g[22]<<10|g[23]>>>22,fe=g[23]<<10|g[22]>>>22,Pt=g[33]<<13|g[32]>>>19,ue=g[32]<<13|g[33]>>>19,Ke=g[42]<<2|g[43]>>>30,Ie=g[43]<<2|g[42]>>>30,Zt=g[5]<<30|g[4]>>>2,be=g[4]<<30|g[5]>>>2,Yt=g[14]<<6|g[15]>>>26,de=g[15]<<6|g[14]>>>26,yt=g[25]<<11|g[24]>>>21,Wt=g[24]<<11|g[25]>>>21,xt=g[34]<<15|g[35]>>>17,qt=g[35]<<15|g[34]>>>17,Tt=g[45]<<29|g[44]>>>3,Jt=g[44]<<29|g[45]>>>3,It=g[6]<<28|g[7]>>>4,Vt=g[7]<<28|g[6]>>>4,Ht=g[17]<<23|g[16]>>>9,Gt=g[16]<<23|g[17]>>>9,Mt=g[26]<<25|g[27]>>>7,Lt=g[27]<<25|g[26]>>>7,ht=g[36]<<21|g[37]>>>11,wt=g[37]<<21|g[36]>>>11,he=g[47]<<24|g[46]>>>8,Ct=g[46]<<24|g[47]>>>8,Dt=g[8]<<27|g[9]>>>5,jt=g[9]<<27|g[8]>>>5,mt=g[18]<<20|g[19]>>>12,Rt=g[19]<<20|g[18]>>>12,ze=g[29]<<7|g[28]>>>25,$e=g[28]<<7|g[29]>>>25,se=g[38]<<8|g[39]>>>24,St=g[39]<<8|g[38]>>>24,Kt=g[48]<<14|g[49]>>>18,ut=g[49]<<14|g[48]>>>18,g[0]=bt^~Qt&yt,g[1]=Et^~ct&Wt,g[10]=It^~mt&te,g[11]=Vt^~Rt&vt,g[20]=ce^~Yt&Mt,g[21]=Ft^~de&Lt,g[30]=Dt^~oe&zt,g[31]=jt^~Nt&fe,g[40]=Zt^~Ht&ze,g[41]=be^~Gt&$e,g[2]=Qt^~yt&ht,g[3]=ct^~Wt&wt,g[12]=mt^~te&Pt,g[13]=Rt^~vt&ue,g[22]=Yt^~Mt&se,g[23]=de^~Lt&St,g[32]=oe^~zt&xt,g[33]=Nt^~fe&qt,g[42]=Ht^~ze&He,g[43]=Gt^~$e&je,g[4]=yt^~ht&Kt,g[5]=Wt^~wt&ut,g[14]=te^~Pt&Tt,g[15]=vt^~ue&Jt,g[24]=Mt^~se&kt,g[25]=Lt^~St&ie,g[34]=zt^~xt&he,g[35]=fe^~qt&Ct,g[44]=ze^~He&Ke,g[45]=$e^~je&Ie,g[6]=ht^~Kt&bt,g[7]=wt^~ut&Et,g[16]=Pt^~Tt&It,g[17]=ue^~Jt&Vt,g[26]=se^~kt&ce,g[27]=St^~ie&Ft,g[36]=xt^~he&Dt,g[37]=qt^~Ct&jt,g[46]=He^~Ke&Zt,g[47]=je^~Ie&be,g[8]=Kt^~bt&Qt,g[9]=ut^~Et&ct,g[18]=Tt^~It&mt,g[19]=Jt^~Vt&Rt,g[28]=kt^~ce&Yt,g[29]=ie^~Ft&de,g[38]=he^~Dt&oe,g[39]=Ct^~jt&Nt,g[48]=Ke^~Zt&Ht,g[49]=Ie^~be&Gt,g[0]^=L[B],g[1]^=L[B+1]};if(p)e.exports=h;else for(v=0;v<c.length;++v)n[c[v]]=h[c[v]]})()})(XC);const ZC="logger/5.7.0";let km=!1,zm=!1;const b0={debug:1,default:2,info:2,warning:3,error:4,off:5};let $m=b0.default,c1=null;function tR(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(e){return e.message}return null}const Hm=tR();var Rp;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(Rp||(Rp={}));var Xn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Xn||(Xn={}));const jm="0123456789abcdef";let $i=class Ur{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();b0[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!($m>b0[i])&&console.log.apply(console,r)}debug(...t){this._log(Ur.levels.DEBUG,t)}info(...t){this._log(Ur.levels.INFO,t)}warn(...t){this._log(Ur.levels.WARNING,t)}makeError(t,r,i){if(zm)return this.makeError("censored error",r,{});r||(r=Ur.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(b=>{const m=i[b];try{if(m instanceof Uint8Array){let w="";for(let S=0;S<m.length;S++)w+=jm[m[S]>>4],w+=jm[m[S]&15];n.push(b+"=Uint8Array(0x"+w+")")}else n.push(b+"="+JSON.stringify(m))}catch{n.push(b+"="+JSON.stringify(i[b].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const s=t;let u="";switch(r){case Xn.NUMERIC_FAULT:{u="NUMERIC_FAULT";const b=t;switch(b){case"overflow":case"underflow":case"division-by-zero":u+="-"+b;break;case"negative-power":case"negative-width":u+="-unsupported";break;case"unbound-bitwise-result":u+="-unbound-result";break}break}case Xn.CALL_EXCEPTION:case Xn.INSUFFICIENT_FUNDS:case Xn.MISSING_NEW:case Xn.NONCE_EXPIRED:case Xn.REPLACEMENT_UNDERPRICED:case Xn.TRANSACTION_REPLACED:case Xn.UNPREDICTABLE_GAS_LIMIT:u=r;break}u&&(t+=" [ See: https://links.ethers.org/v5-errors-"+u+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const p=new Error(t);return p.reason=s,p.code=r,Object.keys(i).forEach(function(b){p[b]=i[b]}),p}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,Ur.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){Hm&&this.throwError("platform missing String.prototype.normalize",Ur.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Hm})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,Ur.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,Ur.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,Ur.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,Ur.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",Ur.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ur.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",Ur.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return c1||(c1=new Ur(ZC)),c1}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ur.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),km){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ur.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}zm=!!t,km=!!r}static setLogLevel(t){const r=b0[t.toLowerCase()];if(r==null){Ur.globalLogger().warn("invalid log level - "+t);return}$m=r}static from(t){return new Ur(t)}};$i.errors=Xn,$i.levels=Rp;const eR="bytes/5.7.0",oa=new $i(eR);function My(e){return!!e.toHexString}function y0(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return y0(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Km(e){return typeof e=="number"&&e==e&&e%1===0}function Fu(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!Km(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Km(r)||r<0||r>=256)return!1}return!0}function Sy(e,t){if(t||(t={}),typeof e=="number"){oa.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),y0(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),My(e)&&(e=e.toHexString()),Hf(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":oa.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return y0(new Uint8Array(i))}return Fu(e)?y0(new Uint8Array(e)):oa.throwArgumentError("invalid arrayify value","value",e)}function Hf(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const l1="0123456789abcdef";function xy(e,t){if(t||(t={}),typeof e=="number"){oa.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=l1[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),My(e))return e.toHexString();if(Hf(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":oa.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Fu(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=l1[(n&240)>>4]+l1[n&15]}return r}return oa.throwArgumentError("invalid hexlify value","value",e)}function $0(e,t){for(typeof e!="string"?e=xy(e):Hf(e)||oa.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&oa.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var Iy={exports:{}},rR={},iR=Object.freeze({__proto__:null,default:rR}),nR=WC(iR);(function(e){(function(t,r){function i(o,h){if(!o)throw new Error(h||"Assertion failed")}function n(o,h){o.super_=h;var c=function(){};c.prototype=h.prototype,o.prototype=new c,o.prototype.constructor=o}function s(o,h,c){if(s.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((h==="le"||h==="be")&&(c=h,h=10),this._init(o||0,h||10,c||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=nR.Buffer}catch{}s.isBN=function(o){return o instanceof s?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===s.wordSize&&Array.isArray(o.words)},s.max=function(o,h){return o.cmp(h)>0?o:h},s.min=function(o,h){return o.cmp(h)<0?o:h},s.prototype._init=function(o,h,c){if(typeof o=="number")return this._initNumber(o,h,c);if(typeof o=="object")return this._initArray(o,h,c);h==="hex"&&(h=16),i(h===(h|0)&&h>=2&&h<=36),o=o.toString().replace(/\s+/g,"");var v=0;o[0]==="-"&&(v++,this.negative=1),v<o.length&&(h===16?this._parseHex(o,v,c):(this._parseBase(o,h,v),c==="le"&&this._initArray(this.toArray(),h,c)))},s.prototype._initNumber=function(o,h,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),h,c)},s.prototype._initArray=function(o,h,c){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y,M,E=0;if(c==="be")for(v=o.length-1,y=0;v>=0;v-=3)M=o[v]|o[v-1]<<8|o[v-2]<<16,this.words[y]|=M<<E&67108863,this.words[y+1]=M>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);else if(c==="le")for(v=0,y=0;v<o.length;v+=3)M=o[v]|o[v+1]<<8|o[v+2]<<16,this.words[y]|=M<<E&67108863,this.words[y+1]=M>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);return this._strip()};function p(o,h){var c=o.charCodeAt(h);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;i(!1,"Invalid character in "+o)}function b(o,h,c){var v=p(o,c);return c-1>=h&&(v|=p(o,c-1)<<4),v}s.prototype._parseHex=function(o,h,c){this.length=Math.ceil((o.length-h)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y=0,M=0,E;if(c==="be")for(v=o.length-1;v>=h;v-=2)E=b(o,h,v)<<y,this.words[M]|=E&67108863,y>=18?(y-=18,M+=1,this.words[M]|=E>>>26):y+=8;else{var d=o.length-h;for(v=d%2===0?h+1:h;v<o.length;v+=2)E=b(o,h,v)<<y,this.words[M]|=E&67108863,y>=18?(y-=18,M+=1,this.words[M]|=E>>>26):y+=8}this._strip()};function m(o,h,c,v){for(var y=0,M=0,E=Math.min(o.length,c),d=h;d<E;d++){var f=o.charCodeAt(d)-48;y*=v,f>=49?M=f-49+10:f>=17?M=f-17+10:M=f,i(f>=0&&M<v,"Invalid character"),y+=M}return y}s.prototype._parseBase=function(o,h,c){this.words=[0],this.length=1;for(var v=0,y=1;y<=67108863;y*=h)v++;v--,y=y/h|0;for(var M=o.length-c,E=M%v,d=Math.min(M,M-E)+c,f=0,_=c;_<d;_+=v)f=m(o,_,_+v,h),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(E!==0){var J=1;for(f=m(o,_,o.length,h),_=0;_<E;_++)J*=h;this.imuln(J),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(o){o.words=new Array(this.length);for(var h=0;h<this.length;h++)o.words[h]=this.words[h];o.length=this.length,o.negative=this.negative,o.red=this.red};function w(o,h){o.words=h.words,o.length=h.length,o.negative=h.negative,o.red=h.red}if(s.prototype._move=function(o){w(o,this)},s.prototype.clone=function(){var o=new s(null);return this.copy(o),o},s.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{s.prototype.inspect=S}else s.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var D=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(o,h){o=o||10,h=h|0||1;var c;if(o===16||o==="hex"){c="";for(var v=0,y=0,M=0;M<this.length;M++){var E=this.words[M],d=((E<<v|y)&16777215).toString(16);y=E>>>24-v&16777215,v+=2,v>=26&&(v-=26,M--),y!==0||M!==this.length-1?c=D[6-d.length]+d+c:c=d+c}for(y!==0&&(c=y.toString(16)+c);c.length%h!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var f=N[o],_=P[o];c="";var J=this.clone();for(J.negative=0;!J.isZero();){var W=J.modrn(_).toString(o);J=J.idivn(_),J.isZero()?c=W+c:c=D[f-W.length]+W+c}for(this.isZero()&&(c="0"+c);c.length%h!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},s.prototype.toJSON=function(){return this.toString(16,2)},u&&(s.prototype.toBuffer=function(o,h){return this.toArrayLike(u,o,h)}),s.prototype.toArray=function(o,h){return this.toArrayLike(Array,o,h)};var L=function(o,h){return o.allocUnsafe?o.allocUnsafe(h):new o(h)};s.prototype.toArrayLike=function(o,h,c){this._strip();var v=this.byteLength(),y=c||Math.max(1,v);i(v<=y,"byte array longer than desired length"),i(y>0,"Requested array length <= 0");var M=L(o,y),E=h==="le"?"LE":"BE";return this["_toArrayLike"+E](M,v),M},s.prototype._toArrayLikeLE=function(o,h){for(var c=0,v=0,y=0,M=0;y<this.length;y++){var E=this.words[y]<<M|v;o[c++]=E&255,c<o.length&&(o[c++]=E>>8&255),c<o.length&&(o[c++]=E>>16&255),M===6?(c<o.length&&(o[c++]=E>>24&255),v=0,M=0):(v=E>>>24,M+=2)}if(c<o.length)for(o[c++]=v;c<o.length;)o[c++]=0},s.prototype._toArrayLikeBE=function(o,h){for(var c=o.length-1,v=0,y=0,M=0;y<this.length;y++){var E=this.words[y]<<M|v;o[c--]=E&255,c>=0&&(o[c--]=E>>8&255),c>=0&&(o[c--]=E>>16&255),M===6?(c>=0&&(o[c--]=E>>24&255),v=0,M=0):(v=E>>>24,M+=2)}if(c>=0)for(o[c--]=v;c>=0;)o[c--]=0},Math.clz32?s.prototype._countBits=function(o){return 32-Math.clz32(o)}:s.prototype._countBits=function(o){var h=o,c=0;return h>=4096&&(c+=13,h>>>=13),h>=64&&(c+=7,h>>>=7),h>=8&&(c+=4,h>>>=4),h>=2&&(c+=2,h>>>=2),c+h},s.prototype._zeroBits=function(o){if(o===0)return 26;var h=o,c=0;return h&8191||(c+=13,h>>>=13),h&127||(c+=7,h>>>=7),h&15||(c+=4,h>>>=4),h&3||(c+=2,h>>>=2),h&1||c++,c},s.prototype.bitLength=function(){var o=this.words[this.length-1],h=this._countBits(o);return(this.length-1)*26+h};function k(o){for(var h=new Array(o.bitLength()),c=0;c<h.length;c++){var v=c/26|0,y=c%26;h[c]=o.words[v]>>>y&1}return h}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,h=0;h<this.length;h++){var c=this._zeroBits(this.words[h]);if(o+=c,c!==26)break}return o},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},s.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var h=0;h<o.length;h++)this.words[h]=this.words[h]|o.words[h];return this._strip()},s.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},s.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},s.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},s.prototype.iuand=function(o){var h;this.length>o.length?h=o:h=this;for(var c=0;c<h.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=h.length,this._strip()},s.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},s.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},s.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},s.prototype.iuxor=function(o){var h,c;this.length>o.length?(h=this,c=o):(h=o,c=this);for(var v=0;v<c.length;v++)this.words[v]=h.words[v]^c.words[v];if(this!==h)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=h.length,this._strip()},s.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},s.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},s.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},s.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var h=Math.ceil(o/26)|0,c=o%26;this._expand(h),c>0&&h--;for(var v=0;v<h;v++)this.words[v]=~this.words[v]&67108863;return c>0&&(this.words[v]=~this.words[v]&67108863>>26-c),this._strip()},s.prototype.notn=function(o){return this.clone().inotn(o)},s.prototype.setn=function(o,h){i(typeof o=="number"&&o>=0);var c=o/26|0,v=o%26;return this._expand(c+1),h?this.words[c]=this.words[c]|1<<v:this.words[c]=this.words[c]&~(1<<v),this._strip()},s.prototype.iadd=function(o){var h;if(this.negative!==0&&o.negative===0)return this.negative=0,h=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,h=this.isub(o),o.negative=1,h._normSign();var c,v;this.length>o.length?(c=this,v=o):(c=o,v=this);for(var y=0,M=0;M<v.length;M++)h=(c.words[M]|0)+(v.words[M]|0)+y,this.words[M]=h&67108863,y=h>>>26;for(;y!==0&&M<c.length;M++)h=(c.words[M]|0)+y,this.words[M]=h&67108863,y=h>>>26;if(this.length=c.length,y!==0)this.words[this.length]=y,this.length++;else if(c!==this)for(;M<c.length;M++)this.words[M]=c.words[M];return this},s.prototype.add=function(o){var h;return o.negative!==0&&this.negative===0?(o.negative=0,h=this.sub(o),o.negative^=1,h):o.negative===0&&this.negative!==0?(this.negative=0,h=o.sub(this),this.negative=1,h):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},s.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var h=this.iadd(o);return o.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,y;c>0?(v=this,y=o):(v=o,y=this);for(var M=0,E=0;E<y.length;E++)h=(v.words[E]|0)-(y.words[E]|0)+M,M=h>>26,this.words[E]=h&67108863;for(;M!==0&&E<v.length;E++)h=(v.words[E]|0)+M,M=h>>26,this.words[E]=h&67108863;if(M===0&&E<v.length&&v!==this)for(;E<v.length;E++)this.words[E]=v.words[E];return this.length=Math.max(this.length,E),v!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(o){return this.clone().isub(o)};function Y(o,h,c){c.negative=h.negative^o.negative;var v=o.length+h.length|0;c.length=v,v=v-1|0;var y=o.words[0]|0,M=h.words[0]|0,E=y*M,d=E&67108863,f=E/67108864|0;c.words[0]=d;for(var _=1;_<v;_++){for(var J=f>>>26,W=f&67108863,g=Math.min(_,h.length-1),F=Math.max(0,_-o.length+1);F<=g;F++){var O=_-F|0;y=o.words[O]|0,M=h.words[F]|0,E=y*M+W,J+=E/67108864|0,W=E&67108863}c.words[_]=W|0,f=J|0}return f!==0?c.words[_]=f|0:c.length--,c._strip()}var Q=function(o,h,c){var v=o.words,y=h.words,M=c.words,E=0,d,f,_,J=v[0]|0,W=J&8191,g=J>>>13,F=v[1]|0,O=F&8191,B=F>>>13,q=v[2]|0,x=q&8191,T=q>>>13,Z=v[3]|0,it=Z&8191,et=Z>>>13,pt=v[4]|0,gt=pt&8191,_t=pt>>>13,re=v[5]|0,bt=re&8191,Et=re>>>13,Qt=v[6]|0,ct=Qt&8191,yt=Qt>>>13,Wt=v[7]|0,ht=Wt&8191,wt=Wt>>>13,Kt=v[8]|0,ut=Kt&8191,It=Kt>>>13,Vt=v[9]|0,mt=Vt&8191,Rt=Vt>>>13,te=y[0]|0,vt=te&8191,Pt=te>>>13,ue=y[1]|0,Tt=ue&8191,Jt=ue>>>13,ce=y[2]|0,Ft=ce&8191,Yt=ce>>>13,de=y[3]|0,Mt=de&8191,Lt=de>>>13,se=y[4]|0,St=se&8191,kt=se>>>13,ie=y[5]|0,Dt=ie&8191,jt=ie>>>13,oe=y[6]|0,Nt=oe&8191,zt=oe>>>13,fe=y[7]|0,xt=fe&8191,qt=fe>>>13,he=y[8]|0,Ct=he&8191,Zt=he>>>13,be=y[9]|0,Ht=be&8191,Gt=be>>>13;c.negative=o.negative^h.negative,c.length=19,d=Math.imul(W,vt),f=Math.imul(W,Pt),f=f+Math.imul(g,vt)|0,_=Math.imul(g,Pt);var ze=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(ze>>>26)|0,ze&=67108863,d=Math.imul(O,vt),f=Math.imul(O,Pt),f=f+Math.imul(B,vt)|0,_=Math.imul(B,Pt),d=d+Math.imul(W,Tt)|0,f=f+Math.imul(W,Jt)|0,f=f+Math.imul(g,Tt)|0,_=_+Math.imul(g,Jt)|0;var $e=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+($e>>>26)|0,$e&=67108863,d=Math.imul(x,vt),f=Math.imul(x,Pt),f=f+Math.imul(T,vt)|0,_=Math.imul(T,Pt),d=d+Math.imul(O,Tt)|0,f=f+Math.imul(O,Jt)|0,f=f+Math.imul(B,Tt)|0,_=_+Math.imul(B,Jt)|0,d=d+Math.imul(W,Ft)|0,f=f+Math.imul(W,Yt)|0,f=f+Math.imul(g,Ft)|0,_=_+Math.imul(g,Yt)|0;var He=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(He>>>26)|0,He&=67108863,d=Math.imul(it,vt),f=Math.imul(it,Pt),f=f+Math.imul(et,vt)|0,_=Math.imul(et,Pt),d=d+Math.imul(x,Tt)|0,f=f+Math.imul(x,Jt)|0,f=f+Math.imul(T,Tt)|0,_=_+Math.imul(T,Jt)|0,d=d+Math.imul(O,Ft)|0,f=f+Math.imul(O,Yt)|0,f=f+Math.imul(B,Ft)|0,_=_+Math.imul(B,Yt)|0,d=d+Math.imul(W,Mt)|0,f=f+Math.imul(W,Lt)|0,f=f+Math.imul(g,Mt)|0,_=_+Math.imul(g,Lt)|0;var je=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(je>>>26)|0,je&=67108863,d=Math.imul(gt,vt),f=Math.imul(gt,Pt),f=f+Math.imul(_t,vt)|0,_=Math.imul(_t,Pt),d=d+Math.imul(it,Tt)|0,f=f+Math.imul(it,Jt)|0,f=f+Math.imul(et,Tt)|0,_=_+Math.imul(et,Jt)|0,d=d+Math.imul(x,Ft)|0,f=f+Math.imul(x,Yt)|0,f=f+Math.imul(T,Ft)|0,_=_+Math.imul(T,Yt)|0,d=d+Math.imul(O,Mt)|0,f=f+Math.imul(O,Lt)|0,f=f+Math.imul(B,Mt)|0,_=_+Math.imul(B,Lt)|0,d=d+Math.imul(W,St)|0,f=f+Math.imul(W,kt)|0,f=f+Math.imul(g,St)|0,_=_+Math.imul(g,kt)|0;var Ke=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(bt,vt),f=Math.imul(bt,Pt),f=f+Math.imul(Et,vt)|0,_=Math.imul(Et,Pt),d=d+Math.imul(gt,Tt)|0,f=f+Math.imul(gt,Jt)|0,f=f+Math.imul(_t,Tt)|0,_=_+Math.imul(_t,Jt)|0,d=d+Math.imul(it,Ft)|0,f=f+Math.imul(it,Yt)|0,f=f+Math.imul(et,Ft)|0,_=_+Math.imul(et,Yt)|0,d=d+Math.imul(x,Mt)|0,f=f+Math.imul(x,Lt)|0,f=f+Math.imul(T,Mt)|0,_=_+Math.imul(T,Lt)|0,d=d+Math.imul(O,St)|0,f=f+Math.imul(O,kt)|0,f=f+Math.imul(B,St)|0,_=_+Math.imul(B,kt)|0,d=d+Math.imul(W,Dt)|0,f=f+Math.imul(W,jt)|0,f=f+Math.imul(g,Dt)|0,_=_+Math.imul(g,jt)|0;var Ie=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,d=Math.imul(ct,vt),f=Math.imul(ct,Pt),f=f+Math.imul(yt,vt)|0,_=Math.imul(yt,Pt),d=d+Math.imul(bt,Tt)|0,f=f+Math.imul(bt,Jt)|0,f=f+Math.imul(Et,Tt)|0,_=_+Math.imul(Et,Jt)|0,d=d+Math.imul(gt,Ft)|0,f=f+Math.imul(gt,Yt)|0,f=f+Math.imul(_t,Ft)|0,_=_+Math.imul(_t,Yt)|0,d=d+Math.imul(it,Mt)|0,f=f+Math.imul(it,Lt)|0,f=f+Math.imul(et,Mt)|0,_=_+Math.imul(et,Lt)|0,d=d+Math.imul(x,St)|0,f=f+Math.imul(x,kt)|0,f=f+Math.imul(T,St)|0,_=_+Math.imul(T,kt)|0,d=d+Math.imul(O,Dt)|0,f=f+Math.imul(O,jt)|0,f=f+Math.imul(B,Dt)|0,_=_+Math.imul(B,jt)|0,d=d+Math.imul(W,Nt)|0,f=f+Math.imul(W,zt)|0,f=f+Math.imul(g,Nt)|0,_=_+Math.imul(g,zt)|0;var dr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,d=Math.imul(ht,vt),f=Math.imul(ht,Pt),f=f+Math.imul(wt,vt)|0,_=Math.imul(wt,Pt),d=d+Math.imul(ct,Tt)|0,f=f+Math.imul(ct,Jt)|0,f=f+Math.imul(yt,Tt)|0,_=_+Math.imul(yt,Jt)|0,d=d+Math.imul(bt,Ft)|0,f=f+Math.imul(bt,Yt)|0,f=f+Math.imul(Et,Ft)|0,_=_+Math.imul(Et,Yt)|0,d=d+Math.imul(gt,Mt)|0,f=f+Math.imul(gt,Lt)|0,f=f+Math.imul(_t,Mt)|0,_=_+Math.imul(_t,Lt)|0,d=d+Math.imul(it,St)|0,f=f+Math.imul(it,kt)|0,f=f+Math.imul(et,St)|0,_=_+Math.imul(et,kt)|0,d=d+Math.imul(x,Dt)|0,f=f+Math.imul(x,jt)|0,f=f+Math.imul(T,Dt)|0,_=_+Math.imul(T,jt)|0,d=d+Math.imul(O,Nt)|0,f=f+Math.imul(O,zt)|0,f=f+Math.imul(B,Nt)|0,_=_+Math.imul(B,zt)|0,d=d+Math.imul(W,xt)|0,f=f+Math.imul(W,qt)|0,f=f+Math.imul(g,xt)|0,_=_+Math.imul(g,qt)|0;var Nr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,d=Math.imul(ut,vt),f=Math.imul(ut,Pt),f=f+Math.imul(It,vt)|0,_=Math.imul(It,Pt),d=d+Math.imul(ht,Tt)|0,f=f+Math.imul(ht,Jt)|0,f=f+Math.imul(wt,Tt)|0,_=_+Math.imul(wt,Jt)|0,d=d+Math.imul(ct,Ft)|0,f=f+Math.imul(ct,Yt)|0,f=f+Math.imul(yt,Ft)|0,_=_+Math.imul(yt,Yt)|0,d=d+Math.imul(bt,Mt)|0,f=f+Math.imul(bt,Lt)|0,f=f+Math.imul(Et,Mt)|0,_=_+Math.imul(Et,Lt)|0,d=d+Math.imul(gt,St)|0,f=f+Math.imul(gt,kt)|0,f=f+Math.imul(_t,St)|0,_=_+Math.imul(_t,kt)|0,d=d+Math.imul(it,Dt)|0,f=f+Math.imul(it,jt)|0,f=f+Math.imul(et,Dt)|0,_=_+Math.imul(et,jt)|0,d=d+Math.imul(x,Nt)|0,f=f+Math.imul(x,zt)|0,f=f+Math.imul(T,Nt)|0,_=_+Math.imul(T,zt)|0,d=d+Math.imul(O,xt)|0,f=f+Math.imul(O,qt)|0,f=f+Math.imul(B,xt)|0,_=_+Math.imul(B,qt)|0,d=d+Math.imul(W,Ct)|0,f=f+Math.imul(W,Zt)|0,f=f+Math.imul(g,Ct)|0,_=_+Math.imul(g,Zt)|0;var pr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,d=Math.imul(mt,vt),f=Math.imul(mt,Pt),f=f+Math.imul(Rt,vt)|0,_=Math.imul(Rt,Pt),d=d+Math.imul(ut,Tt)|0,f=f+Math.imul(ut,Jt)|0,f=f+Math.imul(It,Tt)|0,_=_+Math.imul(It,Jt)|0,d=d+Math.imul(ht,Ft)|0,f=f+Math.imul(ht,Yt)|0,f=f+Math.imul(wt,Ft)|0,_=_+Math.imul(wt,Yt)|0,d=d+Math.imul(ct,Mt)|0,f=f+Math.imul(ct,Lt)|0,f=f+Math.imul(yt,Mt)|0,_=_+Math.imul(yt,Lt)|0,d=d+Math.imul(bt,St)|0,f=f+Math.imul(bt,kt)|0,f=f+Math.imul(Et,St)|0,_=_+Math.imul(Et,kt)|0,d=d+Math.imul(gt,Dt)|0,f=f+Math.imul(gt,jt)|0,f=f+Math.imul(_t,Dt)|0,_=_+Math.imul(_t,jt)|0,d=d+Math.imul(it,Nt)|0,f=f+Math.imul(it,zt)|0,f=f+Math.imul(et,Nt)|0,_=_+Math.imul(et,zt)|0,d=d+Math.imul(x,xt)|0,f=f+Math.imul(x,qt)|0,f=f+Math.imul(T,xt)|0,_=_+Math.imul(T,qt)|0,d=d+Math.imul(O,Ct)|0,f=f+Math.imul(O,Zt)|0,f=f+Math.imul(B,Ct)|0,_=_+Math.imul(B,Zt)|0,d=d+Math.imul(W,Ht)|0,f=f+Math.imul(W,Gt)|0,f=f+Math.imul(g,Ht)|0,_=_+Math.imul(g,Gt)|0;var Cr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,d=Math.imul(mt,Tt),f=Math.imul(mt,Jt),f=f+Math.imul(Rt,Tt)|0,_=Math.imul(Rt,Jt),d=d+Math.imul(ut,Ft)|0,f=f+Math.imul(ut,Yt)|0,f=f+Math.imul(It,Ft)|0,_=_+Math.imul(It,Yt)|0,d=d+Math.imul(ht,Mt)|0,f=f+Math.imul(ht,Lt)|0,f=f+Math.imul(wt,Mt)|0,_=_+Math.imul(wt,Lt)|0,d=d+Math.imul(ct,St)|0,f=f+Math.imul(ct,kt)|0,f=f+Math.imul(yt,St)|0,_=_+Math.imul(yt,kt)|0,d=d+Math.imul(bt,Dt)|0,f=f+Math.imul(bt,jt)|0,f=f+Math.imul(Et,Dt)|0,_=_+Math.imul(Et,jt)|0,d=d+Math.imul(gt,Nt)|0,f=f+Math.imul(gt,zt)|0,f=f+Math.imul(_t,Nt)|0,_=_+Math.imul(_t,zt)|0,d=d+Math.imul(it,xt)|0,f=f+Math.imul(it,qt)|0,f=f+Math.imul(et,xt)|0,_=_+Math.imul(et,qt)|0,d=d+Math.imul(x,Ct)|0,f=f+Math.imul(x,Zt)|0,f=f+Math.imul(T,Ct)|0,_=_+Math.imul(T,Zt)|0,d=d+Math.imul(O,Ht)|0,f=f+Math.imul(O,Gt)|0,f=f+Math.imul(B,Ht)|0,_=_+Math.imul(B,Gt)|0;var Rr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,d=Math.imul(mt,Ft),f=Math.imul(mt,Yt),f=f+Math.imul(Rt,Ft)|0,_=Math.imul(Rt,Yt),d=d+Math.imul(ut,Mt)|0,f=f+Math.imul(ut,Lt)|0,f=f+Math.imul(It,Mt)|0,_=_+Math.imul(It,Lt)|0,d=d+Math.imul(ht,St)|0,f=f+Math.imul(ht,kt)|0,f=f+Math.imul(wt,St)|0,_=_+Math.imul(wt,kt)|0,d=d+Math.imul(ct,Dt)|0,f=f+Math.imul(ct,jt)|0,f=f+Math.imul(yt,Dt)|0,_=_+Math.imul(yt,jt)|0,d=d+Math.imul(bt,Nt)|0,f=f+Math.imul(bt,zt)|0,f=f+Math.imul(Et,Nt)|0,_=_+Math.imul(Et,zt)|0,d=d+Math.imul(gt,xt)|0,f=f+Math.imul(gt,qt)|0,f=f+Math.imul(_t,xt)|0,_=_+Math.imul(_t,qt)|0,d=d+Math.imul(it,Ct)|0,f=f+Math.imul(it,Zt)|0,f=f+Math.imul(et,Ct)|0,_=_+Math.imul(et,Zt)|0,d=d+Math.imul(x,Ht)|0,f=f+Math.imul(x,Gt)|0,f=f+Math.imul(T,Ht)|0,_=_+Math.imul(T,Gt)|0;var gr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,d=Math.imul(mt,Mt),f=Math.imul(mt,Lt),f=f+Math.imul(Rt,Mt)|0,_=Math.imul(Rt,Lt),d=d+Math.imul(ut,St)|0,f=f+Math.imul(ut,kt)|0,f=f+Math.imul(It,St)|0,_=_+Math.imul(It,kt)|0,d=d+Math.imul(ht,Dt)|0,f=f+Math.imul(ht,jt)|0,f=f+Math.imul(wt,Dt)|0,_=_+Math.imul(wt,jt)|0,d=d+Math.imul(ct,Nt)|0,f=f+Math.imul(ct,zt)|0,f=f+Math.imul(yt,Nt)|0,_=_+Math.imul(yt,zt)|0,d=d+Math.imul(bt,xt)|0,f=f+Math.imul(bt,qt)|0,f=f+Math.imul(Et,xt)|0,_=_+Math.imul(Et,qt)|0,d=d+Math.imul(gt,Ct)|0,f=f+Math.imul(gt,Zt)|0,f=f+Math.imul(_t,Ct)|0,_=_+Math.imul(_t,Zt)|0,d=d+Math.imul(it,Ht)|0,f=f+Math.imul(it,Gt)|0,f=f+Math.imul(et,Ht)|0,_=_+Math.imul(et,Gt)|0;var Sr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,d=Math.imul(mt,St),f=Math.imul(mt,kt),f=f+Math.imul(Rt,St)|0,_=Math.imul(Rt,kt),d=d+Math.imul(ut,Dt)|0,f=f+Math.imul(ut,jt)|0,f=f+Math.imul(It,Dt)|0,_=_+Math.imul(It,jt)|0,d=d+Math.imul(ht,Nt)|0,f=f+Math.imul(ht,zt)|0,f=f+Math.imul(wt,Nt)|0,_=_+Math.imul(wt,zt)|0,d=d+Math.imul(ct,xt)|0,f=f+Math.imul(ct,qt)|0,f=f+Math.imul(yt,xt)|0,_=_+Math.imul(yt,qt)|0,d=d+Math.imul(bt,Ct)|0,f=f+Math.imul(bt,Zt)|0,f=f+Math.imul(Et,Ct)|0,_=_+Math.imul(Et,Zt)|0,d=d+Math.imul(gt,Ht)|0,f=f+Math.imul(gt,Gt)|0,f=f+Math.imul(_t,Ht)|0,_=_+Math.imul(_t,Gt)|0;var xr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,d=Math.imul(mt,Dt),f=Math.imul(mt,jt),f=f+Math.imul(Rt,Dt)|0,_=Math.imul(Rt,jt),d=d+Math.imul(ut,Nt)|0,f=f+Math.imul(ut,zt)|0,f=f+Math.imul(It,Nt)|0,_=_+Math.imul(It,zt)|0,d=d+Math.imul(ht,xt)|0,f=f+Math.imul(ht,qt)|0,f=f+Math.imul(wt,xt)|0,_=_+Math.imul(wt,qt)|0,d=d+Math.imul(ct,Ct)|0,f=f+Math.imul(ct,Zt)|0,f=f+Math.imul(yt,Ct)|0,_=_+Math.imul(yt,Zt)|0,d=d+Math.imul(bt,Ht)|0,f=f+Math.imul(bt,Gt)|0,f=f+Math.imul(Et,Ht)|0,_=_+Math.imul(Et,Gt)|0;var Ze=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,d=Math.imul(mt,Nt),f=Math.imul(mt,zt),f=f+Math.imul(Rt,Nt)|0,_=Math.imul(Rt,zt),d=d+Math.imul(ut,xt)|0,f=f+Math.imul(ut,qt)|0,f=f+Math.imul(It,xt)|0,_=_+Math.imul(It,qt)|0,d=d+Math.imul(ht,Ct)|0,f=f+Math.imul(ht,Zt)|0,f=f+Math.imul(wt,Ct)|0,_=_+Math.imul(wt,Zt)|0,d=d+Math.imul(ct,Ht)|0,f=f+Math.imul(ct,Gt)|0,f=f+Math.imul(yt,Ht)|0,_=_+Math.imul(yt,Gt)|0;var Pr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,d=Math.imul(mt,xt),f=Math.imul(mt,qt),f=f+Math.imul(Rt,xt)|0,_=Math.imul(Rt,qt),d=d+Math.imul(ut,Ct)|0,f=f+Math.imul(ut,Zt)|0,f=f+Math.imul(It,Ct)|0,_=_+Math.imul(It,Zt)|0,d=d+Math.imul(ht,Ht)|0,f=f+Math.imul(ht,Gt)|0,f=f+Math.imul(wt,Ht)|0,_=_+Math.imul(wt,Gt)|0;var Or=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,d=Math.imul(mt,Ct),f=Math.imul(mt,Zt),f=f+Math.imul(Rt,Ct)|0,_=Math.imul(Rt,Zt),d=d+Math.imul(ut,Ht)|0,f=f+Math.imul(ut,Gt)|0,f=f+Math.imul(It,Ht)|0,_=_+Math.imul(It,Gt)|0;var Br=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,d=Math.imul(mt,Ht),f=Math.imul(mt,Gt),f=f+Math.imul(Rt,Ht)|0,_=Math.imul(Rt,Gt);var pi=(E+d|0)+((f&8191)<<13)|0;return E=(_+(f>>>13)|0)+(pi>>>26)|0,pi&=67108863,M[0]=ze,M[1]=$e,M[2]=He,M[3]=je,M[4]=Ke,M[5]=Ie,M[6]=dr,M[7]=Nr,M[8]=pr,M[9]=Cr,M[10]=Rr,M[11]=gr,M[12]=Sr,M[13]=xr,M[14]=Ze,M[15]=Pr,M[16]=Or,M[17]=Br,M[18]=pi,E!==0&&(M[19]=E,c.length++),c};Math.imul||(Q=Y);function X(o,h,c){c.negative=h.negative^o.negative,c.length=o.length+h.length;for(var v=0,y=0,M=0;M<c.length-1;M++){var E=y;y=0;for(var d=v&67108863,f=Math.min(M,h.length-1),_=Math.max(0,M-o.length+1);_<=f;_++){var J=M-_,W=o.words[J]|0,g=h.words[_]|0,F=W*g,O=F&67108863;E=E+(F/67108864|0)|0,O=O+d|0,d=O&67108863,E=E+(O>>>26)|0,y+=E>>>26,E&=67108863}c.words[M]=d,v=E,E=y}return v!==0?c.words[M]=v:c.length--,c._strip()}function $(o,h,c){return X(o,h,c)}s.prototype.mulTo=function(o,h){var c,v=this.length+o.length;return this.length===10&&o.length===10?c=Q(this,o,h):v<63?c=Y(this,o,h):v<1024?c=X(this,o,h):c=$(this,o,h),c},s.prototype.mul=function(o){var h=new s(null);return h.words=new Array(this.length+o.length),this.mulTo(o,h)},s.prototype.mulf=function(o){var h=new s(null);return h.words=new Array(this.length+o.length),$(this,o,h)},s.prototype.imul=function(o){return this.clone().mulTo(o,this)},s.prototype.imuln=function(o){var h=o<0;h&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var c=0,v=0;v<this.length;v++){var y=(this.words[v]|0)*o,M=(y&67108863)+(c&67108863);c>>=26,c+=y/67108864|0,c+=M>>>26,this.words[v]=M&67108863}return c!==0&&(this.words[v]=c,this.length++),h?this.ineg():this},s.prototype.muln=function(o){return this.clone().imuln(o)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(o){var h=k(o);if(h.length===0)return new s(1);for(var c=this,v=0;v<h.length&&h[v]===0;v++,c=c.sqr());if(++v<h.length)for(var y=c.sqr();v<h.length;v++,y=y.sqr())h[v]!==0&&(c=c.mul(y));return c},s.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var h=o%26,c=(o-h)/26,v=67108863>>>26-h<<26-h,y;if(h!==0){var M=0;for(y=0;y<this.length;y++){var E=this.words[y]&v,d=(this.words[y]|0)-E<<h;this.words[y]=d|M,M=E>>>26-h}M&&(this.words[y]=M,this.length++)}if(c!==0){for(y=this.length-1;y>=0;y--)this.words[y+c]=this.words[y];for(y=0;y<c;y++)this.words[y]=0;this.length+=c}return this._strip()},s.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},s.prototype.iushrn=function(o,h,c){i(typeof o=="number"&&o>=0);var v;h?v=(h-h%26)/26:v=0;var y=o%26,M=Math.min((o-y)/26,this.length),E=67108863^67108863>>>y<<y,d=c;if(v-=M,v=Math.max(0,v),d){for(var f=0;f<M;f++)d.words[f]=this.words[f];d.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=v);f--){var J=this.words[f]|0;this.words[f]=_<<26-y|J>>>y,_=J&E}return d&&_!==0&&(d.words[d.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(o,h,c){return i(this.negative===0),this.iushrn(o,h,c)},s.prototype.shln=function(o){return this.clone().ishln(o)},s.prototype.ushln=function(o){return this.clone().iushln(o)},s.prototype.shrn=function(o){return this.clone().ishrn(o)},s.prototype.ushrn=function(o){return this.clone().iushrn(o)},s.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,c=(o-h)/26,v=1<<h;if(this.length<=c)return!1;var y=this.words[c];return!!(y&v)},s.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,c=(o-h)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(h!==0&&c++,this.length=Math.min(c,this.length),h!==0){var v=67108863^67108863>>>h<<h;this.words[this.length-1]&=v}return this._strip()},s.prototype.maskn=function(o){return this.clone().imaskn(o)},s.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},s.prototype._iaddn=function(o){this.words[0]+=o;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},s.prototype.addn=function(o){return this.clone().iaddn(o)},s.prototype.subn=function(o){return this.clone().isubn(o)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(o,h,c){var v=o.length+c,y;this._expand(v);var M,E=0;for(y=0;y<o.length;y++){M=(this.words[y+c]|0)+E;var d=(o.words[y]|0)*h;M-=d&67108863,E=(M>>26)-(d/67108864|0),this.words[y+c]=M&67108863}for(;y<this.length-c;y++)M=(this.words[y+c]|0)+E,E=M>>26,this.words[y+c]=M&67108863;if(E===0)return this._strip();for(i(E===-1),E=0,y=0;y<this.length;y++)M=-(this.words[y]|0)+E,E=M>>26,this.words[y]=M&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(o,h){var c=this.length-o.length,v=this.clone(),y=o,M=y.words[y.length-1]|0,E=this._countBits(M);c=26-E,c!==0&&(y=y.ushln(c),v.iushln(c),M=y.words[y.length-1]|0);var d=v.length-y.length,f;if(h!=="mod"){f=new s(null),f.length=d+1,f.words=new Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var J=v.clone()._ishlnsubmul(y,1,d);J.negative===0&&(v=J,f&&(f.words[d]=1));for(var W=d-1;W>=0;W--){var g=(v.words[y.length+W]|0)*67108864+(v.words[y.length+W-1]|0);for(g=Math.min(g/M|0,67108863),v._ishlnsubmul(y,g,W);v.negative!==0;)g--,v.negative=0,v._ishlnsubmul(y,1,W),v.isZero()||(v.negative^=1);f&&(f.words[W]=g)}return f&&f._strip(),v._strip(),h!=="div"&&c!==0&&v.iushrn(c),{div:f||null,mod:v}},s.prototype.divmod=function(o,h,c){if(i(!o.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,y,M;return this.negative!==0&&o.negative===0?(M=this.neg().divmod(o,h),h!=="mod"&&(v=M.div.neg()),h!=="div"&&(y=M.mod.neg(),c&&y.negative!==0&&y.iadd(o)),{div:v,mod:y}):this.negative===0&&o.negative!==0?(M=this.divmod(o.neg(),h),h!=="mod"&&(v=M.div.neg()),{div:v,mod:M.mod}):this.negative&o.negative?(M=this.neg().divmod(o.neg(),h),h!=="div"&&(y=M.mod.neg(),c&&y.negative!==0&&y.isub(o)),{div:M.div,mod:y}):o.length>this.length||this.cmp(o)<0?{div:new s(0),mod:this}:o.length===1?h==="div"?{div:this.divn(o.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new s(this.modrn(o.words[0]))}:this._wordDiv(o,h)},s.prototype.div=function(o){return this.divmod(o,"div",!1).div},s.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},s.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},s.prototype.divRound=function(o){var h=this.divmod(o);if(h.mod.isZero())return h.div;var c=h.div.negative!==0?h.mod.isub(o):h.mod,v=o.ushrn(1),y=o.andln(1),M=c.cmp(v);return M<0||y===1&&M===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modrn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var c=(1<<26)%o,v=0,y=this.length-1;y>=0;y--)v=(c*v+(this.words[y]|0))%o;return h?-v:v},s.prototype.modn=function(o){return this.modrn(o)},s.prototype.idivn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var c=0,v=this.length-1;v>=0;v--){var y=(this.words[v]|0)+c*67108864;this.words[v]=y/o|0,c=y%o}return this._strip(),h?this.ineg():this},s.prototype.divn=function(o){return this.clone().idivn(o)},s.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var h=this,c=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new s(1),y=new s(0),M=new s(0),E=new s(1),d=0;h.isEven()&&c.isEven();)h.iushrn(1),c.iushrn(1),++d;for(var f=c.clone(),_=h.clone();!h.isZero();){for(var J=0,W=1;!(h.words[0]&W)&&J<26;++J,W<<=1);if(J>0)for(h.iushrn(J);J-- >0;)(v.isOdd()||y.isOdd())&&(v.iadd(f),y.isub(_)),v.iushrn(1),y.iushrn(1);for(var g=0,F=1;!(c.words[0]&F)&&g<26;++g,F<<=1);if(g>0)for(c.iushrn(g);g-- >0;)(M.isOdd()||E.isOdd())&&(M.iadd(f),E.isub(_)),M.iushrn(1),E.iushrn(1);h.cmp(c)>=0?(h.isub(c),v.isub(M),y.isub(E)):(c.isub(h),M.isub(v),E.isub(y))}return{a:M,b:E,gcd:c.iushln(d)}},s.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var h=this,c=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new s(1),y=new s(0),M=c.clone();h.cmpn(1)>0&&c.cmpn(1)>0;){for(var E=0,d=1;!(h.words[0]&d)&&E<26;++E,d<<=1);if(E>0)for(h.iushrn(E);E-- >0;)v.isOdd()&&v.iadd(M),v.iushrn(1);for(var f=0,_=1;!(c.words[0]&_)&&f<26;++f,_<<=1);if(f>0)for(c.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(M),y.iushrn(1);h.cmp(c)>=0?(h.isub(c),v.isub(y)):(c.isub(h),y.isub(v))}var J;return h.cmpn(1)===0?J=v:J=y,J.cmpn(0)<0&&J.iadd(o),J},s.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var h=this.clone(),c=o.clone();h.negative=0,c.negative=0;for(var v=0;h.isEven()&&c.isEven();v++)h.iushrn(1),c.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;c.isEven();)c.iushrn(1);var y=h.cmp(c);if(y<0){var M=h;h=c,c=M}else if(y===0||c.cmpn(1)===0)break;h.isub(c)}while(!0);return c.iushln(v)},s.prototype.invm=function(o){return this.egcd(o).a.umod(o)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(o){return this.words[0]&o},s.prototype.bincn=function(o){i(typeof o=="number");var h=o%26,c=(o-h)/26,v=1<<h;if(this.length<=c)return this._expand(c+1),this.words[c]|=v,this;for(var y=v,M=c;y!==0&&M<this.length;M++){var E=this.words[M]|0;E+=y,y=E>>>26,E&=67108863,this.words[M]=E}return y!==0&&(this.words[M]=y,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(o){var h=o<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var c;if(this.length>1)c=1;else{h&&(o=-o),i(o<=67108863,"Number is too big");var v=this.words[0]|0;c=v===o?0:v<o?-1:1}return this.negative!==0?-c|0:c},s.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var h=this.ucmp(o);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var h=0,c=this.length-1;c>=0;c--){var v=this.words[c]|0,y=o.words[c]|0;if(v!==y){v<y?h=-1:v>y&&(h=1);break}}return h},s.prototype.gtn=function(o){return this.cmpn(o)===1},s.prototype.gt=function(o){return this.cmp(o)===1},s.prototype.gten=function(o){return this.cmpn(o)>=0},s.prototype.gte=function(o){return this.cmp(o)>=0},s.prototype.ltn=function(o){return this.cmpn(o)===-1},s.prototype.lt=function(o){return this.cmp(o)===-1},s.prototype.lten=function(o){return this.cmpn(o)<=0},s.prototype.lte=function(o){return this.cmp(o)<=0},s.prototype.eqn=function(o){return this.cmpn(o)===0},s.prototype.eq=function(o){return this.cmp(o)===0},s.red=function(o){return new H(o)},s.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(o){return this.red=o,this},s.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},s.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},s.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},s.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},s.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},s.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},s.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},s.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var j={k256:null,p224:null,p192:null,p25519:null};function K(o,h){this.name=o,this.p=new s(h,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var o=new s(null);return o.words=new Array(Math.ceil(this.n/13)),o},K.prototype.ireduce=function(o){var h=o,c;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),c=h.bitLength();while(c>this.n);var v=c<this.n?-1:h.ucmp(this.p);return v===0?(h.words[0]=0,h.length=1):v>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},K.prototype.split=function(o,h){o.iushrn(this.n,0,h)},K.prototype.imulK=function(o){return o.imul(this.k)};function C(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(C,K),C.prototype.split=function(o,h){for(var c=4194303,v=Math.min(o.length,9),y=0;y<v;y++)h.words[y]=o.words[y];if(h.length=v,o.length<=9){o.words[0]=0,o.length=1;return}var M=o.words[9];for(h.words[h.length++]=M&c,y=10;y<o.length;y++){var E=o.words[y]|0;o.words[y-10]=(E&c)<<4|M>>>22,M=E}M>>>=22,o.words[y-10]=M,M===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var h=0,c=0;c<o.length;c++){var v=o.words[c]|0;h+=v*977,o.words[c]=h&67108863,h=v*64+(h/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function z(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,K);function st(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(st,K);function dt(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(dt,K),dt.prototype.imulK=function(o){for(var h=0,c=0;c<o.length;c++){var v=(o.words[c]|0)*19+h,y=v&67108863;v>>>=26,o.words[c]=y,h=v}return h!==0&&(o.words[o.length++]=h),o},s._prime=function(o){if(j[o])return j[o];var h;if(o==="k256")h=new C;else if(o==="p224")h=new z;else if(o==="p192")h=new st;else if(o==="p25519")h=new dt;else throw new Error("Unknown prime "+o);return j[o]=h,h};function H(o){if(typeof o=="string"){var h=s._prime(o);this.m=h.p,this.prime=h}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}H.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},H.prototype._verify2=function(o,h){i((o.negative|h.negative)===0,"red works only with positives"),i(o.red&&o.red===h.red,"red works only with red numbers")},H.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(w(o,o.umod(this.m)._forceRed(this)),o)},H.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},H.prototype.add=function(o,h){this._verify2(o,h);var c=o.add(h);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},H.prototype.iadd=function(o,h){this._verify2(o,h);var c=o.iadd(h);return c.cmp(this.m)>=0&&c.isub(this.m),c},H.prototype.sub=function(o,h){this._verify2(o,h);var c=o.sub(h);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},H.prototype.isub=function(o,h){this._verify2(o,h);var c=o.isub(h);return c.cmpn(0)<0&&c.iadd(this.m),c},H.prototype.shl=function(o,h){return this._verify1(o),this.imod(o.ushln(h))},H.prototype.imul=function(o,h){return this._verify2(o,h),this.imod(o.imul(h))},H.prototype.mul=function(o,h){return this._verify2(o,h),this.imod(o.mul(h))},H.prototype.isqr=function(o){return this.imul(o,o.clone())},H.prototype.sqr=function(o){return this.mul(o,o)},H.prototype.sqrt=function(o){if(o.isZero())return o.clone();var h=this.m.andln(3);if(i(h%2===1),h===3){var c=this.m.add(new s(1)).iushrn(2);return this.pow(o,c)}for(var v=this.m.subn(1),y=0;!v.isZero()&&v.andln(1)===0;)y++,v.iushrn(1);i(!v.isZero());var M=new s(1).toRed(this),E=M.redNeg(),d=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,d).cmp(E)!==0;)f.redIAdd(E);for(var _=this.pow(f,v),J=this.pow(o,v.addn(1).iushrn(1)),W=this.pow(o,v),g=y;W.cmp(M)!==0;){for(var F=W,O=0;F.cmp(M)!==0;O++)F=F.redSqr();i(O<g);var B=this.pow(_,new s(1).iushln(g-O-1));J=J.redMul(B),_=B.redSqr(),W=W.redMul(_),g=O}return J},H.prototype.invm=function(o){var h=o._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},H.prototype.pow=function(o,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return o.clone();var c=4,v=new Array(1<<c);v[0]=new s(1).toRed(this),v[1]=o;for(var y=2;y<v.length;y++)v[y]=this.mul(v[y-1],o);var M=v[0],E=0,d=0,f=h.bitLength()%26;for(f===0&&(f=26),y=h.length-1;y>=0;y--){for(var _=h.words[y],J=f-1;J>=0;J--){var W=_>>J&1;if(M!==v[0]&&(M=this.sqr(M)),W===0&&E===0){d=0;continue}E<<=1,E|=W,d++,!(d!==c&&(y!==0||J!==0))&&(M=this.mul(M,v[E]),d=0,E=0)}f=26}return M},H.prototype.convertTo=function(o){var h=o.umod(this.m);return h===o?h.clone():h},H.prototype.convertFrom=function(o){var h=o.clone();return h.red=null,h},s.mont=function(o){return new I(o)};function I(o){H.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(I,H),I.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},I.prototype.convertFrom=function(o){var h=this.imod(o.mul(this.rinv));return h.red=null,h},I.prototype.imul=function(o,h){if(o.isZero()||h.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(h),v=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=c.isub(v).iushrn(this.shift),M=y;return y.cmp(this.m)>=0?M=y.isub(this.m):y.cmpn(0)<0&&(M=y.iadd(this.m)),M._forceRed(this)},I.prototype.mul=function(o,h){if(o.isZero()||h.isZero())return new s(0)._forceRed(this);var c=o.mul(h),v=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=c.isub(v).iushrn(this.shift),M=y;return y.cmp(this.m)>=0?M=y.isub(this.m):y.cmpn(0)<0&&(M=y.iadd(this.m)),M._forceRed(this)},I.prototype.invm=function(o){var h=this.imod(o._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,Ey)})(Iy);var _e=Iy.exports;const Dy="bignumber/5.7.0";var Pp=_e.BN;const _o=new $i(Dy),d1={},sR=9007199254740991;function oR(e){return e!=null&&(Ii.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Hf(e)||typeof e=="bigint"||Fu(e))}let Gm=!1,Ii=class Yn{constructor(t,r){t!==d1&&_o.throwError("cannot call constructor directly; use BigNumber.from",$i.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Ti(Pe(this).fromTwos(t))}toTwos(t){return Ti(Pe(this).toTwos(t))}abs(){return this._hex[0]==="-"?Yn.from(this._hex.substring(1)):this}add(t){return Ti(Pe(this).add(Pe(t)))}sub(t){return Ti(Pe(this).sub(Pe(t)))}div(t){return Yn.from(t).isZero()&&vn("division-by-zero","div"),Ti(Pe(this).div(Pe(t)))}mul(t){return Ti(Pe(this).mul(Pe(t)))}mod(t){const r=Pe(t);return r.isNeg()&&vn("division-by-zero","mod"),Ti(Pe(this).umod(r))}pow(t){const r=Pe(t);return r.isNeg()&&vn("negative-power","pow"),Ti(Pe(this).pow(r))}and(t){const r=Pe(t);return(this.isNegative()||r.isNeg())&&vn("unbound-bitwise-result","and"),Ti(Pe(this).and(r))}or(t){const r=Pe(t);return(this.isNegative()||r.isNeg())&&vn("unbound-bitwise-result","or"),Ti(Pe(this).or(r))}xor(t){const r=Pe(t);return(this.isNegative()||r.isNeg())&&vn("unbound-bitwise-result","xor"),Ti(Pe(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&vn("negative-width","mask"),Ti(Pe(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&vn("negative-width","shl"),Ti(Pe(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&vn("negative-width","shr"),Ti(Pe(this).shrn(t))}eq(t){return Pe(this).eq(Pe(t))}lt(t){return Pe(this).lt(Pe(t))}lte(t){return Pe(this).lte(Pe(t))}gt(t){return Pe(this).gt(Pe(t))}gte(t){return Pe(this).gte(Pe(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Pe(this).isZero()}toNumber(){try{return Pe(this).toNumber()}catch{vn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return _o.throwError("this platform does not support BigInt",$i.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Gm||(Gm=!0,_o.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?_o.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",$i.errors.UNEXPECTED_ARGUMENT,{}):_o.throwError("BigNumber.toString does not accept parameters",$i.errors.UNEXPECTED_ARGUMENT,{})),Pe(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Yn)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Yn(d1,_u(t)):t.match(/^-?[0-9]+$/)?new Yn(d1,_u(new Pp(t))):_o.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&vn("underflow","BigNumber.from",t),(t>=sR||t<=-9007199254740991)&&vn("overflow","BigNumber.from",t),Yn.from(String(t));const r=t;if(typeof r=="bigint")return Yn.from(r.toString());if(Fu(r))return Yn.from(xy(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return Yn.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Hf(i)||i[0]==="-"&&Hf(i.substring(1))))return Yn.from(i)}return _o.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}};function _u(e){if(typeof e!="string")return _u(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&_o.throwArgumentError("invalid hex","value",e),e=_u(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Ti(e){return Ii.from(_u(e))}function Pe(e){const t=Ii.from(e).toHexString();return t[0]==="-"?new Pp("-"+t.substring(3),16):new Pp(t.substring(2),16)}function vn(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),_o.throwError(e,$i.errors.NUMERIC_FAULT,i)}const Ei=new $i(Dy),fu={},Ny=Ii.from(0),Cy=Ii.from(-1);function Ry(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),Ei.throwError(e,$i.errors.NUMERIC_FAULT,n)}let hu="0";for(;hu.length<256;)hu+=hu;function I2(e){if(typeof e!="number")try{e=Ii.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+hu.substring(0,e):Ei.throwArgumentError("invalid decimal size","decimals",e)}function p1(e,t){t==null&&(t=0);const r=I2(t);e=Ii.from(e);const i=e.lt(Ny);i&&(e=e.mul(Cy));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=e.div(r).toString();return r.length===1?e=s:e=s+"."+n,i&&(e="-"+e),e}function bo(e,t){t==null&&(t=0);const r=I2(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&Ei.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&Ei.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&Ei.throwArgumentError("too many decimal points","value",e);let s=n[0],u=n[1];for(s||(s="0"),u||(u="0");u[u.length-1]==="0";)u=u.substring(0,u.length-1);for(u.length>r.length-1&&Ry("fractional component exceeds decimals","underflow","parseFixed"),u===""&&(u="0");u.length<r.length-1;)u+="0";const p=Ii.from(s),b=Ii.from(u);let m=p.mul(r).add(b);return i&&(m=m.mul(Cy)),m}let g1=class Op{constructor(t,r,i,n){t!==fu&&Ei.throwError("cannot use FixedFormat constructor; use FixedFormat.from",$i.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=I2(n),Object.freeze(this)}static from(t){if(t instanceof Op)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Ei.throwArgumentError("invalid fixed format","format",t),r=s[1]!=="u",i=parseInt(s[2]),n=parseInt(s[3])}}else if(t){const s=(u,p,b)=>t[u]==null?b:(typeof t[u]!==p&&Ei.throwArgumentError("invalid fixed format ("+u+" not "+p+")","format."+u,t[u]),t[u]);r=s("signed","boolean",r),i=s("width","number",i),n=s("decimals","number",n)}return i%8&&Ei.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&Ei.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Op(fu,r,i,n)}},Py=class yi{constructor(t,r,i,n){t!==fu&&Ei.throwError("cannot use FixedNumber constructor; use FixedNumber.from",$i.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Ei.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=bo(this._value,this.format.decimals),i=bo(t._value,t.format.decimals);return yi.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=bo(this._value,this.format.decimals),i=bo(t._value,t.format.decimals);return yi.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=bo(this._value,this.format.decimals),i=bo(t._value,t.format.decimals);return yi.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=bo(this._value,this.format.decimals),i=bo(t._value,t.format.decimals);return yi.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=yi.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(Qm.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=yi.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(Qm.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&Ei.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=yi.from("1"+hu.substring(0,t),this.format),n=aR.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Ei.throwArgumentError("invalid byte width","width",t);const r=Ii.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return $0(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return yi.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!oR(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),yi.fromString(p1(t,r),g1.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=g1.from(r),n=bo(t,i.decimals);!i.signed&&n.lt(Ny)&&Ry("unsigned value cannot be negative","overflow","value",t);let s=null;i.signed?s=n.toTwos(i.width).toHexString():(s=n.toHexString(),s=$0(s,i.width/8));const u=p1(n,i.decimals);return new yi(fu,s,u,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=g1.from(r);if(Sy(t).length>i.width/8)throw new Error("overflow");let n=Ii.from(t);i.signed&&(n=n.fromTwos(i.width));const s=n.toTwos((i.signed?0:1)+i.width).toHexString(),u=p1(n,i.decimals);return new yi(fu,s,u,i)}static from(t,r){if(typeof t=="string")return yi.fromString(t,r);if(Fu(t))return yi.fromBytes(t,r);try{return yi.fromValue(t,0,r)}catch(i){if(i.code!==$i.errors.INVALID_ARGUMENT)throw i}return Ei.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}};const Qm=Py.from(1),aR=Py.from("0.5");var Vm;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Vm||(Vm={}));var Jm;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(Jm||(Jm={}));function fR(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function m1(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let s=n.split(":");r+=parseInt(s[0],16),i[r]=t(s[1])}),i}function Ym(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}Ym("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),m1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),m1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),m1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",fR),Ym("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function hR(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return Sy(t)}function Oy(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(s,u){i.call(s,function(p){u>0&&Array.isArray(p)?n(p,u-1):r.push(p)})};return n(e,t),r}function uR(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function cR(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,s=[0,1];for(let j=1;j<i;j++)s.push(n+=r());let u=r(),p=t;t+=u;let b=0,m=0;function w(){return b==0&&(m=m<<8|e[t++],b=8),m>>--b&1}const S=31,D=Math.pow(2,S),N=D>>>1,P=N>>1,L=D-1;let k=0;for(let j=0;j<S;j++)k=k<<1|w();let Y=[],Q=0,X=D;for(;;){let j=Math.floor(((k-Q+1)*n-1)/X),K=0,C=i;for(;C-K>1;){let dt=K+C>>>1;j<s[dt]?C=dt:K=dt}if(K==0)break;Y.push(K);let z=Q+Math.floor(X*s[K]/n),st=Q+Math.floor(X*s[K+1]/n)-1;for(;!((z^st)&N);)k=k<<1&L|w(),z=z<<1&L,st=st<<1&L|1;for(;z&~st&P;)k=k&N|k<<1&L>>>1|w(),z=z<<1^N,st=(st^N)<<1|N|1;Q=z,X=1+st-z}let $=i-4;return Y.map(j=>{switch(j-$){case 3:return $+65792+(e[p++]<<16|e[p++]<<8|e[p++]);case 2:return $+256+(e[p++]<<8|e[p++]);case 1:return $+e[p++];default:return j-1}})}function lR(e){let t=0;return()=>e[t++]}function dR(e){return lR(cR(e))}function pR(e){return e&1?~e>>1:e>>1}function gR(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function Wm(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function mR(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=pR(t());return r}function H0(e,t){let r=Wm(e(),e),i=e(),n=Wm(i,e),s=gR(i,e);for(let u=0;u<i;u++)for(let p=0;p<s[u];p++)r.push(n[u]+p);return t?r.map(u=>t[u]):r}function vR(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(yR(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(wR(r,e))}return uR(Oy(t))}function bR(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function By(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)mR(e,r).forEach((s,u)=>i[u].push(s));return i}function yR(e,t){let r=1+t(),i=t(),n=bR(t),s=By(n.length,1+e,t);return Oy(s.map((u,p)=>{const b=u[0],m=u.slice(1);return Array(n[p]).fill(void 0).map((w,S)=>{let D=S*i;return[b+S*r,m.map(N=>N+D)]})}))}function wR(e,t){let r=1+t();return By(r,1+e,t).map(i=>[i[0],i.slice(1)])}function AR(e){let t=H0(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let m=H0(e,t);if(m.length==0)break;i.push({set:new Set(m),node:r()})}i.sort((m,w)=>w.set.size-m.set.size);let n=e(),s=n%3;n=n/3|0;let u=!!(n&1);n>>=1;let p=n==1,b=n==2;return{branches:i,valid:s,fe0f:u,save:p,check:b}}}function _R(){return dR(hR("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"))}const Yc=_R();new Set(H0(Yc)),new Set(H0(Yc)),vR(Yc),AR(Yc);const ER=new Uint8Array(32);ER.fill(0);const MR=new Uint8Array(32);MR.fill(0),Ii.from(-1);const SR=Ii.from(0),xR=Ii.from(1);Ii.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),$0(xR.toHexString(),32),$0(SR.toHexString(),32);var _s={},Fe={},Uu=Ty;function Ty(e,t){if(!e)throw new Error(t||"Assertion failed")}Ty.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Bp={exports:{}};typeof Object.create=="function"?Bp.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Bp.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var IR=Uu,DR=Bp.exports;Fe.inherits=DR;function NR(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function CR(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var s=e.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):NR(e,n)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}Fe.toArray=CR;function RR(e){for(var t="",r=0;r<e.length;r++)t+=Uy(e[r].toString(16));return t}Fe.toHex=RR;function Fy(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Fe.htonl=Fy;function PR(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=Fy(n)),r+=qy(n.toString(16))}return r}Fe.toHex32=PR;function Uy(e){return e.length===1?"0"+e:e}Fe.zero2=Uy;function qy(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Fe.zero8=qy;function OR(e,t,r,i){var n=r-t;IR(n%4===0);for(var s=new Array(n/4),u=0,p=t;u<s.length;u++,p+=4){var b;i==="big"?b=e[p]<<24|e[p+1]<<16|e[p+2]<<8|e[p+3]:b=e[p+3]<<24|e[p+2]<<16|e[p+1]<<8|e[p],s[u]=b>>>0}return s}Fe.join32=OR;function BR(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var s=e[i];t==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}Fe.split32=BR;function TR(e,t){return e>>>t|e<<32-t}Fe.rotr32=TR;function FR(e,t){return e<<t|e>>>32-t}Fe.rotl32=FR;function UR(e,t){return e+t>>>0}Fe.sum32=UR;function qR(e,t,r){return e+t+r>>>0}Fe.sum32_3=qR;function LR(e,t,r,i){return e+t+r+i>>>0}Fe.sum32_4=LR;function kR(e,t,r,i,n){return e+t+r+i+n>>>0}Fe.sum32_5=kR;function zR(e,t,r,i){var n=e[t],s=e[t+1],u=i+s>>>0,p=(u<i?1:0)+r+n;e[t]=p>>>0,e[t+1]=u}Fe.sum64=zR;function $R(e,t,r,i){var n=t+i>>>0,s=(n<t?1:0)+e+r;return s>>>0}Fe.sum64_hi=$R;function HR(e,t,r,i){var n=t+i;return n>>>0}Fe.sum64_lo=HR;function jR(e,t,r,i,n,s,u,p){var b=0,m=t;m=m+i>>>0,b+=m<t?1:0,m=m+s>>>0,b+=m<s?1:0,m=m+p>>>0,b+=m<p?1:0;var w=e+r+n+u+b;return w>>>0}Fe.sum64_4_hi=jR;function KR(e,t,r,i,n,s,u,p){var b=t+i+s+p;return b>>>0}Fe.sum64_4_lo=KR;function GR(e,t,r,i,n,s,u,p,b,m){var w=0,S=t;S=S+i>>>0,w+=S<t?1:0,S=S+s>>>0,w+=S<s?1:0,S=S+p>>>0,w+=S<p?1:0,S=S+m>>>0,w+=S<m?1:0;var D=e+r+n+u+b+w;return D>>>0}Fe.sum64_5_hi=GR;function QR(e,t,r,i,n,s,u,p,b,m){var w=t+i+s+p+m;return w>>>0}Fe.sum64_5_lo=QR;function VR(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}Fe.rotr64_hi=VR;function JR(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Fe.rotr64_lo=JR;function YR(e,t,r){return e>>>r}Fe.shr64_hi=YR;function WR(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Fe.shr64_lo=WR;var ah={},Xm=Fe,XR=Uu;function Wc(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ah.BlockHash=Wc,Wc.prototype.update=function(e,t){if(e=Xm.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=Xm.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},Wc.prototype.digest=function(e){return this.update(this._pad()),XR(this.pending===null),this._digest(e)},Wc.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i};var xf={},eo={},ZR=Fe,Ls=ZR.rotr32;function tP(e,t,r,i){if(e===0)return Ly(t,r,i);if(e===1||e===3)return zy(t,r,i);if(e===2)return ky(t,r,i)}eo.ft_1=tP;function Ly(e,t,r){return e&t^~e&r}eo.ch32=Ly;function ky(e,t,r){return e&t^e&r^t&r}eo.maj32=ky;function zy(e,t,r){return e^t^r}eo.p32=zy;function eP(e){return Ls(e,2)^Ls(e,13)^Ls(e,22)}eo.s0_256=eP;function rP(e){return Ls(e,6)^Ls(e,11)^Ls(e,25)}eo.s1_256=rP;function iP(e){return Ls(e,7)^Ls(e,18)^e>>>3}eo.g0_256=iP;function nP(e){return Ls(e,17)^Ls(e,19)^e>>>10}eo.g1_256=nP;var jf=Fe,sP=ah,oP=eo,v1=jf.rotl32,Hh=jf.sum32,aP=jf.sum32_5,fP=oP.ft_1,$y=sP.BlockHash,hP=[1518500249,1859775393,2400959708,3395469782];function Ns(){if(!(this instanceof Ns))return new Ns;$y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}jf.inherits(Ns,$y);var uP=Ns;Ns.blockSize=512,Ns.outSize=160,Ns.hmacStrength=80,Ns.padLength=64,Ns.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=v1(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],u=this.h[2],p=this.h[3],b=this.h[4];for(i=0;i<r.length;i++){var m=~~(i/20),w=aP(v1(n,5),fP(m,s,u,p),b,r[i],hP[m]);b=p,p=u,u=v1(s,30),s=n,n=w}this.h[0]=Hh(this.h[0],n),this.h[1]=Hh(this.h[1],s),this.h[2]=Hh(this.h[2],u),this.h[3]=Hh(this.h[3],p),this.h[4]=Hh(this.h[4],b)},Ns.prototype._digest=function(e){return e==="hex"?jf.toHex32(this.h,"big"):jf.split32(this.h,"big")};var Kf=Fe,cP=ah,fh=eo,lP=Uu,Hn=Kf.sum32,dP=Kf.sum32_4,pP=Kf.sum32_5,gP=fh.ch32,mP=fh.maj32,vP=fh.s0_256,bP=fh.s1_256,yP=fh.g0_256,wP=fh.g1_256,Hy=cP.BlockHash,AP=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Cs(){if(!(this instanceof Cs))return new Cs;Hy.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=AP,this.W=new Array(64)}Kf.inherits(Cs,Hy);var jy=Cs;Cs.blockSize=512,Cs.outSize=256,Cs.hmacStrength=192,Cs.padLength=64,Cs.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=dP(wP(r[i-2]),r[i-7],yP(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],u=this.h[2],p=this.h[3],b=this.h[4],m=this.h[5],w=this.h[6],S=this.h[7];for(lP(this.k.length===r.length),i=0;i<r.length;i++){var D=pP(S,bP(b),gP(b,m,w),this.k[i],r[i]),N=Hn(vP(n),mP(n,s,u));S=w,w=m,m=b,b=Hn(p,D),p=u,u=s,s=n,n=Hn(D,N)}this.h[0]=Hn(this.h[0],n),this.h[1]=Hn(this.h[1],s),this.h[2]=Hn(this.h[2],u),this.h[3]=Hn(this.h[3],p),this.h[4]=Hn(this.h[4],b),this.h[5]=Hn(this.h[5],m),this.h[6]=Hn(this.h[6],w),this.h[7]=Hn(this.h[7],S)},Cs.prototype._digest=function(e){return e==="hex"?Kf.toHex32(this.h,"big"):Kf.split32(this.h,"big")};var Tp=Fe,Ky=jy;function So(){if(!(this instanceof So))return new So;Ky.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Tp.inherits(So,Ky);var _P=So;So.blockSize=512,So.outSize=224,So.hmacStrength=192,So.padLength=64,So.prototype._digest=function(e){return e==="hex"?Tp.toHex32(this.h.slice(0,7),"big"):Tp.split32(this.h.slice(0,7),"big")};var Gi=Fe,EP=ah,MP=Uu,ks=Gi.rotr64_hi,zs=Gi.rotr64_lo,Gy=Gi.shr64_hi,Qy=Gi.shr64_lo,Qo=Gi.sum64,b1=Gi.sum64_hi,y1=Gi.sum64_lo,SP=Gi.sum64_4_hi,xP=Gi.sum64_4_lo,IP=Gi.sum64_5_hi,DP=Gi.sum64_5_lo,Vy=EP.BlockHash,NP=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function es(){if(!(this instanceof es))return new es;Vy.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=NP,this.W=new Array(160)}Gi.inherits(es,Vy);var Jy=es;es.blockSize=1024,es.outSize=512,es.hmacStrength=192,es.padLength=128,es.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=kP(r[i-4],r[i-3]),s=zP(r[i-4],r[i-3]),u=r[i-14],p=r[i-13],b=qP(r[i-30],r[i-29]),m=LP(r[i-30],r[i-29]),w=r[i-32],S=r[i-31];r[i]=SP(n,s,u,p,b,m,w,S),r[i+1]=xP(n,s,u,p,b,m,w,S)}},es.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],s=this.h[2],u=this.h[3],p=this.h[4],b=this.h[5],m=this.h[6],w=this.h[7],S=this.h[8],D=this.h[9],N=this.h[10],P=this.h[11],L=this.h[12],k=this.h[13],Y=this.h[14],Q=this.h[15];MP(this.k.length===r.length);for(var X=0;X<r.length;X+=2){var $=Y,j=Q,K=FP(S,D),C=UP(S,D),z=CP(S,D,N,P,L),st=RP(S,D,N,P,L,k),dt=this.k[X],H=this.k[X+1],I=r[X],o=r[X+1],h=IP($,j,K,C,z,st,dt,H,I,o),c=DP($,j,K,C,z,st,dt,H,I,o);$=BP(i,n),j=TP(i,n),K=PP(i,n,s,u,p),C=OP(i,n,s,u,p,b);var v=b1($,j,K,C),y=y1($,j,K,C);Y=L,Q=k,L=N,k=P,N=S,P=D,S=b1(m,w,h,c),D=y1(w,w,h,c),m=p,w=b,p=s,b=u,s=i,u=n,i=b1(h,c,v,y),n=y1(h,c,v,y)}Qo(this.h,0,i,n),Qo(this.h,2,s,u),Qo(this.h,4,p,b),Qo(this.h,6,m,w),Qo(this.h,8,S,D),Qo(this.h,10,N,P),Qo(this.h,12,L,k),Qo(this.h,14,Y,Q)},es.prototype._digest=function(e){return e==="hex"?Gi.toHex32(this.h,"big"):Gi.split32(this.h,"big")};function CP(e,t,r,i,n){var s=e&r^~e&n;return s<0&&(s+=4294967296),s}function RP(e,t,r,i,n,s){var u=t&i^~t&s;return u<0&&(u+=4294967296),u}function PP(e,t,r,i,n){var s=e&r^e&n^r&n;return s<0&&(s+=4294967296),s}function OP(e,t,r,i,n,s){var u=t&i^t&s^i&s;return u<0&&(u+=4294967296),u}function BP(e,t){var r=ks(e,t,28),i=ks(t,e,2),n=ks(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function TP(e,t){var r=zs(e,t,28),i=zs(t,e,2),n=zs(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function FP(e,t){var r=ks(e,t,14),i=ks(e,t,18),n=ks(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function UP(e,t){var r=zs(e,t,14),i=zs(e,t,18),n=zs(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function qP(e,t){var r=ks(e,t,1),i=ks(e,t,8),n=Gy(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function LP(e,t){var r=zs(e,t,1),i=zs(e,t,8),n=Qy(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function kP(e,t){var r=ks(e,t,19),i=ks(t,e,29),n=Gy(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}function zP(e,t){var r=zs(e,t,19),i=zs(t,e,29),n=Qy(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}var Fp=Fe,Yy=Jy;function xo(){if(!(this instanceof xo))return new xo;Yy.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Fp.inherits(xo,Yy);var $P=xo;xo.blockSize=1024,xo.outSize=384,xo.hmacStrength=192,xo.padLength=128,xo.prototype._digest=function(e){return e==="hex"?Fp.toHex32(this.h.slice(0,12),"big"):Fp.split32(this.h.slice(0,12),"big")},xf.sha1=uP,xf.sha224=_P,xf.sha256=jy,xf.sha384=$P,xf.sha512=Jy;var Wy={},Ta=Fe,HP=ah,Xc=Ta.rotl32,Zm=Ta.sum32,jh=Ta.sum32_3,tv=Ta.sum32_4,Xy=HP.BlockHash;function Es(){if(!(this instanceof Es))return new Es;Xy.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ta.inherits(Es,Xy),Wy.ripemd160=Es,Es.blockSize=512,Es.outSize=160,Es.hmacStrength=192,Es.padLength=64,Es.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],s=this.h[3],u=this.h[4],p=r,b=i,m=n,w=s,S=u,D=0;D<80;D++){var N=Zm(Xc(tv(r,ev(D,i,n,s),e[GP[D]+t],jP(D)),VP[D]),u);r=u,u=s,s=Xc(n,10),n=i,i=N,N=Zm(Xc(tv(p,ev(79-D,b,m,w),e[QP[D]+t],KP(D)),JP[D]),S),p=S,S=w,w=Xc(m,10),m=b,b=N}N=jh(this.h[1],n,w),this.h[1]=jh(this.h[2],s,S),this.h[2]=jh(this.h[3],u,p),this.h[3]=jh(this.h[4],r,b),this.h[4]=jh(this.h[0],i,m),this.h[0]=N},Es.prototype._digest=function(e){return e==="hex"?Ta.toHex32(this.h,"little"):Ta.split32(this.h,"little")};function ev(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function jP(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function KP(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var GP=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],QP=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],VP=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],JP=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],YP=Fe,WP=Uu;function Of(e,t,r){if(!(this instanceof Of))return new Of(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(YP.toArray(t,r))}var XP=Of;Of.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),WP(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Of.prototype.update=function(e,t){return this.inner.update(e,t),this},Of.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=Fe,t.common=ah,t.sha=xf,t.ripemd=Wy,t.hmac=XP,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(_s);function hh(e,t,r){return r={path:t,exports:{},require:function(i,n){return ZP(i,n??r.path)}},e(r,r.exports),r.exports}function ZP(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var D2=Zy;function Zy(e,t){if(!e)throw new Error(t||"Assertion failed")}Zy.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var ss=hh(function(e,t){var r=t;function i(u,p){if(Array.isArray(u))return u.slice();if(!u)return[];var b=[];if(typeof u!="string"){for(var m=0;m<u.length;m++)b[m]=u[m]|0;return b}if(p==="hex"){u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u);for(var m=0;m<u.length;m+=2)b.push(parseInt(u[m]+u[m+1],16))}else for(var m=0;m<u.length;m++){var w=u.charCodeAt(m),S=w>>8,D=w&255;S?b.push(S,D):b.push(D)}return b}r.toArray=i;function n(u){return u.length===1?"0"+u:u}r.zero2=n;function s(u){for(var p="",b=0;b<u.length;b++)p+=n(u[b].toString(16));return p}r.toHex=s,r.encode=function(u,p){return p==="hex"?s(u):u}}),nn=hh(function(e,t){var r=t;r.assert=D2,r.toArray=ss.toArray,r.zero2=ss.zero2,r.toHex=ss.toHex,r.encode=ss.encode;function i(b,m,w){var S=new Array(Math.max(b.bitLength(),w)+1);S.fill(0);for(var D=1<<m+1,N=b.clone(),P=0;P<S.length;P++){var L,k=N.andln(D-1);N.isOdd()?(k>(D>>1)-1?L=(D>>1)-k:L=k,N.isubn(L)):L=0,S[P]=L,N.iushrn(1)}return S}r.getNAF=i;function n(b,m){var w=[[],[]];b=b.clone(),m=m.clone();for(var S=0,D=0,N;b.cmpn(-S)>0||m.cmpn(-D)>0;){var P=b.andln(3)+S&3,L=m.andln(3)+D&3;P===3&&(P=-1),L===3&&(L=-1);var k;P&1?(N=b.andln(7)+S&7,(N===3||N===5)&&L===2?k=-P:k=P):k=0,w[0].push(k);var Y;L&1?(N=m.andln(7)+D&7,(N===3||N===5)&&P===2?Y=-L:Y=L):Y=0,w[1].push(Y),2*S===k+1&&(S=1-S),2*D===Y+1&&(D=1-D),b.iushrn(1),m.iushrn(1)}return w}r.getJSF=n;function s(b,m,w){var S="_"+m;b.prototype[m]=function(){return this[S]!==void 0?this[S]:this[S]=w.call(this)}}r.cachedProperty=s;function u(b){return typeof b=="string"?r.toArray(b,"hex"):b}r.parseBytes=u;function p(b){return new _e(b,"hex","le")}r.intFromLE=p}),Zc=nn.getNAF,tO=nn.getJSF,j0=nn.assert;function Xo(e,t){this.type=e,this.p=new _e(t.p,16),this.red=t.prime?_e.red(t.prime):_e.mont(this.p),this.zero=new _e(0).toRed(this.red),this.one=new _e(1).toRed(this.red),this.two=new _e(2).toRed(this.red),this.n=t.n&&new _e(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Va=Xo;Xo.prototype.point=function(){throw new Error("Not implemented")},Xo.prototype.validate=function(){throw new Error("Not implemented")},Xo.prototype._fixedNafMul=function(e,t){j0(e.precomputed);var r=e._getDoubles(),i=Zc(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var s=[],u,p;for(u=0;u<i.length;u+=r.step){p=0;for(var b=u+r.step-1;b>=u;b--)p=(p<<1)+i[b];s.push(p)}for(var m=this.jpoint(null,null,null),w=this.jpoint(null,null,null),S=n;S>0;S--){for(u=0;u<s.length;u++)p=s[u],p===S?w=w.mixedAdd(r.points[u]):p===-S&&(w=w.mixedAdd(r.points[u].neg()));m=m.add(w)}return m.toP()},Xo.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=Zc(t,r,this._bitLength),u=this.jpoint(null,null,null),p=s.length-1;p>=0;p--){for(var b=0;p>=0&&s[p]===0;p--)b++;if(p>=0&&b++,u=u.dblp(b),p<0)break;var m=s[p];j0(m!==0),e.type==="affine"?m>0?u=u.mixedAdd(n[m-1>>1]):u=u.mixedAdd(n[-m-1>>1].neg()):m>0?u=u.add(n[m-1>>1]):u=u.add(n[-m-1>>1].neg())}return e.type==="affine"?u.toP():u},Xo.prototype._wnafMulAdd=function(e,t,r,i,n){var s=this._wnafT1,u=this._wnafT2,p=this._wnafT3,b=0,m,w,S;for(m=0;m<i;m++){S=t[m];var D=S._getNAFPoints(e);s[m]=D.wnd,u[m]=D.points}for(m=i-1;m>=1;m-=2){var N=m-1,P=m;if(s[N]!==1||s[P]!==1){p[N]=Zc(r[N],s[N],this._bitLength),p[P]=Zc(r[P],s[P],this._bitLength),b=Math.max(p[N].length,b),b=Math.max(p[P].length,b);continue}var L=[t[N],null,null,t[P]];t[N].y.cmp(t[P].y)===0?(L[1]=t[N].add(t[P]),L[2]=t[N].toJ().mixedAdd(t[P].neg())):t[N].y.cmp(t[P].y.redNeg())===0?(L[1]=t[N].toJ().mixedAdd(t[P]),L[2]=t[N].add(t[P].neg())):(L[1]=t[N].toJ().mixedAdd(t[P]),L[2]=t[N].toJ().mixedAdd(t[P].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],Y=tO(r[N],r[P]);for(b=Math.max(Y[0].length,b),p[N]=new Array(b),p[P]=new Array(b),w=0;w<b;w++){var Q=Y[0][w]|0,X=Y[1][w]|0;p[N][w]=k[(Q+1)*3+(X+1)],p[P][w]=0,u[N]=L}}var $=this.jpoint(null,null,null),j=this._wnafT4;for(m=b;m>=0;m--){for(var K=0;m>=0;){var C=!0;for(w=0;w<i;w++)j[w]=p[w][m]|0,j[w]!==0&&(C=!1);if(!C)break;K++,m--}if(m>=0&&K++,$=$.dblp(K),m<0)break;for(w=0;w<i;w++){var z=j[w];z!==0&&(z>0?S=u[w][z-1>>1]:z<0&&(S=u[w][-z-1>>1].neg()),S.type==="affine"?$=$.mixedAdd(S):$=$.add(S))}}for(m=0;m<i;m++)u[m]=null;return n?$:$.toP()};function bn(e,t){this.curve=e,this.type=t,this.precomputed=null}Xo.BasePoint=bn,bn.prototype.eq=function(){throw new Error("Not implemented")},bn.prototype.validate=function(){return this.curve.validate(this)},Xo.prototype.decodePoint=function(e,t){e=nn.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?j0(e[e.length-1]%2===0):e[0]===7&&j0(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},bn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},bn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},bn.prototype.encode=function(e,t){return nn.encode(this._encode(t),e)},bn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},bn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},bn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},bn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},bn.prototype._getBeta=function(){return null},bn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var N2=hh(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),eO=nn.assert;function Nn(e){Va.call(this,"short",e),this.a=new _e(e.a,16).toRed(this.red),this.b=new _e(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}N2(Nn,Va);var rO=Nn;Nn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new _e(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new _e(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],eO(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(u){return{a:new _e(u.a,16),b:new _e(u.b,16)}}):s=this._getEndoBasis(r),{beta:t,lambda:r,basis:s}}},Nn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:_e.mont(e),r=new _e(2).toRed(t).redInvm(),i=r.redNeg(),n=new _e(3).toRed(t).redNeg().redSqrt().redMul(r),s=i.redAdd(n).fromRed(),u=i.redSub(n).fromRed();return[s,u]},Nn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new _e(1),s=new _e(0),u=new _e(0),p=new _e(1),b,m,w,S,D,N,P,L=0,k,Y;r.cmpn(0)!==0;){var Q=i.div(r);k=i.sub(Q.mul(r)),Y=u.sub(Q.mul(n));var X=p.sub(Q.mul(s));if(!w&&k.cmp(t)<0)b=P.neg(),m=n,w=k.neg(),S=Y;else if(w&&++L===2)break;P=k,i=r,r=k,u=n,n=Y,p=s,s=X}D=k.neg(),N=Y;var $=w.sqr().add(S.sqr()),j=D.sqr().add(N.sqr());return j.cmp($)>=0&&(D=b,N=m),w.negative&&(w=w.neg(),S=S.neg()),D.negative&&(D=D.neg(),N=N.neg()),[{a:w,b:S},{a:D,b:N}]},Nn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),u=n.mul(r.a),p=s.mul(i.a),b=n.mul(r.b),m=s.mul(i.b),w=e.sub(u).sub(p),S=b.add(m).neg();return{k1:w,k2:S}},Nn.prototype.pointFromX=function(e,t){e=new _e(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Nn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Nn.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<e.length;s++){var u=this._endoSplit(t[s]),p=e[s],b=p._getBeta();u.k1.negative&&(u.k1.ineg(),p=p.neg(!0)),u.k2.negative&&(u.k2.ineg(),b=b.neg(!0)),i[s*2]=p,i[s*2+1]=b,n[s*2]=u.k1,n[s*2+1]=u.k2}for(var m=this._wnafMulAdd(1,i,n,s*2,r),w=0;w<s*2;w++)i[w]=null,n[w]=null;return m};function Hr(e,t,r,i){Va.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _e(t,16),this.y=new _e(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}N2(Hr,Va.BasePoint),Nn.prototype.point=function(e,t,r){return new Hr(this,e,t,r)},Nn.prototype.pointFromJSON=function(e,t){return Hr.fromJSON(this,e,t)},Hr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},Hr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Hr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(u){return e.point(u[0],u[1],r)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},Hr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Hr.prototype.isInfinity=function(){return this.inf},Hr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Hr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),u=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,u)},Hr.prototype.getX=function(){return this.x.fromRed()},Hr.prototype.getY=function(){return this.y.fromRed()},Hr.prototype.mul=function(e){return e=new _e(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Hr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Hr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Hr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Hr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},Hr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Xr(e,t,r,i){Va.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _e(0)):(this.x=new _e(t,16),this.y=new _e(r,16),this.z=new _e(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}N2(Xr,Va.BasePoint),Nn.prototype.jpoint=function(e,t,r){return new Xr(this,e,t,r)},Xr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},Xr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Xr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),u=e.y.redMul(r.redMul(this.z)),p=i.redSub(n),b=s.redSub(u);if(p.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=p.redSqr(),w=m.redMul(p),S=i.redMul(m),D=b.redSqr().redIAdd(w).redISub(S).redISub(S),N=b.redMul(S.redISub(D)).redISub(s.redMul(w)),P=this.z.redMul(e.z).redMul(p);return this.curve.jpoint(D,N,P)},Xr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),u=r.redSub(i),p=n.redSub(s);if(u.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=u.redSqr(),m=b.redMul(u),w=r.redMul(b),S=p.redSqr().redIAdd(m).redISub(w).redISub(w),D=p.redMul(w.redISub(S)).redISub(n.redMul(m)),N=this.z.redMul(u);return this.curve.jpoint(S,D,N)},Xr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,u=this.y,p=this.z,b=p.redSqr().redSqr(),m=u.redAdd(u);for(t=0;t<e;t++){var w=s.redSqr(),S=m.redSqr(),D=S.redSqr(),N=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(b)),P=s.redMul(S),L=N.redSqr().redISub(P.redAdd(P)),k=P.redISub(L),Y=N.redMul(k);Y=Y.redIAdd(Y).redISub(D);var Q=m.redMul(p);t+1<e&&(b=b.redMul(D)),s=L,p=Q,m=Y}return this.curve.jpoint(s,m.redMul(n),p)},Xr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Xr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),u=this.x.redAdd(n).redSqr().redISub(i).redISub(s);u=u.redIAdd(u);var p=i.redAdd(i).redIAdd(i),b=p.redSqr().redISub(u).redISub(u),m=s.redIAdd(s);m=m.redIAdd(m),m=m.redIAdd(m),e=b,t=p.redMul(u.redISub(b)).redISub(m),r=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),S=this.y.redSqr(),D=S.redSqr(),N=this.x.redAdd(S).redSqr().redISub(w).redISub(D);N=N.redIAdd(N);var P=w.redAdd(w).redIAdd(w),L=P.redSqr(),k=D.redIAdd(D);k=k.redIAdd(k),k=k.redIAdd(k),e=L.redISub(N).redISub(N),t=P.redMul(N.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},Xr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),u=this.x.redAdd(n).redSqr().redISub(i).redISub(s);u=u.redIAdd(u);var p=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=p.redSqr().redISub(u).redISub(u);e=b;var m=s.redIAdd(s);m=m.redIAdd(m),m=m.redIAdd(m),t=p.redMul(u.redISub(b)).redISub(m),r=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),S=this.y.redSqr(),D=this.x.redMul(S),N=this.x.redSub(w).redMul(this.x.redAdd(w));N=N.redAdd(N).redIAdd(N);var P=D.redIAdd(D);P=P.redIAdd(P);var L=P.redAdd(P);e=N.redSqr().redISub(L),r=this.y.redAdd(this.z).redSqr().redISub(S).redISub(w);var k=S.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=N.redMul(P.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},Xr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),u=r.redSqr(),p=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),b=t.redAdd(t);b=b.redIAdd(b);var m=b.redMul(u),w=p.redSqr().redISub(m.redAdd(m)),S=m.redISub(w),D=u.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var N=p.redMul(S).redISub(D),P=r.redAdd(r).redMul(i);return this.curve.jpoint(w,N,P)},Xr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),u=this.x.redAdd(t).redSqr().redISub(e).redISub(i);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(s);var p=u.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var m=n.redIAdd(u).redSqr().redISub(s).redISub(p).redISub(b),w=t.redMul(m);w=w.redIAdd(w),w=w.redIAdd(w);var S=this.x.redMul(p).redISub(w);S=S.redIAdd(S),S=S.redIAdd(S);var D=this.y.redMul(m.redMul(b.redISub(m)).redISub(u.redMul(p)));D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var N=this.z.redAdd(u).redSqr().redISub(r).redISub(p);return this.curve.jpoint(S,D,N)},Xr.prototype.mul=function(e,t){return e=new _e(e,t),this.curve._wnafMul(this,e)},Xr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},Xr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},Xr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Xr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var w0=hh(function(e,t){var r=t;r.base=Va,r.short=rO,r.mont=null,r.edwards=null}),A0=hh(function(e,t){var r=t,i=nn.assert;function n(p){p.type==="short"?this.curve=new w0.short(p):p.type==="edwards"?this.curve=new w0.edwards(p):this.curve=new w0.mont(p),this.g=this.curve.g,this.n=this.curve.n,this.hash=p.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function s(p,b){Object.defineProperty(r,p,{configurable:!0,enumerable:!0,get:function(){var m=new n(b);return Object.defineProperty(r,p,{configurable:!0,enumerable:!0,value:m}),m}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:_s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:_s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:_s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:_s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:_s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_s.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=null.crash()}catch{u=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:_s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})});function Zo(e){if(!(this instanceof Zo))return new Zo(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=ss.toArray(e.entropy,e.entropyEnc||"hex"),r=ss.toArray(e.nonce,e.nonceEnc||"hex"),i=ss.toArray(e.pers,e.persEnc||"hex");D2(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var rv=Zo;Zo.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Zo.prototype._hmac=function(){return new _s.hmac(this.hash,this.K)},Zo.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Zo.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=ss.toArray(e,t),r=ss.toArray(r,i),D2(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Zo.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=ss.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,e);return this._update(r),this._reseed++,ss.encode(s,t)};var w1=nn.assert;function hi(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var A1=hi;hi.fromPublic=function(e,t,r){return t instanceof hi?t:new hi(e,{pub:t,pubEnc:r})},hi.fromPrivate=function(e,t,r){return t instanceof hi?t:new hi(e,{priv:t,privEnc:r})},hi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},hi.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},hi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},hi.prototype._importPrivate=function(e,t){this.priv=new _e(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},hi.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?w1(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&w1(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},hi.prototype.derive=function(e){return e.validate()||w1(e.validate(),"public point not validated"),e.mul(this.priv).getX()},hi.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},hi.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},hi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var iO=nn.assert;function Dl(e,t){if(e instanceof Dl)return e;this._importDER(e,t)||(iO(e.r&&e.s,"Signature without r or s"),this.r=new _e(e.r,16),this.s=new _e(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var t0=Dl;function nO(){this.place=0}function _1(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,s=0,u=t.place;s<i;s++,u++)n<<=8,n|=e[u],n>>>=0;return n<=127?!1:(t.place=u,n)}function iv(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Dl.prototype._importDER=function(e,t){e=nn.toArray(e,t);var r=new nO;if(e[r.place++]!==48)return!1;var i=_1(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=_1(e,r);if(n===!1)return!1;var s=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var u=_1(e,r);if(u===!1||e.length!==u+r.place)return!1;var p=e.slice(r.place,u+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;return this.r=new _e(s),this.s=new _e(p),this.recoveryParam=null,!0};function E1(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Dl.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=iv(t),r=iv(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];E1(i,t.length),i=i.concat(t),i.push(2),E1(i,r.length);var n=i.concat(r),s=[48];return E1(s,n.length),s=s.concat(n),nn.encode(s,e)};var sO=function(){throw new Error("unsupported")},t8=nn.assert;function Sn(e){if(!(this instanceof Sn))return new Sn(e);typeof e=="string"&&(t8(Object.prototype.hasOwnProperty.call(A0,e),"Unknown curve "+e),e=A0[e]),e instanceof A0.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var oO=Sn;Sn.prototype.keyPair=function(e){return new A1(this,e)},Sn.prototype.keyFromPrivate=function(e,t){return A1.fromPrivate(this,e,t)},Sn.prototype.keyFromPublic=function(e,t){return A1.fromPublic(this,e,t)},Sn.prototype.genKeyPair=function(e){e||(e={});for(var t=new rv({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||sO(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new _e(2));;){var n=new _e(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Sn.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Sn.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new _e(e,16));for(var n=this.n.byteLength(),s=t.getPrivate().toArray("be",n),u=e.toArray("be",n),p=new rv({hash:this.hash,entropy:s,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new _e(1)),m=0;;m++){var w=i.k?i.k(m):new _e(p.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(b)>=0)){var S=this.g.mul(w);if(!S.isInfinity()){var D=S.getX(),N=D.umod(this.n);if(N.cmpn(0)!==0){var P=w.invm(this.n).mul(N.mul(t.getPrivate()).iadd(e));if(P=P.umod(this.n),P.cmpn(0)!==0){var L=(S.getY().isOdd()?1:0)|(D.cmp(N)!==0?2:0);return i.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),L^=1),new t0({r:N,s:P,recoveryParam:L})}}}}}},Sn.prototype.verify=function(e,t,r,i){e=this._truncateToN(new _e(e,16)),r=this.keyFromPublic(r,i),t=new t0(t,"hex");var n=t.r,s=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),p=u.mul(e).umod(this.n),b=u.mul(n).umod(this.n),m;return this.curve._maxwellTrick?(m=this.g.jmulAdd(p,r.getPublic(),b),m.isInfinity()?!1:m.eqXToP(n)):(m=this.g.mulAdd(p,r.getPublic(),b),m.isInfinity()?!1:m.getX().umod(this.n).cmp(n)===0)},Sn.prototype.recoverPubKey=function(e,t,r,i){t8((3&r)===r,"The recovery param is more than two bits"),t=new t0(t,i);var n=this.n,s=new _e(e),u=t.r,p=t.s,b=r&1,m=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?u=this.curve.pointFromX(u.add(this.curve.n),b):u=this.curve.pointFromX(u,b);var w=t.r.invm(n),S=n.sub(s).mul(w).umod(n),D=p.mul(w).umod(n);return this.g.mulAdd(S,u,D)},Sn.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new t0(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var aO=hh(function(e,t){var r=t;r.version="6.5.4",r.utils=nn,r.rand=function(){throw new Error("unsupported")},r.curve=w0,r.curves=A0,r.ec=oO,r.eddsa=null});aO.ec;var nv;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(nv||(nv={}));function C2(e){return e.includes(":")}function iu(e){return C2(e)?e.split(":")[0]:e}const fO={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function Up(e,t){const{message:r,code:i}=fO[e];return{message:r,code:i}}function Eu(e,t){return!!Array.isArray(e)}function hO(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}class uO extends ja{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}let cO=class extends ja{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}},lO=class{constructor(t,r){this.logger=t,this.core=r}},dO=class extends ja{constructor(t,r){super(),this.relayer=t,this.logger=r}},pO=class extends ja{constructor(t){super()}},gO=class{constructor(t,r,i,n){this.core=t,this.logger=r,this.name=i}},mO=class extends ja{constructor(t,r){super(),this.relayer=t,this.logger=r}},vO=class extends ja{constructor(t,r){super(),this.core=t,this.logger=r}},bO=class{constructor(t,r,i){this.core=t,this.logger=r,this.store=i}},yO=class{constructor(t,r){this.projectId=t,this.logger=r}},wO=class{constructor(t,r,i){this.core=t,this.logger=r,this.telemetryEnabled=i}},AO=class{constructor(t){this.opts=t,this.protocol="wc",this.version=2}},_O=class{constructor(t){this.client=t}};var EO={},MO=Object.defineProperty,sv=Object.getOwnPropertySymbols,SO=Object.prototype.hasOwnProperty,xO=Object.prototype.propertyIsEnumerable,ov=(e,t,r)=>t in e?MO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,av=(e,t)=>{for(var r in t||(t={}))SO.call(t,r)&&ov(e,r,t[r]);if(sv)for(var r of sv(t))xO.call(t,r)&&ov(e,r,t[r]);return e};const IO="ReactNative",os={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},DO="js";function K0(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function qu(){return!oh()&&!!Bu()&&navigator.product===IO}function Nl(){return!K0()&&!!Bu()&&!!oh()}function Cl(){return qu()?os.reactNative:K0()?os.node:Nl()?os.browser:os.unknown}function NO(){var e;try{return qu()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function CO(e,t){let r=wu.parse(e);return r=av(av({},r),t),e=wu.stringify(r),e}function RO(){return A2()||{name:"",description:"",url:"",icons:[""]}}function PO(){if(Cl()===os.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:i}=global.Platform;return[r,i].join("-")}const e=IN();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function OO(){var e;const t=Cl();return t===os.browser?[t,((e=sy())==null?void 0:e.host)||"unknown"].join(":"):t}function e8(e,t,r){const i=PO(),n=OO();return[[e,t].join("-"),[DO,r].join("-"),i,n].join("/")}function BO({protocol:e,version:t,relayUrl:r,sdkVersion:i,auth:n,projectId:s,useOnCloseEvent:u,bundleId:p}){const b=r.split("?"),m=e8(e,t,i),w={auth:n,ua:m,projectId:s,useOnCloseEvent:u||void 0,origin:p||void 0},S=CO(b[1]||"",w);return b[0]+"?"+S}function r8(e){return Object.fromEntries(e.entries())}function i8(e){return new Map(Object.entries(e))}function TO(e=Xt.FIVE_MINUTES,t){const r=Xt.toMiliseconds(e||Xt.FIVE_MINUTES);let i,n,s;return{resolve:u=>{s&&i&&(clearTimeout(s),i(u))},reject:u=>{s&&n&&(clearTimeout(s),n(u))},done:()=>new Promise((u,p)=>{s=setTimeout(()=>{p(new Error(t))},r),i=u,n=p})}}function Bf(e,t,r){return new Promise(async(i,n)=>{const s=setTimeout(()=>n(new Error(r)),t);try{const u=await e;i(u)}catch(u){n(u)}clearTimeout(s)})}function n8(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function FO(e){return n8("topic",e)}function UO(e){return n8("id",e)}function qO(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")i.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function uu(e,t){return Xt.fromMiliseconds(Date.now()+Xt.toMiliseconds(e))}function fv(e){return Date.now()>=Xt.toMiliseconds(e)}function M1(e,t){return`${e}${t?`:${t}`:""}`}function hv(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function s8(){return typeof process<"u"&&EO.IS_VITEST==="true"}function o8(e){return Buffer.from(e,"base64").toString("utf-8")}var a8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LO(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var kO={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var s=!i&&typeof self=="object",u=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;u?n=a8:s&&(n=self);var p=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,b=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",m="0123456789abcdef".split(""),w=[31,7936,2031616,520093696],S=[4,1024,262144,67108864],D=[1,256,65536,16777216],N=[6,1536,393216,100663296],P=[0,8,16,24],L=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],Y=[128,256],Q=["hex","buffer","arrayBuffer","array","digest"],X={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(g){return Object.prototype.toString.call(g)==="[object Array]"}),b&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(g){return typeof g=="object"&&g.buffer&&g.buffer.constructor===ArrayBuffer});for(var $=function(g,F,O){return function(B){return new _(g,F,g).update(B)[O]()}},j=function(g,F,O){return function(B,q){return new _(g,F,q).update(B)[O]()}},K=function(g,F,O){return function(B,q,x,T){return h["cshake"+g].update(B,q,x,T)[O]()}},C=function(g,F,O){return function(B,q,x,T){return h["kmac"+g].update(B,q,x,T)[O]()}},z=function(g,F,O,B){for(var q=0;q<Q.length;++q){var x=Q[q];g[x]=F(O,B,x)}return g},st=function(g,F){var O=$(g,F,"hex");return O.create=function(){return new _(g,F,g)},O.update=function(B){return O.create().update(B)},z(O,$,g,F)},dt=function(g,F){var O=j(g,F,"hex");return O.create=function(B){return new _(g,F,B)},O.update=function(B,q){return O.create(q).update(B)},z(O,j,g,F)},H=function(g,F){var O=X[g],B=K(g,F,"hex");return B.create=function(q,x,T){return!x&&!T?h["shake"+g].create(q):new _(g,F,q).bytepad([x,T],O)},B.update=function(q,x,T,Z){return B.create(x,T,Z).update(q)},z(B,K,g,F)},I=function(g,F){var O=X[g],B=C(g,F,"hex");return B.create=function(q,x,T){return new J(g,F,x).bytepad(["KMAC",T],O).bytepad([q],O)},B.update=function(q,x,T,Z){return B.create(q,T,Z).update(x)},z(B,C,g,F)},o=[{name:"keccak",padding:D,bits:k,createMethod:st},{name:"sha3",padding:N,bits:k,createMethod:st},{name:"shake",padding:w,bits:Y,createMethod:dt},{name:"cshake",padding:S,bits:Y,createMethod:H},{name:"kmac",padding:S,bits:Y,createMethod:I}],h={},c=[],v=0;v<o.length;++v)for(var y=o[v],M=y.bits,E=0;E<M.length;++E){var d=y.name+"_"+M[E];if(c.push(d),h[d]=y.createMethod(M[E],y.padding),y.name!=="sha3"){var f=y.name+M[E];c.push(f),h[f]=h[d]}}function _(g,F,O){this.blocks=[],this.s=[],this.padding=F,this.outputBits=O,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(g<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=O>>5,this.extraBytes=(O&31)>>3;for(var B=0;B<50;++B)this.s[B]=0}_.prototype.update=function(g){if(this.finalized)throw new Error(r);var F,O=typeof g;if(O!=="string"){if(O==="object"){if(g===null)throw new Error(t);if(b&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!b||!ArrayBuffer.isView(g)))throw new Error(t)}else throw new Error(t);F=!0}for(var B=this.blocks,q=this.byteCount,x=g.length,T=this.blockCount,Z=0,it=this.s,et,pt;Z<x;){if(this.reset)for(this.reset=!1,B[0]=this.block,et=1;et<T+1;++et)B[et]=0;if(F)for(et=this.start;Z<x&&et<q;++Z)B[et>>2]|=g[Z]<<P[et++&3];else for(et=this.start;Z<x&&et<q;++Z)pt=g.charCodeAt(Z),pt<128?B[et>>2]|=pt<<P[et++&3]:pt<2048?(B[et>>2]|=(192|pt>>6)<<P[et++&3],B[et>>2]|=(128|pt&63)<<P[et++&3]):pt<55296||pt>=57344?(B[et>>2]|=(224|pt>>12)<<P[et++&3],B[et>>2]|=(128|pt>>6&63)<<P[et++&3],B[et>>2]|=(128|pt&63)<<P[et++&3]):(pt=65536+((pt&1023)<<10|g.charCodeAt(++Z)&1023),B[et>>2]|=(240|pt>>18)<<P[et++&3],B[et>>2]|=(128|pt>>12&63)<<P[et++&3],B[et>>2]|=(128|pt>>6&63)<<P[et++&3],B[et>>2]|=(128|pt&63)<<P[et++&3]);if(this.lastByteIndex=et,et>=q){for(this.start=et-q,this.block=B[T],et=0;et<T;++et)it[et]^=B[et];W(it),this.reset=!0}else this.start=et}return this},_.prototype.encode=function(g,F){var O=g&255,B=1,q=[O];for(g=g>>8,O=g&255;O>0;)q.unshift(O),g=g>>8,O=g&255,++B;return F?q.push(B):q.unshift(B),this.update(q),q.length},_.prototype.encodeString=function(g){var F,O=typeof g;if(O!=="string"){if(O==="object"){if(g===null)throw new Error(t);if(b&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!b||!ArrayBuffer.isView(g)))throw new Error(t)}else throw new Error(t);F=!0}var B=0,q=g.length;if(F)B=q;else for(var x=0;x<g.length;++x){var T=g.charCodeAt(x);T<128?B+=1:T<2048?B+=2:T<55296||T>=57344?B+=3:(T=65536+((T&1023)<<10|g.charCodeAt(++x)&1023),B+=4)}return B+=this.encode(B*8),this.update(g),B},_.prototype.bytepad=function(g,F){for(var O=this.encode(F),B=0;B<g.length;++B)O+=this.encodeString(g[B]);var q=F-O%F,x=[];return x.length=q,this.update(x),this},_.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var g=this.blocks,F=this.lastByteIndex,O=this.blockCount,B=this.s;if(g[F>>2]|=this.padding[F&3],this.lastByteIndex===this.byteCount)for(g[0]=g[O],F=1;F<O+1;++F)g[F]=0;for(g[O-1]|=2147483648,F=0;F<O;++F)B[F]^=g[F];W(B)}},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var g=this.blockCount,F=this.s,O=this.outputBlocks,B=this.extraBytes,q=0,x=0,T="",Z;x<O;){for(q=0;q<g&&x<O;++q,++x)Z=F[q],T+=m[Z>>4&15]+m[Z&15]+m[Z>>12&15]+m[Z>>8&15]+m[Z>>20&15]+m[Z>>16&15]+m[Z>>28&15]+m[Z>>24&15];x%g===0&&(W(F),q=0)}return B&&(Z=F[q],T+=m[Z>>4&15]+m[Z&15],B>1&&(T+=m[Z>>12&15]+m[Z>>8&15]),B>2&&(T+=m[Z>>20&15]+m[Z>>16&15])),T},_.prototype.arrayBuffer=function(){this.finalize();var g=this.blockCount,F=this.s,O=this.outputBlocks,B=this.extraBytes,q=0,x=0,T=this.outputBits>>3,Z;B?Z=new ArrayBuffer(O+1<<2):Z=new ArrayBuffer(T);for(var it=new Uint32Array(Z);x<O;){for(q=0;q<g&&x<O;++q,++x)it[x]=F[q];x%g===0&&W(F)}return B&&(it[q]=F[q],Z=Z.slice(0,T)),Z},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var g=this.blockCount,F=this.s,O=this.outputBlocks,B=this.extraBytes,q=0,x=0,T=[],Z,it;x<O;){for(q=0;q<g&&x<O;++q,++x)Z=x<<2,it=F[q],T[Z]=it&255,T[Z+1]=it>>8&255,T[Z+2]=it>>16&255,T[Z+3]=it>>24&255;x%g===0&&W(F)}return B&&(Z=x<<2,it=F[q],T[Z]=it&255,B>1&&(T[Z+1]=it>>8&255),B>2&&(T[Z+2]=it>>16&255)),T};function J(g,F,O){_.call(this,g,F,O)}J.prototype=new _,J.prototype.finalize=function(){return this.encode(this.outputBits,!0),_.prototype.finalize.call(this)};var W=function(g){var F,O,B,q,x,T,Z,it,et,pt,gt,_t,re,bt,Et,Qt,ct,yt,Wt,ht,wt,Kt,ut,It,Vt,mt,Rt,te,vt,Pt,ue,Tt,Jt,ce,Ft,Yt,de,Mt,Lt,se,St,kt,ie,Dt,jt,oe,Nt,zt,fe,xt,qt,he,Ct,Zt,be,Ht,Gt,ze,$e,He,je,Ke,Ie;for(B=0;B<48;B+=2)q=g[0]^g[10]^g[20]^g[30]^g[40],x=g[1]^g[11]^g[21]^g[31]^g[41],T=g[2]^g[12]^g[22]^g[32]^g[42],Z=g[3]^g[13]^g[23]^g[33]^g[43],it=g[4]^g[14]^g[24]^g[34]^g[44],et=g[5]^g[15]^g[25]^g[35]^g[45],pt=g[6]^g[16]^g[26]^g[36]^g[46],gt=g[7]^g[17]^g[27]^g[37]^g[47],_t=g[8]^g[18]^g[28]^g[38]^g[48],re=g[9]^g[19]^g[29]^g[39]^g[49],F=_t^(T<<1|Z>>>31),O=re^(Z<<1|T>>>31),g[0]^=F,g[1]^=O,g[10]^=F,g[11]^=O,g[20]^=F,g[21]^=O,g[30]^=F,g[31]^=O,g[40]^=F,g[41]^=O,F=q^(it<<1|et>>>31),O=x^(et<<1|it>>>31),g[2]^=F,g[3]^=O,g[12]^=F,g[13]^=O,g[22]^=F,g[23]^=O,g[32]^=F,g[33]^=O,g[42]^=F,g[43]^=O,F=T^(pt<<1|gt>>>31),O=Z^(gt<<1|pt>>>31),g[4]^=F,g[5]^=O,g[14]^=F,g[15]^=O,g[24]^=F,g[25]^=O,g[34]^=F,g[35]^=O,g[44]^=F,g[45]^=O,F=it^(_t<<1|re>>>31),O=et^(re<<1|_t>>>31),g[6]^=F,g[7]^=O,g[16]^=F,g[17]^=O,g[26]^=F,g[27]^=O,g[36]^=F,g[37]^=O,g[46]^=F,g[47]^=O,F=pt^(q<<1|x>>>31),O=gt^(x<<1|q>>>31),g[8]^=F,g[9]^=O,g[18]^=F,g[19]^=O,g[28]^=F,g[29]^=O,g[38]^=F,g[39]^=O,g[48]^=F,g[49]^=O,bt=g[0],Et=g[1],oe=g[11]<<4|g[10]>>>28,Nt=g[10]<<4|g[11]>>>28,te=g[20]<<3|g[21]>>>29,vt=g[21]<<3|g[20]>>>29,He=g[31]<<9|g[30]>>>23,je=g[30]<<9|g[31]>>>23,kt=g[40]<<18|g[41]>>>14,ie=g[41]<<18|g[40]>>>14,ce=g[2]<<1|g[3]>>>31,Ft=g[3]<<1|g[2]>>>31,Qt=g[13]<<12|g[12]>>>20,ct=g[12]<<12|g[13]>>>20,zt=g[22]<<10|g[23]>>>22,fe=g[23]<<10|g[22]>>>22,Pt=g[33]<<13|g[32]>>>19,ue=g[32]<<13|g[33]>>>19,Ke=g[42]<<2|g[43]>>>30,Ie=g[43]<<2|g[42]>>>30,Zt=g[5]<<30|g[4]>>>2,be=g[4]<<30|g[5]>>>2,Yt=g[14]<<6|g[15]>>>26,de=g[15]<<6|g[14]>>>26,yt=g[25]<<11|g[24]>>>21,Wt=g[24]<<11|g[25]>>>21,xt=g[34]<<15|g[35]>>>17,qt=g[35]<<15|g[34]>>>17,Tt=g[45]<<29|g[44]>>>3,Jt=g[44]<<29|g[45]>>>3,It=g[6]<<28|g[7]>>>4,Vt=g[7]<<28|g[6]>>>4,Ht=g[17]<<23|g[16]>>>9,Gt=g[16]<<23|g[17]>>>9,Mt=g[26]<<25|g[27]>>>7,Lt=g[27]<<25|g[26]>>>7,ht=g[36]<<21|g[37]>>>11,wt=g[37]<<21|g[36]>>>11,he=g[47]<<24|g[46]>>>8,Ct=g[46]<<24|g[47]>>>8,Dt=g[8]<<27|g[9]>>>5,jt=g[9]<<27|g[8]>>>5,mt=g[18]<<20|g[19]>>>12,Rt=g[19]<<20|g[18]>>>12,ze=g[29]<<7|g[28]>>>25,$e=g[28]<<7|g[29]>>>25,se=g[38]<<8|g[39]>>>24,St=g[39]<<8|g[38]>>>24,Kt=g[48]<<14|g[49]>>>18,ut=g[49]<<14|g[48]>>>18,g[0]=bt^~Qt&yt,g[1]=Et^~ct&Wt,g[10]=It^~mt&te,g[11]=Vt^~Rt&vt,g[20]=ce^~Yt&Mt,g[21]=Ft^~de&Lt,g[30]=Dt^~oe&zt,g[31]=jt^~Nt&fe,g[40]=Zt^~Ht&ze,g[41]=be^~Gt&$e,g[2]=Qt^~yt&ht,g[3]=ct^~Wt&wt,g[12]=mt^~te&Pt,g[13]=Rt^~vt&ue,g[22]=Yt^~Mt&se,g[23]=de^~Lt&St,g[32]=oe^~zt&xt,g[33]=Nt^~fe&qt,g[42]=Ht^~ze&He,g[43]=Gt^~$e&je,g[4]=yt^~ht&Kt,g[5]=Wt^~wt&ut,g[14]=te^~Pt&Tt,g[15]=vt^~ue&Jt,g[24]=Mt^~se&kt,g[25]=Lt^~St&ie,g[34]=zt^~xt&he,g[35]=fe^~qt&Ct,g[44]=ze^~He&Ke,g[45]=$e^~je&Ie,g[6]=ht^~Kt&bt,g[7]=wt^~ut&Et,g[16]=Pt^~Tt&It,g[17]=ue^~Jt&Vt,g[26]=se^~kt&ce,g[27]=St^~ie&Ft,g[36]=xt^~he&Dt,g[37]=qt^~Ct&jt,g[46]=He^~Ke&Zt,g[47]=je^~Ie&be,g[8]=Kt^~bt&Qt,g[9]=ut^~Et&ct,g[18]=Tt^~It&mt,g[19]=Jt^~Vt&Rt,g[28]=kt^~ce&Yt,g[29]=ie^~Ft&de,g[38]=he^~Dt&oe,g[39]=Ct^~jt&Nt,g[48]=Ke^~Zt&Ht,g[49]=Ie^~be&Gt,g[0]^=L[B],g[1]^=L[B+1]};if(p)e.exports=h;else for(v=0;v<c.length;++v)n[c[v]]=h[c[v]]})()})(kO);const zO="logger/5.7.0";let uv=!1,cv=!1;const _0={debug:1,default:2,info:2,warning:3,error:4,off:5};let lv=_0.default,S1=null;function $O(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(e){return e.message}return null}const dv=$O();var qp;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(qp||(qp={}));var Zn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Zn||(Zn={}));const pv="0123456789abcdef";let Hi=class qr{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();_0[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(lv>_0[i])&&console.log.apply(console,r)}debug(...t){this._log(qr.levels.DEBUG,t)}info(...t){this._log(qr.levels.INFO,t)}warn(...t){this._log(qr.levels.WARNING,t)}makeError(t,r,i){if(cv)return this.makeError("censored error",r,{});r||(r=qr.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(b=>{const m=i[b];try{if(m instanceof Uint8Array){let w="";for(let S=0;S<m.length;S++)w+=pv[m[S]>>4],w+=pv[m[S]&15];n.push(b+"=Uint8Array(0x"+w+")")}else n.push(b+"="+JSON.stringify(m))}catch{n.push(b+"="+JSON.stringify(i[b].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const s=t;let u="";switch(r){case Zn.NUMERIC_FAULT:{u="NUMERIC_FAULT";const b=t;switch(b){case"overflow":case"underflow":case"division-by-zero":u+="-"+b;break;case"negative-power":case"negative-width":u+="-unsupported";break;case"unbound-bitwise-result":u+="-unbound-result";break}break}case Zn.CALL_EXCEPTION:case Zn.INSUFFICIENT_FUNDS:case Zn.MISSING_NEW:case Zn.NONCE_EXPIRED:case Zn.REPLACEMENT_UNDERPRICED:case Zn.TRANSACTION_REPLACED:case Zn.UNPREDICTABLE_GAS_LIMIT:u=r;break}u&&(t+=" [ See: https://links.ethers.org/v5-errors-"+u+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const p=new Error(t);return p.reason=s,p.code=r,Object.keys(i).forEach(function(b){p[b]=i[b]}),p}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,qr.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){dv&&this.throwError("platform missing String.prototype.normalize",qr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:dv})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,qr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,qr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,qr.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,qr.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",qr.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",qr.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",qr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return S1||(S1=new qr(zO)),S1}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",qr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),uv){if(!t)return;this.globalLogger().throwError("error censorship permanent",qr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}cv=!!t,uv=!!r}static setLogLevel(t){const r=_0[t.toLowerCase()];if(r==null){qr.globalLogger().warn("invalid log level - "+t);return}lv=r}static from(t){return new qr(t)}};Hi.errors=Zn,Hi.levels=qp;const HO="bytes/5.7.0",aa=new Hi(HO);function f8(e){return!!e.toHexString}function E0(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return E0(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function gv(e){return typeof e=="number"&&e==e&&e%1===0}function Lu(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!gv(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!gv(r)||r<0||r>=256)return!1}return!0}function h8(e,t){if(t||(t={}),typeof e=="number"){aa.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),E0(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),f8(e)&&(e=e.toHexString()),Gf(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":aa.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return E0(new Uint8Array(i))}return Lu(e)?E0(new Uint8Array(e)):aa.throwArgumentError("invalid arrayify value","value",e)}function Gf(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const x1="0123456789abcdef";function u8(e,t){if(t||(t={}),typeof e=="number"){aa.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=x1[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),f8(e))return e.toHexString();if(Gf(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":aa.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Lu(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=x1[(n&240)>>4]+x1[n&15]}return r}return aa.throwArgumentError("invalid hexlify value","value",e)}function G0(e,t){for(typeof e!="string"?e=u8(e):Gf(e)||aa.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&aa.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var c8={exports:{}},jO={},KO=Object.freeze({__proto__:null,default:jO}),GO=LO(KO);(function(e){(function(t,r){function i(o,h){if(!o)throw new Error(h||"Assertion failed")}function n(o,h){o.super_=h;var c=function(){};c.prototype=h.prototype,o.prototype=new c,o.prototype.constructor=o}function s(o,h,c){if(s.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((h==="le"||h==="be")&&(c=h,h=10),this._init(o||0,h||10,c||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=GO.Buffer}catch{}s.isBN=function(o){return o instanceof s?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===s.wordSize&&Array.isArray(o.words)},s.max=function(o,h){return o.cmp(h)>0?o:h},s.min=function(o,h){return o.cmp(h)<0?o:h},s.prototype._init=function(o,h,c){if(typeof o=="number")return this._initNumber(o,h,c);if(typeof o=="object")return this._initArray(o,h,c);h==="hex"&&(h=16),i(h===(h|0)&&h>=2&&h<=36),o=o.toString().replace(/\s+/g,"");var v=0;o[0]==="-"&&(v++,this.negative=1),v<o.length&&(h===16?this._parseHex(o,v,c):(this._parseBase(o,h,v),c==="le"&&this._initArray(this.toArray(),h,c)))},s.prototype._initNumber=function(o,h,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),h,c)},s.prototype._initArray=function(o,h,c){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y,M,E=0;if(c==="be")for(v=o.length-1,y=0;v>=0;v-=3)M=o[v]|o[v-1]<<8|o[v-2]<<16,this.words[y]|=M<<E&67108863,this.words[y+1]=M>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);else if(c==="le")for(v=0,y=0;v<o.length;v+=3)M=o[v]|o[v+1]<<8|o[v+2]<<16,this.words[y]|=M<<E&67108863,this.words[y+1]=M>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);return this._strip()};function p(o,h){var c=o.charCodeAt(h);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;i(!1,"Invalid character in "+o)}function b(o,h,c){var v=p(o,c);return c-1>=h&&(v|=p(o,c-1)<<4),v}s.prototype._parseHex=function(o,h,c){this.length=Math.ceil((o.length-h)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y=0,M=0,E;if(c==="be")for(v=o.length-1;v>=h;v-=2)E=b(o,h,v)<<y,this.words[M]|=E&67108863,y>=18?(y-=18,M+=1,this.words[M]|=E>>>26):y+=8;else{var d=o.length-h;for(v=d%2===0?h+1:h;v<o.length;v+=2)E=b(o,h,v)<<y,this.words[M]|=E&67108863,y>=18?(y-=18,M+=1,this.words[M]|=E>>>26):y+=8}this._strip()};function m(o,h,c,v){for(var y=0,M=0,E=Math.min(o.length,c),d=h;d<E;d++){var f=o.charCodeAt(d)-48;y*=v,f>=49?M=f-49+10:f>=17?M=f-17+10:M=f,i(f>=0&&M<v,"Invalid character"),y+=M}return y}s.prototype._parseBase=function(o,h,c){this.words=[0],this.length=1;for(var v=0,y=1;y<=67108863;y*=h)v++;v--,y=y/h|0;for(var M=o.length-c,E=M%v,d=Math.min(M,M-E)+c,f=0,_=c;_<d;_+=v)f=m(o,_,_+v,h),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(E!==0){var J=1;for(f=m(o,_,o.length,h),_=0;_<E;_++)J*=h;this.imuln(J),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(o){o.words=new Array(this.length);for(var h=0;h<this.length;h++)o.words[h]=this.words[h];o.length=this.length,o.negative=this.negative,o.red=this.red};function w(o,h){o.words=h.words,o.length=h.length,o.negative=h.negative,o.red=h.red}if(s.prototype._move=function(o){w(o,this)},s.prototype.clone=function(){var o=new s(null);return this.copy(o),o},s.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{s.prototype.inspect=S}else s.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var D=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(o,h){o=o||10,h=h|0||1;var c;if(o===16||o==="hex"){c="";for(var v=0,y=0,M=0;M<this.length;M++){var E=this.words[M],d=((E<<v|y)&16777215).toString(16);y=E>>>24-v&16777215,v+=2,v>=26&&(v-=26,M--),y!==0||M!==this.length-1?c=D[6-d.length]+d+c:c=d+c}for(y!==0&&(c=y.toString(16)+c);c.length%h!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var f=N[o],_=P[o];c="";var J=this.clone();for(J.negative=0;!J.isZero();){var W=J.modrn(_).toString(o);J=J.idivn(_),J.isZero()?c=W+c:c=D[f-W.length]+W+c}for(this.isZero()&&(c="0"+c);c.length%h!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},s.prototype.toJSON=function(){return this.toString(16,2)},u&&(s.prototype.toBuffer=function(o,h){return this.toArrayLike(u,o,h)}),s.prototype.toArray=function(o,h){return this.toArrayLike(Array,o,h)};var L=function(o,h){return o.allocUnsafe?o.allocUnsafe(h):new o(h)};s.prototype.toArrayLike=function(o,h,c){this._strip();var v=this.byteLength(),y=c||Math.max(1,v);i(v<=y,"byte array longer than desired length"),i(y>0,"Requested array length <= 0");var M=L(o,y),E=h==="le"?"LE":"BE";return this["_toArrayLike"+E](M,v),M},s.prototype._toArrayLikeLE=function(o,h){for(var c=0,v=0,y=0,M=0;y<this.length;y++){var E=this.words[y]<<M|v;o[c++]=E&255,c<o.length&&(o[c++]=E>>8&255),c<o.length&&(o[c++]=E>>16&255),M===6?(c<o.length&&(o[c++]=E>>24&255),v=0,M=0):(v=E>>>24,M+=2)}if(c<o.length)for(o[c++]=v;c<o.length;)o[c++]=0},s.prototype._toArrayLikeBE=function(o,h){for(var c=o.length-1,v=0,y=0,M=0;y<this.length;y++){var E=this.words[y]<<M|v;o[c--]=E&255,c>=0&&(o[c--]=E>>8&255),c>=0&&(o[c--]=E>>16&255),M===6?(c>=0&&(o[c--]=E>>24&255),v=0,M=0):(v=E>>>24,M+=2)}if(c>=0)for(o[c--]=v;c>=0;)o[c--]=0},Math.clz32?s.prototype._countBits=function(o){return 32-Math.clz32(o)}:s.prototype._countBits=function(o){var h=o,c=0;return h>=4096&&(c+=13,h>>>=13),h>=64&&(c+=7,h>>>=7),h>=8&&(c+=4,h>>>=4),h>=2&&(c+=2,h>>>=2),c+h},s.prototype._zeroBits=function(o){if(o===0)return 26;var h=o,c=0;return h&8191||(c+=13,h>>>=13),h&127||(c+=7,h>>>=7),h&15||(c+=4,h>>>=4),h&3||(c+=2,h>>>=2),h&1||c++,c},s.prototype.bitLength=function(){var o=this.words[this.length-1],h=this._countBits(o);return(this.length-1)*26+h};function k(o){for(var h=new Array(o.bitLength()),c=0;c<h.length;c++){var v=c/26|0,y=c%26;h[c]=o.words[v]>>>y&1}return h}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,h=0;h<this.length;h++){var c=this._zeroBits(this.words[h]);if(o+=c,c!==26)break}return o},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},s.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var h=0;h<o.length;h++)this.words[h]=this.words[h]|o.words[h];return this._strip()},s.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},s.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},s.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},s.prototype.iuand=function(o){var h;this.length>o.length?h=o:h=this;for(var c=0;c<h.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=h.length,this._strip()},s.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},s.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},s.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},s.prototype.iuxor=function(o){var h,c;this.length>o.length?(h=this,c=o):(h=o,c=this);for(var v=0;v<c.length;v++)this.words[v]=h.words[v]^c.words[v];if(this!==h)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=h.length,this._strip()},s.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},s.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},s.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},s.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var h=Math.ceil(o/26)|0,c=o%26;this._expand(h),c>0&&h--;for(var v=0;v<h;v++)this.words[v]=~this.words[v]&67108863;return c>0&&(this.words[v]=~this.words[v]&67108863>>26-c),this._strip()},s.prototype.notn=function(o){return this.clone().inotn(o)},s.prototype.setn=function(o,h){i(typeof o=="number"&&o>=0);var c=o/26|0,v=o%26;return this._expand(c+1),h?this.words[c]=this.words[c]|1<<v:this.words[c]=this.words[c]&~(1<<v),this._strip()},s.prototype.iadd=function(o){var h;if(this.negative!==0&&o.negative===0)return this.negative=0,h=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,h=this.isub(o),o.negative=1,h._normSign();var c,v;this.length>o.length?(c=this,v=o):(c=o,v=this);for(var y=0,M=0;M<v.length;M++)h=(c.words[M]|0)+(v.words[M]|0)+y,this.words[M]=h&67108863,y=h>>>26;for(;y!==0&&M<c.length;M++)h=(c.words[M]|0)+y,this.words[M]=h&67108863,y=h>>>26;if(this.length=c.length,y!==0)this.words[this.length]=y,this.length++;else if(c!==this)for(;M<c.length;M++)this.words[M]=c.words[M];return this},s.prototype.add=function(o){var h;return o.negative!==0&&this.negative===0?(o.negative=0,h=this.sub(o),o.negative^=1,h):o.negative===0&&this.negative!==0?(this.negative=0,h=o.sub(this),this.negative=1,h):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},s.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var h=this.iadd(o);return o.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,y;c>0?(v=this,y=o):(v=o,y=this);for(var M=0,E=0;E<y.length;E++)h=(v.words[E]|0)-(y.words[E]|0)+M,M=h>>26,this.words[E]=h&67108863;for(;M!==0&&E<v.length;E++)h=(v.words[E]|0)+M,M=h>>26,this.words[E]=h&67108863;if(M===0&&E<v.length&&v!==this)for(;E<v.length;E++)this.words[E]=v.words[E];return this.length=Math.max(this.length,E),v!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(o){return this.clone().isub(o)};function Y(o,h,c){c.negative=h.negative^o.negative;var v=o.length+h.length|0;c.length=v,v=v-1|0;var y=o.words[0]|0,M=h.words[0]|0,E=y*M,d=E&67108863,f=E/67108864|0;c.words[0]=d;for(var _=1;_<v;_++){for(var J=f>>>26,W=f&67108863,g=Math.min(_,h.length-1),F=Math.max(0,_-o.length+1);F<=g;F++){var O=_-F|0;y=o.words[O]|0,M=h.words[F]|0,E=y*M+W,J+=E/67108864|0,W=E&67108863}c.words[_]=W|0,f=J|0}return f!==0?c.words[_]=f|0:c.length--,c._strip()}var Q=function(o,h,c){var v=o.words,y=h.words,M=c.words,E=0,d,f,_,J=v[0]|0,W=J&8191,g=J>>>13,F=v[1]|0,O=F&8191,B=F>>>13,q=v[2]|0,x=q&8191,T=q>>>13,Z=v[3]|0,it=Z&8191,et=Z>>>13,pt=v[4]|0,gt=pt&8191,_t=pt>>>13,re=v[5]|0,bt=re&8191,Et=re>>>13,Qt=v[6]|0,ct=Qt&8191,yt=Qt>>>13,Wt=v[7]|0,ht=Wt&8191,wt=Wt>>>13,Kt=v[8]|0,ut=Kt&8191,It=Kt>>>13,Vt=v[9]|0,mt=Vt&8191,Rt=Vt>>>13,te=y[0]|0,vt=te&8191,Pt=te>>>13,ue=y[1]|0,Tt=ue&8191,Jt=ue>>>13,ce=y[2]|0,Ft=ce&8191,Yt=ce>>>13,de=y[3]|0,Mt=de&8191,Lt=de>>>13,se=y[4]|0,St=se&8191,kt=se>>>13,ie=y[5]|0,Dt=ie&8191,jt=ie>>>13,oe=y[6]|0,Nt=oe&8191,zt=oe>>>13,fe=y[7]|0,xt=fe&8191,qt=fe>>>13,he=y[8]|0,Ct=he&8191,Zt=he>>>13,be=y[9]|0,Ht=be&8191,Gt=be>>>13;c.negative=o.negative^h.negative,c.length=19,d=Math.imul(W,vt),f=Math.imul(W,Pt),f=f+Math.imul(g,vt)|0,_=Math.imul(g,Pt);var ze=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(ze>>>26)|0,ze&=67108863,d=Math.imul(O,vt),f=Math.imul(O,Pt),f=f+Math.imul(B,vt)|0,_=Math.imul(B,Pt),d=d+Math.imul(W,Tt)|0,f=f+Math.imul(W,Jt)|0,f=f+Math.imul(g,Tt)|0,_=_+Math.imul(g,Jt)|0;var $e=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+($e>>>26)|0,$e&=67108863,d=Math.imul(x,vt),f=Math.imul(x,Pt),f=f+Math.imul(T,vt)|0,_=Math.imul(T,Pt),d=d+Math.imul(O,Tt)|0,f=f+Math.imul(O,Jt)|0,f=f+Math.imul(B,Tt)|0,_=_+Math.imul(B,Jt)|0,d=d+Math.imul(W,Ft)|0,f=f+Math.imul(W,Yt)|0,f=f+Math.imul(g,Ft)|0,_=_+Math.imul(g,Yt)|0;var He=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(He>>>26)|0,He&=67108863,d=Math.imul(it,vt),f=Math.imul(it,Pt),f=f+Math.imul(et,vt)|0,_=Math.imul(et,Pt),d=d+Math.imul(x,Tt)|0,f=f+Math.imul(x,Jt)|0,f=f+Math.imul(T,Tt)|0,_=_+Math.imul(T,Jt)|0,d=d+Math.imul(O,Ft)|0,f=f+Math.imul(O,Yt)|0,f=f+Math.imul(B,Ft)|0,_=_+Math.imul(B,Yt)|0,d=d+Math.imul(W,Mt)|0,f=f+Math.imul(W,Lt)|0,f=f+Math.imul(g,Mt)|0,_=_+Math.imul(g,Lt)|0;var je=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(je>>>26)|0,je&=67108863,d=Math.imul(gt,vt),f=Math.imul(gt,Pt),f=f+Math.imul(_t,vt)|0,_=Math.imul(_t,Pt),d=d+Math.imul(it,Tt)|0,f=f+Math.imul(it,Jt)|0,f=f+Math.imul(et,Tt)|0,_=_+Math.imul(et,Jt)|0,d=d+Math.imul(x,Ft)|0,f=f+Math.imul(x,Yt)|0,f=f+Math.imul(T,Ft)|0,_=_+Math.imul(T,Yt)|0,d=d+Math.imul(O,Mt)|0,f=f+Math.imul(O,Lt)|0,f=f+Math.imul(B,Mt)|0,_=_+Math.imul(B,Lt)|0,d=d+Math.imul(W,St)|0,f=f+Math.imul(W,kt)|0,f=f+Math.imul(g,St)|0,_=_+Math.imul(g,kt)|0;var Ke=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(bt,vt),f=Math.imul(bt,Pt),f=f+Math.imul(Et,vt)|0,_=Math.imul(Et,Pt),d=d+Math.imul(gt,Tt)|0,f=f+Math.imul(gt,Jt)|0,f=f+Math.imul(_t,Tt)|0,_=_+Math.imul(_t,Jt)|0,d=d+Math.imul(it,Ft)|0,f=f+Math.imul(it,Yt)|0,f=f+Math.imul(et,Ft)|0,_=_+Math.imul(et,Yt)|0,d=d+Math.imul(x,Mt)|0,f=f+Math.imul(x,Lt)|0,f=f+Math.imul(T,Mt)|0,_=_+Math.imul(T,Lt)|0,d=d+Math.imul(O,St)|0,f=f+Math.imul(O,kt)|0,f=f+Math.imul(B,St)|0,_=_+Math.imul(B,kt)|0,d=d+Math.imul(W,Dt)|0,f=f+Math.imul(W,jt)|0,f=f+Math.imul(g,Dt)|0,_=_+Math.imul(g,jt)|0;var Ie=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,d=Math.imul(ct,vt),f=Math.imul(ct,Pt),f=f+Math.imul(yt,vt)|0,_=Math.imul(yt,Pt),d=d+Math.imul(bt,Tt)|0,f=f+Math.imul(bt,Jt)|0,f=f+Math.imul(Et,Tt)|0,_=_+Math.imul(Et,Jt)|0,d=d+Math.imul(gt,Ft)|0,f=f+Math.imul(gt,Yt)|0,f=f+Math.imul(_t,Ft)|0,_=_+Math.imul(_t,Yt)|0,d=d+Math.imul(it,Mt)|0,f=f+Math.imul(it,Lt)|0,f=f+Math.imul(et,Mt)|0,_=_+Math.imul(et,Lt)|0,d=d+Math.imul(x,St)|0,f=f+Math.imul(x,kt)|0,f=f+Math.imul(T,St)|0,_=_+Math.imul(T,kt)|0,d=d+Math.imul(O,Dt)|0,f=f+Math.imul(O,jt)|0,f=f+Math.imul(B,Dt)|0,_=_+Math.imul(B,jt)|0,d=d+Math.imul(W,Nt)|0,f=f+Math.imul(W,zt)|0,f=f+Math.imul(g,Nt)|0,_=_+Math.imul(g,zt)|0;var dr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,d=Math.imul(ht,vt),f=Math.imul(ht,Pt),f=f+Math.imul(wt,vt)|0,_=Math.imul(wt,Pt),d=d+Math.imul(ct,Tt)|0,f=f+Math.imul(ct,Jt)|0,f=f+Math.imul(yt,Tt)|0,_=_+Math.imul(yt,Jt)|0,d=d+Math.imul(bt,Ft)|0,f=f+Math.imul(bt,Yt)|0,f=f+Math.imul(Et,Ft)|0,_=_+Math.imul(Et,Yt)|0,d=d+Math.imul(gt,Mt)|0,f=f+Math.imul(gt,Lt)|0,f=f+Math.imul(_t,Mt)|0,_=_+Math.imul(_t,Lt)|0,d=d+Math.imul(it,St)|0,f=f+Math.imul(it,kt)|0,f=f+Math.imul(et,St)|0,_=_+Math.imul(et,kt)|0,d=d+Math.imul(x,Dt)|0,f=f+Math.imul(x,jt)|0,f=f+Math.imul(T,Dt)|0,_=_+Math.imul(T,jt)|0,d=d+Math.imul(O,Nt)|0,f=f+Math.imul(O,zt)|0,f=f+Math.imul(B,Nt)|0,_=_+Math.imul(B,zt)|0,d=d+Math.imul(W,xt)|0,f=f+Math.imul(W,qt)|0,f=f+Math.imul(g,xt)|0,_=_+Math.imul(g,qt)|0;var Nr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,d=Math.imul(ut,vt),f=Math.imul(ut,Pt),f=f+Math.imul(It,vt)|0,_=Math.imul(It,Pt),d=d+Math.imul(ht,Tt)|0,f=f+Math.imul(ht,Jt)|0,f=f+Math.imul(wt,Tt)|0,_=_+Math.imul(wt,Jt)|0,d=d+Math.imul(ct,Ft)|0,f=f+Math.imul(ct,Yt)|0,f=f+Math.imul(yt,Ft)|0,_=_+Math.imul(yt,Yt)|0,d=d+Math.imul(bt,Mt)|0,f=f+Math.imul(bt,Lt)|0,f=f+Math.imul(Et,Mt)|0,_=_+Math.imul(Et,Lt)|0,d=d+Math.imul(gt,St)|0,f=f+Math.imul(gt,kt)|0,f=f+Math.imul(_t,St)|0,_=_+Math.imul(_t,kt)|0,d=d+Math.imul(it,Dt)|0,f=f+Math.imul(it,jt)|0,f=f+Math.imul(et,Dt)|0,_=_+Math.imul(et,jt)|0,d=d+Math.imul(x,Nt)|0,f=f+Math.imul(x,zt)|0,f=f+Math.imul(T,Nt)|0,_=_+Math.imul(T,zt)|0,d=d+Math.imul(O,xt)|0,f=f+Math.imul(O,qt)|0,f=f+Math.imul(B,xt)|0,_=_+Math.imul(B,qt)|0,d=d+Math.imul(W,Ct)|0,f=f+Math.imul(W,Zt)|0,f=f+Math.imul(g,Ct)|0,_=_+Math.imul(g,Zt)|0;var pr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,d=Math.imul(mt,vt),f=Math.imul(mt,Pt),f=f+Math.imul(Rt,vt)|0,_=Math.imul(Rt,Pt),d=d+Math.imul(ut,Tt)|0,f=f+Math.imul(ut,Jt)|0,f=f+Math.imul(It,Tt)|0,_=_+Math.imul(It,Jt)|0,d=d+Math.imul(ht,Ft)|0,f=f+Math.imul(ht,Yt)|0,f=f+Math.imul(wt,Ft)|0,_=_+Math.imul(wt,Yt)|0,d=d+Math.imul(ct,Mt)|0,f=f+Math.imul(ct,Lt)|0,f=f+Math.imul(yt,Mt)|0,_=_+Math.imul(yt,Lt)|0,d=d+Math.imul(bt,St)|0,f=f+Math.imul(bt,kt)|0,f=f+Math.imul(Et,St)|0,_=_+Math.imul(Et,kt)|0,d=d+Math.imul(gt,Dt)|0,f=f+Math.imul(gt,jt)|0,f=f+Math.imul(_t,Dt)|0,_=_+Math.imul(_t,jt)|0,d=d+Math.imul(it,Nt)|0,f=f+Math.imul(it,zt)|0,f=f+Math.imul(et,Nt)|0,_=_+Math.imul(et,zt)|0,d=d+Math.imul(x,xt)|0,f=f+Math.imul(x,qt)|0,f=f+Math.imul(T,xt)|0,_=_+Math.imul(T,qt)|0,d=d+Math.imul(O,Ct)|0,f=f+Math.imul(O,Zt)|0,f=f+Math.imul(B,Ct)|0,_=_+Math.imul(B,Zt)|0,d=d+Math.imul(W,Ht)|0,f=f+Math.imul(W,Gt)|0,f=f+Math.imul(g,Ht)|0,_=_+Math.imul(g,Gt)|0;var Cr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,d=Math.imul(mt,Tt),f=Math.imul(mt,Jt),f=f+Math.imul(Rt,Tt)|0,_=Math.imul(Rt,Jt),d=d+Math.imul(ut,Ft)|0,f=f+Math.imul(ut,Yt)|0,f=f+Math.imul(It,Ft)|0,_=_+Math.imul(It,Yt)|0,d=d+Math.imul(ht,Mt)|0,f=f+Math.imul(ht,Lt)|0,f=f+Math.imul(wt,Mt)|0,_=_+Math.imul(wt,Lt)|0,d=d+Math.imul(ct,St)|0,f=f+Math.imul(ct,kt)|0,f=f+Math.imul(yt,St)|0,_=_+Math.imul(yt,kt)|0,d=d+Math.imul(bt,Dt)|0,f=f+Math.imul(bt,jt)|0,f=f+Math.imul(Et,Dt)|0,_=_+Math.imul(Et,jt)|0,d=d+Math.imul(gt,Nt)|0,f=f+Math.imul(gt,zt)|0,f=f+Math.imul(_t,Nt)|0,_=_+Math.imul(_t,zt)|0,d=d+Math.imul(it,xt)|0,f=f+Math.imul(it,qt)|0,f=f+Math.imul(et,xt)|0,_=_+Math.imul(et,qt)|0,d=d+Math.imul(x,Ct)|0,f=f+Math.imul(x,Zt)|0,f=f+Math.imul(T,Ct)|0,_=_+Math.imul(T,Zt)|0,d=d+Math.imul(O,Ht)|0,f=f+Math.imul(O,Gt)|0,f=f+Math.imul(B,Ht)|0,_=_+Math.imul(B,Gt)|0;var Rr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,d=Math.imul(mt,Ft),f=Math.imul(mt,Yt),f=f+Math.imul(Rt,Ft)|0,_=Math.imul(Rt,Yt),d=d+Math.imul(ut,Mt)|0,f=f+Math.imul(ut,Lt)|0,f=f+Math.imul(It,Mt)|0,_=_+Math.imul(It,Lt)|0,d=d+Math.imul(ht,St)|0,f=f+Math.imul(ht,kt)|0,f=f+Math.imul(wt,St)|0,_=_+Math.imul(wt,kt)|0,d=d+Math.imul(ct,Dt)|0,f=f+Math.imul(ct,jt)|0,f=f+Math.imul(yt,Dt)|0,_=_+Math.imul(yt,jt)|0,d=d+Math.imul(bt,Nt)|0,f=f+Math.imul(bt,zt)|0,f=f+Math.imul(Et,Nt)|0,_=_+Math.imul(Et,zt)|0,d=d+Math.imul(gt,xt)|0,f=f+Math.imul(gt,qt)|0,f=f+Math.imul(_t,xt)|0,_=_+Math.imul(_t,qt)|0,d=d+Math.imul(it,Ct)|0,f=f+Math.imul(it,Zt)|0,f=f+Math.imul(et,Ct)|0,_=_+Math.imul(et,Zt)|0,d=d+Math.imul(x,Ht)|0,f=f+Math.imul(x,Gt)|0,f=f+Math.imul(T,Ht)|0,_=_+Math.imul(T,Gt)|0;var gr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,d=Math.imul(mt,Mt),f=Math.imul(mt,Lt),f=f+Math.imul(Rt,Mt)|0,_=Math.imul(Rt,Lt),d=d+Math.imul(ut,St)|0,f=f+Math.imul(ut,kt)|0,f=f+Math.imul(It,St)|0,_=_+Math.imul(It,kt)|0,d=d+Math.imul(ht,Dt)|0,f=f+Math.imul(ht,jt)|0,f=f+Math.imul(wt,Dt)|0,_=_+Math.imul(wt,jt)|0,d=d+Math.imul(ct,Nt)|0,f=f+Math.imul(ct,zt)|0,f=f+Math.imul(yt,Nt)|0,_=_+Math.imul(yt,zt)|0,d=d+Math.imul(bt,xt)|0,f=f+Math.imul(bt,qt)|0,f=f+Math.imul(Et,xt)|0,_=_+Math.imul(Et,qt)|0,d=d+Math.imul(gt,Ct)|0,f=f+Math.imul(gt,Zt)|0,f=f+Math.imul(_t,Ct)|0,_=_+Math.imul(_t,Zt)|0,d=d+Math.imul(it,Ht)|0,f=f+Math.imul(it,Gt)|0,f=f+Math.imul(et,Ht)|0,_=_+Math.imul(et,Gt)|0;var Sr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,d=Math.imul(mt,St),f=Math.imul(mt,kt),f=f+Math.imul(Rt,St)|0,_=Math.imul(Rt,kt),d=d+Math.imul(ut,Dt)|0,f=f+Math.imul(ut,jt)|0,f=f+Math.imul(It,Dt)|0,_=_+Math.imul(It,jt)|0,d=d+Math.imul(ht,Nt)|0,f=f+Math.imul(ht,zt)|0,f=f+Math.imul(wt,Nt)|0,_=_+Math.imul(wt,zt)|0,d=d+Math.imul(ct,xt)|0,f=f+Math.imul(ct,qt)|0,f=f+Math.imul(yt,xt)|0,_=_+Math.imul(yt,qt)|0,d=d+Math.imul(bt,Ct)|0,f=f+Math.imul(bt,Zt)|0,f=f+Math.imul(Et,Ct)|0,_=_+Math.imul(Et,Zt)|0,d=d+Math.imul(gt,Ht)|0,f=f+Math.imul(gt,Gt)|0,f=f+Math.imul(_t,Ht)|0,_=_+Math.imul(_t,Gt)|0;var xr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,d=Math.imul(mt,Dt),f=Math.imul(mt,jt),f=f+Math.imul(Rt,Dt)|0,_=Math.imul(Rt,jt),d=d+Math.imul(ut,Nt)|0,f=f+Math.imul(ut,zt)|0,f=f+Math.imul(It,Nt)|0,_=_+Math.imul(It,zt)|0,d=d+Math.imul(ht,xt)|0,f=f+Math.imul(ht,qt)|0,f=f+Math.imul(wt,xt)|0,_=_+Math.imul(wt,qt)|0,d=d+Math.imul(ct,Ct)|0,f=f+Math.imul(ct,Zt)|0,f=f+Math.imul(yt,Ct)|0,_=_+Math.imul(yt,Zt)|0,d=d+Math.imul(bt,Ht)|0,f=f+Math.imul(bt,Gt)|0,f=f+Math.imul(Et,Ht)|0,_=_+Math.imul(Et,Gt)|0;var Ze=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,d=Math.imul(mt,Nt),f=Math.imul(mt,zt),f=f+Math.imul(Rt,Nt)|0,_=Math.imul(Rt,zt),d=d+Math.imul(ut,xt)|0,f=f+Math.imul(ut,qt)|0,f=f+Math.imul(It,xt)|0,_=_+Math.imul(It,qt)|0,d=d+Math.imul(ht,Ct)|0,f=f+Math.imul(ht,Zt)|0,f=f+Math.imul(wt,Ct)|0,_=_+Math.imul(wt,Zt)|0,d=d+Math.imul(ct,Ht)|0,f=f+Math.imul(ct,Gt)|0,f=f+Math.imul(yt,Ht)|0,_=_+Math.imul(yt,Gt)|0;var Pr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,d=Math.imul(mt,xt),f=Math.imul(mt,qt),f=f+Math.imul(Rt,xt)|0,_=Math.imul(Rt,qt),d=d+Math.imul(ut,Ct)|0,f=f+Math.imul(ut,Zt)|0,f=f+Math.imul(It,Ct)|0,_=_+Math.imul(It,Zt)|0,d=d+Math.imul(ht,Ht)|0,f=f+Math.imul(ht,Gt)|0,f=f+Math.imul(wt,Ht)|0,_=_+Math.imul(wt,Gt)|0;var Or=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,d=Math.imul(mt,Ct),f=Math.imul(mt,Zt),f=f+Math.imul(Rt,Ct)|0,_=Math.imul(Rt,Zt),d=d+Math.imul(ut,Ht)|0,f=f+Math.imul(ut,Gt)|0,f=f+Math.imul(It,Ht)|0,_=_+Math.imul(It,Gt)|0;var Br=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,d=Math.imul(mt,Ht),f=Math.imul(mt,Gt),f=f+Math.imul(Rt,Ht)|0,_=Math.imul(Rt,Gt);var pi=(E+d|0)+((f&8191)<<13)|0;return E=(_+(f>>>13)|0)+(pi>>>26)|0,pi&=67108863,M[0]=ze,M[1]=$e,M[2]=He,M[3]=je,M[4]=Ke,M[5]=Ie,M[6]=dr,M[7]=Nr,M[8]=pr,M[9]=Cr,M[10]=Rr,M[11]=gr,M[12]=Sr,M[13]=xr,M[14]=Ze,M[15]=Pr,M[16]=Or,M[17]=Br,M[18]=pi,E!==0&&(M[19]=E,c.length++),c};Math.imul||(Q=Y);function X(o,h,c){c.negative=h.negative^o.negative,c.length=o.length+h.length;for(var v=0,y=0,M=0;M<c.length-1;M++){var E=y;y=0;for(var d=v&67108863,f=Math.min(M,h.length-1),_=Math.max(0,M-o.length+1);_<=f;_++){var J=M-_,W=o.words[J]|0,g=h.words[_]|0,F=W*g,O=F&67108863;E=E+(F/67108864|0)|0,O=O+d|0,d=O&67108863,E=E+(O>>>26)|0,y+=E>>>26,E&=67108863}c.words[M]=d,v=E,E=y}return v!==0?c.words[M]=v:c.length--,c._strip()}function $(o,h,c){return X(o,h,c)}s.prototype.mulTo=function(o,h){var c,v=this.length+o.length;return this.length===10&&o.length===10?c=Q(this,o,h):v<63?c=Y(this,o,h):v<1024?c=X(this,o,h):c=$(this,o,h),c},s.prototype.mul=function(o){var h=new s(null);return h.words=new Array(this.length+o.length),this.mulTo(o,h)},s.prototype.mulf=function(o){var h=new s(null);return h.words=new Array(this.length+o.length),$(this,o,h)},s.prototype.imul=function(o){return this.clone().mulTo(o,this)},s.prototype.imuln=function(o){var h=o<0;h&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var c=0,v=0;v<this.length;v++){var y=(this.words[v]|0)*o,M=(y&67108863)+(c&67108863);c>>=26,c+=y/67108864|0,c+=M>>>26,this.words[v]=M&67108863}return c!==0&&(this.words[v]=c,this.length++),h?this.ineg():this},s.prototype.muln=function(o){return this.clone().imuln(o)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(o){var h=k(o);if(h.length===0)return new s(1);for(var c=this,v=0;v<h.length&&h[v]===0;v++,c=c.sqr());if(++v<h.length)for(var y=c.sqr();v<h.length;v++,y=y.sqr())h[v]!==0&&(c=c.mul(y));return c},s.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var h=o%26,c=(o-h)/26,v=67108863>>>26-h<<26-h,y;if(h!==0){var M=0;for(y=0;y<this.length;y++){var E=this.words[y]&v,d=(this.words[y]|0)-E<<h;this.words[y]=d|M,M=E>>>26-h}M&&(this.words[y]=M,this.length++)}if(c!==0){for(y=this.length-1;y>=0;y--)this.words[y+c]=this.words[y];for(y=0;y<c;y++)this.words[y]=0;this.length+=c}return this._strip()},s.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},s.prototype.iushrn=function(o,h,c){i(typeof o=="number"&&o>=0);var v;h?v=(h-h%26)/26:v=0;var y=o%26,M=Math.min((o-y)/26,this.length),E=67108863^67108863>>>y<<y,d=c;if(v-=M,v=Math.max(0,v),d){for(var f=0;f<M;f++)d.words[f]=this.words[f];d.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=v);f--){var J=this.words[f]|0;this.words[f]=_<<26-y|J>>>y,_=J&E}return d&&_!==0&&(d.words[d.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(o,h,c){return i(this.negative===0),this.iushrn(o,h,c)},s.prototype.shln=function(o){return this.clone().ishln(o)},s.prototype.ushln=function(o){return this.clone().iushln(o)},s.prototype.shrn=function(o){return this.clone().ishrn(o)},s.prototype.ushrn=function(o){return this.clone().iushrn(o)},s.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,c=(o-h)/26,v=1<<h;if(this.length<=c)return!1;var y=this.words[c];return!!(y&v)},s.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,c=(o-h)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(h!==0&&c++,this.length=Math.min(c,this.length),h!==0){var v=67108863^67108863>>>h<<h;this.words[this.length-1]&=v}return this._strip()},s.prototype.maskn=function(o){return this.clone().imaskn(o)},s.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},s.prototype._iaddn=function(o){this.words[0]+=o;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},s.prototype.addn=function(o){return this.clone().iaddn(o)},s.prototype.subn=function(o){return this.clone().isubn(o)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(o,h,c){var v=o.length+c,y;this._expand(v);var M,E=0;for(y=0;y<o.length;y++){M=(this.words[y+c]|0)+E;var d=(o.words[y]|0)*h;M-=d&67108863,E=(M>>26)-(d/67108864|0),this.words[y+c]=M&67108863}for(;y<this.length-c;y++)M=(this.words[y+c]|0)+E,E=M>>26,this.words[y+c]=M&67108863;if(E===0)return this._strip();for(i(E===-1),E=0,y=0;y<this.length;y++)M=-(this.words[y]|0)+E,E=M>>26,this.words[y]=M&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(o,h){var c=this.length-o.length,v=this.clone(),y=o,M=y.words[y.length-1]|0,E=this._countBits(M);c=26-E,c!==0&&(y=y.ushln(c),v.iushln(c),M=y.words[y.length-1]|0);var d=v.length-y.length,f;if(h!=="mod"){f=new s(null),f.length=d+1,f.words=new Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var J=v.clone()._ishlnsubmul(y,1,d);J.negative===0&&(v=J,f&&(f.words[d]=1));for(var W=d-1;W>=0;W--){var g=(v.words[y.length+W]|0)*67108864+(v.words[y.length+W-1]|0);for(g=Math.min(g/M|0,67108863),v._ishlnsubmul(y,g,W);v.negative!==0;)g--,v.negative=0,v._ishlnsubmul(y,1,W),v.isZero()||(v.negative^=1);f&&(f.words[W]=g)}return f&&f._strip(),v._strip(),h!=="div"&&c!==0&&v.iushrn(c),{div:f||null,mod:v}},s.prototype.divmod=function(o,h,c){if(i(!o.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,y,M;return this.negative!==0&&o.negative===0?(M=this.neg().divmod(o,h),h!=="mod"&&(v=M.div.neg()),h!=="div"&&(y=M.mod.neg(),c&&y.negative!==0&&y.iadd(o)),{div:v,mod:y}):this.negative===0&&o.negative!==0?(M=this.divmod(o.neg(),h),h!=="mod"&&(v=M.div.neg()),{div:v,mod:M.mod}):this.negative&o.negative?(M=this.neg().divmod(o.neg(),h),h!=="div"&&(y=M.mod.neg(),c&&y.negative!==0&&y.isub(o)),{div:M.div,mod:y}):o.length>this.length||this.cmp(o)<0?{div:new s(0),mod:this}:o.length===1?h==="div"?{div:this.divn(o.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new s(this.modrn(o.words[0]))}:this._wordDiv(o,h)},s.prototype.div=function(o){return this.divmod(o,"div",!1).div},s.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},s.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},s.prototype.divRound=function(o){var h=this.divmod(o);if(h.mod.isZero())return h.div;var c=h.div.negative!==0?h.mod.isub(o):h.mod,v=o.ushrn(1),y=o.andln(1),M=c.cmp(v);return M<0||y===1&&M===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modrn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var c=(1<<26)%o,v=0,y=this.length-1;y>=0;y--)v=(c*v+(this.words[y]|0))%o;return h?-v:v},s.prototype.modn=function(o){return this.modrn(o)},s.prototype.idivn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var c=0,v=this.length-1;v>=0;v--){var y=(this.words[v]|0)+c*67108864;this.words[v]=y/o|0,c=y%o}return this._strip(),h?this.ineg():this},s.prototype.divn=function(o){return this.clone().idivn(o)},s.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var h=this,c=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new s(1),y=new s(0),M=new s(0),E=new s(1),d=0;h.isEven()&&c.isEven();)h.iushrn(1),c.iushrn(1),++d;for(var f=c.clone(),_=h.clone();!h.isZero();){for(var J=0,W=1;!(h.words[0]&W)&&J<26;++J,W<<=1);if(J>0)for(h.iushrn(J);J-- >0;)(v.isOdd()||y.isOdd())&&(v.iadd(f),y.isub(_)),v.iushrn(1),y.iushrn(1);for(var g=0,F=1;!(c.words[0]&F)&&g<26;++g,F<<=1);if(g>0)for(c.iushrn(g);g-- >0;)(M.isOdd()||E.isOdd())&&(M.iadd(f),E.isub(_)),M.iushrn(1),E.iushrn(1);h.cmp(c)>=0?(h.isub(c),v.isub(M),y.isub(E)):(c.isub(h),M.isub(v),E.isub(y))}return{a:M,b:E,gcd:c.iushln(d)}},s.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var h=this,c=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new s(1),y=new s(0),M=c.clone();h.cmpn(1)>0&&c.cmpn(1)>0;){for(var E=0,d=1;!(h.words[0]&d)&&E<26;++E,d<<=1);if(E>0)for(h.iushrn(E);E-- >0;)v.isOdd()&&v.iadd(M),v.iushrn(1);for(var f=0,_=1;!(c.words[0]&_)&&f<26;++f,_<<=1);if(f>0)for(c.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(M),y.iushrn(1);h.cmp(c)>=0?(h.isub(c),v.isub(y)):(c.isub(h),y.isub(v))}var J;return h.cmpn(1)===0?J=v:J=y,J.cmpn(0)<0&&J.iadd(o),J},s.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var h=this.clone(),c=o.clone();h.negative=0,c.negative=0;for(var v=0;h.isEven()&&c.isEven();v++)h.iushrn(1),c.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;c.isEven();)c.iushrn(1);var y=h.cmp(c);if(y<0){var M=h;h=c,c=M}else if(y===0||c.cmpn(1)===0)break;h.isub(c)}while(!0);return c.iushln(v)},s.prototype.invm=function(o){return this.egcd(o).a.umod(o)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(o){return this.words[0]&o},s.prototype.bincn=function(o){i(typeof o=="number");var h=o%26,c=(o-h)/26,v=1<<h;if(this.length<=c)return this._expand(c+1),this.words[c]|=v,this;for(var y=v,M=c;y!==0&&M<this.length;M++){var E=this.words[M]|0;E+=y,y=E>>>26,E&=67108863,this.words[M]=E}return y!==0&&(this.words[M]=y,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(o){var h=o<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var c;if(this.length>1)c=1;else{h&&(o=-o),i(o<=67108863,"Number is too big");var v=this.words[0]|0;c=v===o?0:v<o?-1:1}return this.negative!==0?-c|0:c},s.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var h=this.ucmp(o);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var h=0,c=this.length-1;c>=0;c--){var v=this.words[c]|0,y=o.words[c]|0;if(v!==y){v<y?h=-1:v>y&&(h=1);break}}return h},s.prototype.gtn=function(o){return this.cmpn(o)===1},s.prototype.gt=function(o){return this.cmp(o)===1},s.prototype.gten=function(o){return this.cmpn(o)>=0},s.prototype.gte=function(o){return this.cmp(o)>=0},s.prototype.ltn=function(o){return this.cmpn(o)===-1},s.prototype.lt=function(o){return this.cmp(o)===-1},s.prototype.lten=function(o){return this.cmpn(o)<=0},s.prototype.lte=function(o){return this.cmp(o)<=0},s.prototype.eqn=function(o){return this.cmpn(o)===0},s.prototype.eq=function(o){return this.cmp(o)===0},s.red=function(o){return new H(o)},s.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(o){return this.red=o,this},s.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},s.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},s.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},s.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},s.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},s.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},s.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},s.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var j={k256:null,p224:null,p192:null,p25519:null};function K(o,h){this.name=o,this.p=new s(h,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var o=new s(null);return o.words=new Array(Math.ceil(this.n/13)),o},K.prototype.ireduce=function(o){var h=o,c;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),c=h.bitLength();while(c>this.n);var v=c<this.n?-1:h.ucmp(this.p);return v===0?(h.words[0]=0,h.length=1):v>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},K.prototype.split=function(o,h){o.iushrn(this.n,0,h)},K.prototype.imulK=function(o){return o.imul(this.k)};function C(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(C,K),C.prototype.split=function(o,h){for(var c=4194303,v=Math.min(o.length,9),y=0;y<v;y++)h.words[y]=o.words[y];if(h.length=v,o.length<=9){o.words[0]=0,o.length=1;return}var M=o.words[9];for(h.words[h.length++]=M&c,y=10;y<o.length;y++){var E=o.words[y]|0;o.words[y-10]=(E&c)<<4|M>>>22,M=E}M>>>=22,o.words[y-10]=M,M===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var h=0,c=0;c<o.length;c++){var v=o.words[c]|0;h+=v*977,o.words[c]=h&67108863,h=v*64+(h/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function z(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,K);function st(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(st,K);function dt(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(dt,K),dt.prototype.imulK=function(o){for(var h=0,c=0;c<o.length;c++){var v=(o.words[c]|0)*19+h,y=v&67108863;v>>>=26,o.words[c]=y,h=v}return h!==0&&(o.words[o.length++]=h),o},s._prime=function(o){if(j[o])return j[o];var h;if(o==="k256")h=new C;else if(o==="p224")h=new z;else if(o==="p192")h=new st;else if(o==="p25519")h=new dt;else throw new Error("Unknown prime "+o);return j[o]=h,h};function H(o){if(typeof o=="string"){var h=s._prime(o);this.m=h.p,this.prime=h}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}H.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},H.prototype._verify2=function(o,h){i((o.negative|h.negative)===0,"red works only with positives"),i(o.red&&o.red===h.red,"red works only with red numbers")},H.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(w(o,o.umod(this.m)._forceRed(this)),o)},H.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},H.prototype.add=function(o,h){this._verify2(o,h);var c=o.add(h);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},H.prototype.iadd=function(o,h){this._verify2(o,h);var c=o.iadd(h);return c.cmp(this.m)>=0&&c.isub(this.m),c},H.prototype.sub=function(o,h){this._verify2(o,h);var c=o.sub(h);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},H.prototype.isub=function(o,h){this._verify2(o,h);var c=o.isub(h);return c.cmpn(0)<0&&c.iadd(this.m),c},H.prototype.shl=function(o,h){return this._verify1(o),this.imod(o.ushln(h))},H.prototype.imul=function(o,h){return this._verify2(o,h),this.imod(o.imul(h))},H.prototype.mul=function(o,h){return this._verify2(o,h),this.imod(o.mul(h))},H.prototype.isqr=function(o){return this.imul(o,o.clone())},H.prototype.sqr=function(o){return this.mul(o,o)},H.prototype.sqrt=function(o){if(o.isZero())return o.clone();var h=this.m.andln(3);if(i(h%2===1),h===3){var c=this.m.add(new s(1)).iushrn(2);return this.pow(o,c)}for(var v=this.m.subn(1),y=0;!v.isZero()&&v.andln(1)===0;)y++,v.iushrn(1);i(!v.isZero());var M=new s(1).toRed(this),E=M.redNeg(),d=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,d).cmp(E)!==0;)f.redIAdd(E);for(var _=this.pow(f,v),J=this.pow(o,v.addn(1).iushrn(1)),W=this.pow(o,v),g=y;W.cmp(M)!==0;){for(var F=W,O=0;F.cmp(M)!==0;O++)F=F.redSqr();i(O<g);var B=this.pow(_,new s(1).iushln(g-O-1));J=J.redMul(B),_=B.redSqr(),W=W.redMul(_),g=O}return J},H.prototype.invm=function(o){var h=o._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},H.prototype.pow=function(o,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return o.clone();var c=4,v=new Array(1<<c);v[0]=new s(1).toRed(this),v[1]=o;for(var y=2;y<v.length;y++)v[y]=this.mul(v[y-1],o);var M=v[0],E=0,d=0,f=h.bitLength()%26;for(f===0&&(f=26),y=h.length-1;y>=0;y--){for(var _=h.words[y],J=f-1;J>=0;J--){var W=_>>J&1;if(M!==v[0]&&(M=this.sqr(M)),W===0&&E===0){d=0;continue}E<<=1,E|=W,d++,!(d!==c&&(y!==0||J!==0))&&(M=this.mul(M,v[E]),d=0,E=0)}f=26}return M},H.prototype.convertTo=function(o){var h=o.umod(this.m);return h===o?h.clone():h},H.prototype.convertFrom=function(o){var h=o.clone();return h.red=null,h},s.mont=function(o){return new I(o)};function I(o){H.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(I,H),I.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},I.prototype.convertFrom=function(o){var h=this.imod(o.mul(this.rinv));return h.red=null,h},I.prototype.imul=function(o,h){if(o.isZero()||h.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(h),v=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=c.isub(v).iushrn(this.shift),M=y;return y.cmp(this.m)>=0?M=y.isub(this.m):y.cmpn(0)<0&&(M=y.iadd(this.m)),M._forceRed(this)},I.prototype.mul=function(o,h){if(o.isZero()||h.isZero())return new s(0)._forceRed(this);var c=o.mul(h),v=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=c.isub(v).iushrn(this.shift),M=y;return y.cmp(this.m)>=0?M=y.isub(this.m):y.cmpn(0)<0&&(M=y.iadd(this.m)),M._forceRed(this)},I.prototype.invm=function(o){var h=this.imod(o._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,a8)})(c8);var Ee=c8.exports;const l8="bignumber/5.7.0";var Lp=Ee.BN;const Eo=new Hi(l8),I1={},QO=9007199254740991;function VO(e){return e!=null&&(Di.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Gf(e)||typeof e=="bigint"||Lu(e))}let mv=!1,Di=class Wn{constructor(t,r){t!==I1&&Eo.throwError("cannot call constructor directly; use BigNumber.from",Hi.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Fi(Oe(this).fromTwos(t))}toTwos(t){return Fi(Oe(this).toTwos(t))}abs(){return this._hex[0]==="-"?Wn.from(this._hex.substring(1)):this}add(t){return Fi(Oe(this).add(Oe(t)))}sub(t){return Fi(Oe(this).sub(Oe(t)))}div(t){return Wn.from(t).isZero()&&yn("division-by-zero","div"),Fi(Oe(this).div(Oe(t)))}mul(t){return Fi(Oe(this).mul(Oe(t)))}mod(t){const r=Oe(t);return r.isNeg()&&yn("division-by-zero","mod"),Fi(Oe(this).umod(r))}pow(t){const r=Oe(t);return r.isNeg()&&yn("negative-power","pow"),Fi(Oe(this).pow(r))}and(t){const r=Oe(t);return(this.isNegative()||r.isNeg())&&yn("unbound-bitwise-result","and"),Fi(Oe(this).and(r))}or(t){const r=Oe(t);return(this.isNegative()||r.isNeg())&&yn("unbound-bitwise-result","or"),Fi(Oe(this).or(r))}xor(t){const r=Oe(t);return(this.isNegative()||r.isNeg())&&yn("unbound-bitwise-result","xor"),Fi(Oe(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&yn("negative-width","mask"),Fi(Oe(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&yn("negative-width","shl"),Fi(Oe(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&yn("negative-width","shr"),Fi(Oe(this).shrn(t))}eq(t){return Oe(this).eq(Oe(t))}lt(t){return Oe(this).lt(Oe(t))}lte(t){return Oe(this).lte(Oe(t))}gt(t){return Oe(this).gt(Oe(t))}gte(t){return Oe(this).gte(Oe(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Oe(this).isZero()}toNumber(){try{return Oe(this).toNumber()}catch{yn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Eo.throwError("this platform does not support BigInt",Hi.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?mv||(mv=!0,Eo.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Eo.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Hi.errors.UNEXPECTED_ARGUMENT,{}):Eo.throwError("BigNumber.toString does not accept parameters",Hi.errors.UNEXPECTED_ARGUMENT,{})),Oe(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Wn)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Wn(I1,Mu(t)):t.match(/^-?[0-9]+$/)?new Wn(I1,Mu(new Lp(t))):Eo.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&yn("underflow","BigNumber.from",t),(t>=QO||t<=-9007199254740991)&&yn("overflow","BigNumber.from",t),Wn.from(String(t));const r=t;if(typeof r=="bigint")return Wn.from(r.toString());if(Lu(r))return Wn.from(u8(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return Wn.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Gf(i)||i[0]==="-"&&Gf(i.substring(1))))return Wn.from(i)}return Eo.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}};function Mu(e){if(typeof e!="string")return Mu(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&Eo.throwArgumentError("invalid hex","value",e),e=Mu(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Fi(e){return Di.from(Mu(e))}function Oe(e){const t=Di.from(e).toHexString();return t[0]==="-"?new Lp("-"+t.substring(3),16):new Lp(t.substring(2),16)}function yn(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),Eo.throwError(e,Hi.errors.NUMERIC_FAULT,i)}const Mi=new Hi(l8),cu={},d8=Di.from(0),p8=Di.from(-1);function g8(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),Mi.throwError(e,Hi.errors.NUMERIC_FAULT,n)}let lu="0";for(;lu.length<256;)lu+=lu;function R2(e){if(typeof e!="number")try{e=Di.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+lu.substring(0,e):Mi.throwArgumentError("invalid decimal size","decimals",e)}function D1(e,t){t==null&&(t=0);const r=R2(t);e=Di.from(e);const i=e.lt(d8);i&&(e=e.mul(p8));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=e.div(r).toString();return r.length===1?e=s:e=s+"."+n,i&&(e="-"+e),e}function yo(e,t){t==null&&(t=0);const r=R2(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&Mi.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&Mi.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&Mi.throwArgumentError("too many decimal points","value",e);let s=n[0],u=n[1];for(s||(s="0"),u||(u="0");u[u.length-1]==="0";)u=u.substring(0,u.length-1);for(u.length>r.length-1&&g8("fractional component exceeds decimals","underflow","parseFixed"),u===""&&(u="0");u.length<r.length-1;)u+="0";const p=Di.from(s),b=Di.from(u);let m=p.mul(r).add(b);return i&&(m=m.mul(p8)),m}let N1=class kp{constructor(t,r,i,n){t!==cu&&Mi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Hi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=R2(n),Object.freeze(this)}static from(t){if(t instanceof kp)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Mi.throwArgumentError("invalid fixed format","format",t),r=s[1]!=="u",i=parseInt(s[2]),n=parseInt(s[3])}}else if(t){const s=(u,p,b)=>t[u]==null?b:(typeof t[u]!==p&&Mi.throwArgumentError("invalid fixed format ("+u+" not "+p+")","format."+u,t[u]),t[u]);r=s("signed","boolean",r),i=s("width","number",i),n=s("decimals","number",n)}return i%8&&Mi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&Mi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new kp(cu,r,i,n)}},m8=class wi{constructor(t,r,i,n){t!==cu&&Mi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Hi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Mi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=yo(this._value,this.format.decimals),i=yo(t._value,t.format.decimals);return wi.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=yo(this._value,this.format.decimals),i=yo(t._value,t.format.decimals);return wi.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=yo(this._value,this.format.decimals),i=yo(t._value,t.format.decimals);return wi.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=yo(this._value,this.format.decimals),i=yo(t._value,t.format.decimals);return wi.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=wi.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(vv.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=wi.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(vv.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&Mi.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=wi.from("1"+lu.substring(0,t),this.format),n=JO.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Mi.throwArgumentError("invalid byte width","width",t);const r=Di.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return G0(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return wi.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!VO(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),wi.fromString(D1(t,r),N1.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=N1.from(r),n=yo(t,i.decimals);!i.signed&&n.lt(d8)&&g8("unsigned value cannot be negative","overflow","value",t);let s=null;i.signed?s=n.toTwos(i.width).toHexString():(s=n.toHexString(),s=G0(s,i.width/8));const u=D1(n,i.decimals);return new wi(cu,s,u,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=N1.from(r);if(h8(t).length>i.width/8)throw new Error("overflow");let n=Di.from(t);i.signed&&(n=n.fromTwos(i.width));const s=n.toTwos((i.signed?0:1)+i.width).toHexString(),u=D1(n,i.decimals);return new wi(cu,s,u,i)}static from(t,r){if(typeof t=="string")return wi.fromString(t,r);if(Lu(t))return wi.fromBytes(t,r);try{return wi.fromValue(t,0,r)}catch(i){if(i.code!==Hi.errors.INVALID_ARGUMENT)throw i}return Mi.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}};const vv=m8.from(1),JO=m8.from("0.5");var bv;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(bv||(bv={}));var yv;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(yv||(yv={}));function YO(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function C1(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let s=n.split(":");r+=parseInt(s[0],16),i[r]=t(s[1])}),i}function wv(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}wv("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),C1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),C1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),C1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",YO),wv("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function WO(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return h8(t)}function v8(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(s,u){i.call(s,function(p){u>0&&Array.isArray(p)?n(p,u-1):r.push(p)})};return n(e,t),r}function XO(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function ZO(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,s=[0,1];for(let j=1;j<i;j++)s.push(n+=r());let u=r(),p=t;t+=u;let b=0,m=0;function w(){return b==0&&(m=m<<8|e[t++],b=8),m>>--b&1}const S=31,D=Math.pow(2,S),N=D>>>1,P=N>>1,L=D-1;let k=0;for(let j=0;j<S;j++)k=k<<1|w();let Y=[],Q=0,X=D;for(;;){let j=Math.floor(((k-Q+1)*n-1)/X),K=0,C=i;for(;C-K>1;){let dt=K+C>>>1;j<s[dt]?C=dt:K=dt}if(K==0)break;Y.push(K);let z=Q+Math.floor(X*s[K]/n),st=Q+Math.floor(X*s[K+1]/n)-1;for(;!((z^st)&N);)k=k<<1&L|w(),z=z<<1&L,st=st<<1&L|1;for(;z&~st&P;)k=k&N|k<<1&L>>>1|w(),z=z<<1^N,st=(st^N)<<1|N|1;Q=z,X=1+st-z}let $=i-4;return Y.map(j=>{switch(j-$){case 3:return $+65792+(e[p++]<<16|e[p++]<<8|e[p++]);case 2:return $+256+(e[p++]<<8|e[p++]);case 1:return $+e[p++];default:return j-1}})}function tB(e){let t=0;return()=>e[t++]}function eB(e){return tB(ZO(e))}function rB(e){return e&1?~e>>1:e>>1}function iB(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function Av(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function nB(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=rB(t());return r}function Q0(e,t){let r=Av(e(),e),i=e(),n=Av(i,e),s=iB(i,e);for(let u=0;u<i;u++)for(let p=0;p<s[u];p++)r.push(n[u]+p);return t?r.map(u=>t[u]):r}function sB(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(aB(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(fB(r,e))}return XO(v8(t))}function oB(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function b8(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)nB(e,r).forEach((s,u)=>i[u].push(s));return i}function aB(e,t){let r=1+t(),i=t(),n=oB(t),s=b8(n.length,1+e,t);return v8(s.map((u,p)=>{const b=u[0],m=u.slice(1);return Array(n[p]).fill(void 0).map((w,S)=>{let D=S*i;return[b+S*r,m.map(N=>N+D)]})}))}function fB(e,t){let r=1+t();return b8(r,1+e,t).map(i=>[i[0],i.slice(1)])}function hB(e){let t=Q0(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let m=Q0(e,t);if(m.length==0)break;i.push({set:new Set(m),node:r()})}i.sort((m,w)=>w.set.size-m.set.size);let n=e(),s=n%3;n=n/3|0;let u=!!(n&1);n>>=1;let p=n==1,b=n==2;return{branches:i,valid:s,fe0f:u,save:p,check:b}}}function uB(){return eB(WO("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"))}const e0=uB();new Set(Q0(e0)),new Set(Q0(e0)),sB(e0),hB(e0);const cB=new Uint8Array(32);cB.fill(0);const lB=new Uint8Array(32);lB.fill(0),Di.from(-1);const dB=Di.from(0),pB=Di.from(1);Di.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),G0(pB.toHexString(),32),G0(dB.toHexString(),32);var Ms={},Ue={},ku=y8;function y8(e,t){if(!e)throw new Error(t||"Assertion failed")}y8.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var zp={exports:{}};typeof Object.create=="function"?zp.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:zp.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var gB=ku,mB=zp.exports;Ue.inherits=mB;function vB(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function bB(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var s=e.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):vB(e,n)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}Ue.toArray=bB;function yB(e){for(var t="",r=0;r<e.length;r++)t+=A8(e[r].toString(16));return t}Ue.toHex=yB;function w8(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Ue.htonl=w8;function wB(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=w8(n)),r+=_8(n.toString(16))}return r}Ue.toHex32=wB;function A8(e){return e.length===1?"0"+e:e}Ue.zero2=A8;function _8(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Ue.zero8=_8;function AB(e,t,r,i){var n=r-t;gB(n%4===0);for(var s=new Array(n/4),u=0,p=t;u<s.length;u++,p+=4){var b;i==="big"?b=e[p]<<24|e[p+1]<<16|e[p+2]<<8|e[p+3]:b=e[p+3]<<24|e[p+2]<<16|e[p+1]<<8|e[p],s[u]=b>>>0}return s}Ue.join32=AB;function _B(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var s=e[i];t==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}Ue.split32=_B;function EB(e,t){return e>>>t|e<<32-t}Ue.rotr32=EB;function MB(e,t){return e<<t|e>>>32-t}Ue.rotl32=MB;function SB(e,t){return e+t>>>0}Ue.sum32=SB;function xB(e,t,r){return e+t+r>>>0}Ue.sum32_3=xB;function IB(e,t,r,i){return e+t+r+i>>>0}Ue.sum32_4=IB;function DB(e,t,r,i,n){return e+t+r+i+n>>>0}Ue.sum32_5=DB;function NB(e,t,r,i){var n=e[t],s=e[t+1],u=i+s>>>0,p=(u<i?1:0)+r+n;e[t]=p>>>0,e[t+1]=u}Ue.sum64=NB;function CB(e,t,r,i){var n=t+i>>>0,s=(n<t?1:0)+e+r;return s>>>0}Ue.sum64_hi=CB;function RB(e,t,r,i){var n=t+i;return n>>>0}Ue.sum64_lo=RB;function PB(e,t,r,i,n,s,u,p){var b=0,m=t;m=m+i>>>0,b+=m<t?1:0,m=m+s>>>0,b+=m<s?1:0,m=m+p>>>0,b+=m<p?1:0;var w=e+r+n+u+b;return w>>>0}Ue.sum64_4_hi=PB;function OB(e,t,r,i,n,s,u,p){var b=t+i+s+p;return b>>>0}Ue.sum64_4_lo=OB;function BB(e,t,r,i,n,s,u,p,b,m){var w=0,S=t;S=S+i>>>0,w+=S<t?1:0,S=S+s>>>0,w+=S<s?1:0,S=S+p>>>0,w+=S<p?1:0,S=S+m>>>0,w+=S<m?1:0;var D=e+r+n+u+b+w;return D>>>0}Ue.sum64_5_hi=BB;function TB(e,t,r,i,n,s,u,p,b,m){var w=t+i+s+p+m;return w>>>0}Ue.sum64_5_lo=TB;function FB(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}Ue.rotr64_hi=FB;function UB(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Ue.rotr64_lo=UB;function qB(e,t,r){return e>>>r}Ue.shr64_hi=qB;function LB(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Ue.shr64_lo=LB;var uh={},_v=Ue,kB=ku;function r0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}uh.BlockHash=r0,r0.prototype.update=function(e,t){if(e=_v.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=_v.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},r0.prototype.digest=function(e){return this.update(this._pad()),kB(this.pending===null),this._digest(e)},r0.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i};var If={},ro={},zB=Ue,$s=zB.rotr32;function $B(e,t,r,i){if(e===0)return E8(t,r,i);if(e===1||e===3)return S8(t,r,i);if(e===2)return M8(t,r,i)}ro.ft_1=$B;function E8(e,t,r){return e&t^~e&r}ro.ch32=E8;function M8(e,t,r){return e&t^e&r^t&r}ro.maj32=M8;function S8(e,t,r){return e^t^r}ro.p32=S8;function HB(e){return $s(e,2)^$s(e,13)^$s(e,22)}ro.s0_256=HB;function jB(e){return $s(e,6)^$s(e,11)^$s(e,25)}ro.s1_256=jB;function KB(e){return $s(e,7)^$s(e,18)^e>>>3}ro.g0_256=KB;function GB(e){return $s(e,17)^$s(e,19)^e>>>10}ro.g1_256=GB;var Qf=Ue,QB=uh,VB=ro,R1=Qf.rotl32,Kh=Qf.sum32,JB=Qf.sum32_5,YB=VB.ft_1,x8=QB.BlockHash,WB=[1518500249,1859775393,2400959708,3395469782];function Rs(){if(!(this instanceof Rs))return new Rs;x8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Qf.inherits(Rs,x8);var XB=Rs;Rs.blockSize=512,Rs.outSize=160,Rs.hmacStrength=80,Rs.padLength=64,Rs.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=R1(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],u=this.h[2],p=this.h[3],b=this.h[4];for(i=0;i<r.length;i++){var m=~~(i/20),w=JB(R1(n,5),YB(m,s,u,p),b,r[i],WB[m]);b=p,p=u,u=R1(s,30),s=n,n=w}this.h[0]=Kh(this.h[0],n),this.h[1]=Kh(this.h[1],s),this.h[2]=Kh(this.h[2],u),this.h[3]=Kh(this.h[3],p),this.h[4]=Kh(this.h[4],b)},Rs.prototype._digest=function(e){return e==="hex"?Qf.toHex32(this.h,"big"):Qf.split32(this.h,"big")};var Vf=Ue,ZB=uh,ch=ro,tT=ku,jn=Vf.sum32,eT=Vf.sum32_4,rT=Vf.sum32_5,iT=ch.ch32,nT=ch.maj32,sT=ch.s0_256,oT=ch.s1_256,aT=ch.g0_256,fT=ch.g1_256,I8=ZB.BlockHash,hT=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ps(){if(!(this instanceof Ps))return new Ps;I8.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=hT,this.W=new Array(64)}Vf.inherits(Ps,I8);var D8=Ps;Ps.blockSize=512,Ps.outSize=256,Ps.hmacStrength=192,Ps.padLength=64,Ps.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=eT(fT(r[i-2]),r[i-7],aT(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],u=this.h[2],p=this.h[3],b=this.h[4],m=this.h[5],w=this.h[6],S=this.h[7];for(tT(this.k.length===r.length),i=0;i<r.length;i++){var D=rT(S,oT(b),iT(b,m,w),this.k[i],r[i]),N=jn(sT(n),nT(n,s,u));S=w,w=m,m=b,b=jn(p,D),p=u,u=s,s=n,n=jn(D,N)}this.h[0]=jn(this.h[0],n),this.h[1]=jn(this.h[1],s),this.h[2]=jn(this.h[2],u),this.h[3]=jn(this.h[3],p),this.h[4]=jn(this.h[4],b),this.h[5]=jn(this.h[5],m),this.h[6]=jn(this.h[6],w),this.h[7]=jn(this.h[7],S)},Ps.prototype._digest=function(e){return e==="hex"?Vf.toHex32(this.h,"big"):Vf.split32(this.h,"big")};var $p=Ue,N8=D8;function Io(){if(!(this instanceof Io))return new Io;N8.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}$p.inherits(Io,N8);var uT=Io;Io.blockSize=512,Io.outSize=224,Io.hmacStrength=192,Io.padLength=64,Io.prototype._digest=function(e){return e==="hex"?$p.toHex32(this.h.slice(0,7),"big"):$p.split32(this.h.slice(0,7),"big")};var Qi=Ue,cT=uh,lT=ku,Hs=Qi.rotr64_hi,js=Qi.rotr64_lo,C8=Qi.shr64_hi,R8=Qi.shr64_lo,Vo=Qi.sum64,P1=Qi.sum64_hi,O1=Qi.sum64_lo,dT=Qi.sum64_4_hi,pT=Qi.sum64_4_lo,gT=Qi.sum64_5_hi,mT=Qi.sum64_5_lo,P8=cT.BlockHash,vT=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function rs(){if(!(this instanceof rs))return new rs;P8.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=vT,this.W=new Array(160)}Qi.inherits(rs,P8);var O8=rs;rs.blockSize=1024,rs.outSize=512,rs.hmacStrength=192,rs.padLength=128,rs.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=DT(r[i-4],r[i-3]),s=NT(r[i-4],r[i-3]),u=r[i-14],p=r[i-13],b=xT(r[i-30],r[i-29]),m=IT(r[i-30],r[i-29]),w=r[i-32],S=r[i-31];r[i]=dT(n,s,u,p,b,m,w,S),r[i+1]=pT(n,s,u,p,b,m,w,S)}},rs.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],s=this.h[2],u=this.h[3],p=this.h[4],b=this.h[5],m=this.h[6],w=this.h[7],S=this.h[8],D=this.h[9],N=this.h[10],P=this.h[11],L=this.h[12],k=this.h[13],Y=this.h[14],Q=this.h[15];lT(this.k.length===r.length);for(var X=0;X<r.length;X+=2){var $=Y,j=Q,K=MT(S,D),C=ST(S,D),z=bT(S,D,N,P,L),st=yT(S,D,N,P,L,k),dt=this.k[X],H=this.k[X+1],I=r[X],o=r[X+1],h=gT($,j,K,C,z,st,dt,H,I,o),c=mT($,j,K,C,z,st,dt,H,I,o);$=_T(i,n),j=ET(i,n),K=wT(i,n,s,u,p),C=AT(i,n,s,u,p,b);var v=P1($,j,K,C),y=O1($,j,K,C);Y=L,Q=k,L=N,k=P,N=S,P=D,S=P1(m,w,h,c),D=O1(w,w,h,c),m=p,w=b,p=s,b=u,s=i,u=n,i=P1(h,c,v,y),n=O1(h,c,v,y)}Vo(this.h,0,i,n),Vo(this.h,2,s,u),Vo(this.h,4,p,b),Vo(this.h,6,m,w),Vo(this.h,8,S,D),Vo(this.h,10,N,P),Vo(this.h,12,L,k),Vo(this.h,14,Y,Q)},rs.prototype._digest=function(e){return e==="hex"?Qi.toHex32(this.h,"big"):Qi.split32(this.h,"big")};function bT(e,t,r,i,n){var s=e&r^~e&n;return s<0&&(s+=4294967296),s}function yT(e,t,r,i,n,s){var u=t&i^~t&s;return u<0&&(u+=4294967296),u}function wT(e,t,r,i,n){var s=e&r^e&n^r&n;return s<0&&(s+=4294967296),s}function AT(e,t,r,i,n,s){var u=t&i^t&s^i&s;return u<0&&(u+=4294967296),u}function _T(e,t){var r=Hs(e,t,28),i=Hs(t,e,2),n=Hs(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function ET(e,t){var r=js(e,t,28),i=js(t,e,2),n=js(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function MT(e,t){var r=Hs(e,t,14),i=Hs(e,t,18),n=Hs(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function ST(e,t){var r=js(e,t,14),i=js(e,t,18),n=js(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function xT(e,t){var r=Hs(e,t,1),i=Hs(e,t,8),n=C8(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function IT(e,t){var r=js(e,t,1),i=js(e,t,8),n=R8(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function DT(e,t){var r=Hs(e,t,19),i=Hs(t,e,29),n=C8(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}function NT(e,t){var r=js(e,t,19),i=js(t,e,29),n=R8(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}var Hp=Ue,B8=O8;function Do(){if(!(this instanceof Do))return new Do;B8.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Hp.inherits(Do,B8);var CT=Do;Do.blockSize=1024,Do.outSize=384,Do.hmacStrength=192,Do.padLength=128,Do.prototype._digest=function(e){return e==="hex"?Hp.toHex32(this.h.slice(0,12),"big"):Hp.split32(this.h.slice(0,12),"big")},If.sha1=XB,If.sha224=uT,If.sha256=D8,If.sha384=CT,If.sha512=O8;var T8={},Fa=Ue,RT=uh,i0=Fa.rotl32,Ev=Fa.sum32,Gh=Fa.sum32_3,Mv=Fa.sum32_4,F8=RT.BlockHash;function Ss(){if(!(this instanceof Ss))return new Ss;F8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Fa.inherits(Ss,F8),T8.ripemd160=Ss,Ss.blockSize=512,Ss.outSize=160,Ss.hmacStrength=192,Ss.padLength=64,Ss.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],s=this.h[3],u=this.h[4],p=r,b=i,m=n,w=s,S=u,D=0;D<80;D++){var N=Ev(i0(Mv(r,Sv(D,i,n,s),e[BT[D]+t],PT(D)),FT[D]),u);r=u,u=s,s=i0(n,10),n=i,i=N,N=Ev(i0(Mv(p,Sv(79-D,b,m,w),e[TT[D]+t],OT(D)),UT[D]),S),p=S,S=w,w=i0(m,10),m=b,b=N}N=Gh(this.h[1],n,w),this.h[1]=Gh(this.h[2],s,S),this.h[2]=Gh(this.h[3],u,p),this.h[3]=Gh(this.h[4],r,b),this.h[4]=Gh(this.h[0],i,m),this.h[0]=N},Ss.prototype._digest=function(e){return e==="hex"?Fa.toHex32(this.h,"little"):Fa.split32(this.h,"little")};function Sv(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function PT(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function OT(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var BT=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],TT=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],FT=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],UT=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],qT=Ue,LT=ku;function Tf(e,t,r){if(!(this instanceof Tf))return new Tf(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(qT.toArray(t,r))}var kT=Tf;Tf.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),LT(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Tf.prototype.update=function(e,t){return this.inner.update(e,t),this},Tf.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=Ue,t.common=uh,t.sha=If,t.ripemd=T8,t.hmac=kT,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(Ms);function lh(e,t,r){return r={path:t,exports:{},require:function(i,n){return zT(i,n??r.path)}},e(r,r.exports),r.exports}function zT(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var P2=U8;function U8(e,t){if(!e)throw new Error(t||"Assertion failed")}U8.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var as=lh(function(e,t){var r=t;function i(u,p){if(Array.isArray(u))return u.slice();if(!u)return[];var b=[];if(typeof u!="string"){for(var m=0;m<u.length;m++)b[m]=u[m]|0;return b}if(p==="hex"){u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u);for(var m=0;m<u.length;m+=2)b.push(parseInt(u[m]+u[m+1],16))}else for(var m=0;m<u.length;m++){var w=u.charCodeAt(m),S=w>>8,D=w&255;S?b.push(S,D):b.push(D)}return b}r.toArray=i;function n(u){return u.length===1?"0"+u:u}r.zero2=n;function s(u){for(var p="",b=0;b<u.length;b++)p+=n(u[b].toString(16));return p}r.toHex=s,r.encode=function(u,p){return p==="hex"?s(u):u}}),sn=lh(function(e,t){var r=t;r.assert=P2,r.toArray=as.toArray,r.zero2=as.zero2,r.toHex=as.toHex,r.encode=as.encode;function i(b,m,w){var S=new Array(Math.max(b.bitLength(),w)+1);S.fill(0);for(var D=1<<m+1,N=b.clone(),P=0;P<S.length;P++){var L,k=N.andln(D-1);N.isOdd()?(k>(D>>1)-1?L=(D>>1)-k:L=k,N.isubn(L)):L=0,S[P]=L,N.iushrn(1)}return S}r.getNAF=i;function n(b,m){var w=[[],[]];b=b.clone(),m=m.clone();for(var S=0,D=0,N;b.cmpn(-S)>0||m.cmpn(-D)>0;){var P=b.andln(3)+S&3,L=m.andln(3)+D&3;P===3&&(P=-1),L===3&&(L=-1);var k;P&1?(N=b.andln(7)+S&7,(N===3||N===5)&&L===2?k=-P:k=P):k=0,w[0].push(k);var Y;L&1?(N=m.andln(7)+D&7,(N===3||N===5)&&P===2?Y=-L:Y=L):Y=0,w[1].push(Y),2*S===k+1&&(S=1-S),2*D===Y+1&&(D=1-D),b.iushrn(1),m.iushrn(1)}return w}r.getJSF=n;function s(b,m,w){var S="_"+m;b.prototype[m]=function(){return this[S]!==void 0?this[S]:this[S]=w.call(this)}}r.cachedProperty=s;function u(b){return typeof b=="string"?r.toArray(b,"hex"):b}r.parseBytes=u;function p(b){return new Ee(b,"hex","le")}r.intFromLE=p}),n0=sn.getNAF,$T=sn.getJSF,V0=sn.assert;function ta(e,t){this.type=e,this.p=new Ee(t.p,16),this.red=t.prime?Ee.red(t.prime):Ee.mont(this.p),this.zero=new Ee(0).toRed(this.red),this.one=new Ee(1).toRed(this.red),this.two=new Ee(2).toRed(this.red),this.n=t.n&&new Ee(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ja=ta;ta.prototype.point=function(){throw new Error("Not implemented")},ta.prototype.validate=function(){throw new Error("Not implemented")},ta.prototype._fixedNafMul=function(e,t){V0(e.precomputed);var r=e._getDoubles(),i=n0(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var s=[],u,p;for(u=0;u<i.length;u+=r.step){p=0;for(var b=u+r.step-1;b>=u;b--)p=(p<<1)+i[b];s.push(p)}for(var m=this.jpoint(null,null,null),w=this.jpoint(null,null,null),S=n;S>0;S--){for(u=0;u<s.length;u++)p=s[u],p===S?w=w.mixedAdd(r.points[u]):p===-S&&(w=w.mixedAdd(r.points[u].neg()));m=m.add(w)}return m.toP()},ta.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=n0(t,r,this._bitLength),u=this.jpoint(null,null,null),p=s.length-1;p>=0;p--){for(var b=0;p>=0&&s[p]===0;p--)b++;if(p>=0&&b++,u=u.dblp(b),p<0)break;var m=s[p];V0(m!==0),e.type==="affine"?m>0?u=u.mixedAdd(n[m-1>>1]):u=u.mixedAdd(n[-m-1>>1].neg()):m>0?u=u.add(n[m-1>>1]):u=u.add(n[-m-1>>1].neg())}return e.type==="affine"?u.toP():u},ta.prototype._wnafMulAdd=function(e,t,r,i,n){var s=this._wnafT1,u=this._wnafT2,p=this._wnafT3,b=0,m,w,S;for(m=0;m<i;m++){S=t[m];var D=S._getNAFPoints(e);s[m]=D.wnd,u[m]=D.points}for(m=i-1;m>=1;m-=2){var N=m-1,P=m;if(s[N]!==1||s[P]!==1){p[N]=n0(r[N],s[N],this._bitLength),p[P]=n0(r[P],s[P],this._bitLength),b=Math.max(p[N].length,b),b=Math.max(p[P].length,b);continue}var L=[t[N],null,null,t[P]];t[N].y.cmp(t[P].y)===0?(L[1]=t[N].add(t[P]),L[2]=t[N].toJ().mixedAdd(t[P].neg())):t[N].y.cmp(t[P].y.redNeg())===0?(L[1]=t[N].toJ().mixedAdd(t[P]),L[2]=t[N].add(t[P].neg())):(L[1]=t[N].toJ().mixedAdd(t[P]),L[2]=t[N].toJ().mixedAdd(t[P].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],Y=$T(r[N],r[P]);for(b=Math.max(Y[0].length,b),p[N]=new Array(b),p[P]=new Array(b),w=0;w<b;w++){var Q=Y[0][w]|0,X=Y[1][w]|0;p[N][w]=k[(Q+1)*3+(X+1)],p[P][w]=0,u[N]=L}}var $=this.jpoint(null,null,null),j=this._wnafT4;for(m=b;m>=0;m--){for(var K=0;m>=0;){var C=!0;for(w=0;w<i;w++)j[w]=p[w][m]|0,j[w]!==0&&(C=!1);if(!C)break;K++,m--}if(m>=0&&K++,$=$.dblp(K),m<0)break;for(w=0;w<i;w++){var z=j[w];z!==0&&(z>0?S=u[w][z-1>>1]:z<0&&(S=u[w][-z-1>>1].neg()),S.type==="affine"?$=$.mixedAdd(S):$=$.add(S))}}for(m=0;m<i;m++)u[m]=null;return n?$:$.toP()};function wn(e,t){this.curve=e,this.type=t,this.precomputed=null}ta.BasePoint=wn,wn.prototype.eq=function(){throw new Error("Not implemented")},wn.prototype.validate=function(){return this.curve.validate(this)},ta.prototype.decodePoint=function(e,t){e=sn.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?V0(e[e.length-1]%2===0):e[0]===7&&V0(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},wn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},wn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},wn.prototype.encode=function(e,t){return sn.encode(this._encode(t),e)},wn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},wn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},wn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},wn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},wn.prototype._getBeta=function(){return null},wn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var O2=lh(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),HT=sn.assert;function Cn(e){Ja.call(this,"short",e),this.a=new Ee(e.a,16).toRed(this.red),this.b=new Ee(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}O2(Cn,Ja);var jT=Cn;Cn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Ee(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new Ee(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],HT(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(u){return{a:new Ee(u.a,16),b:new Ee(u.b,16)}}):s=this._getEndoBasis(r),{beta:t,lambda:r,basis:s}}},Cn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ee.mont(e),r=new Ee(2).toRed(t).redInvm(),i=r.redNeg(),n=new Ee(3).toRed(t).redNeg().redSqrt().redMul(r),s=i.redAdd(n).fromRed(),u=i.redSub(n).fromRed();return[s,u]},Cn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new Ee(1),s=new Ee(0),u=new Ee(0),p=new Ee(1),b,m,w,S,D,N,P,L=0,k,Y;r.cmpn(0)!==0;){var Q=i.div(r);k=i.sub(Q.mul(r)),Y=u.sub(Q.mul(n));var X=p.sub(Q.mul(s));if(!w&&k.cmp(t)<0)b=P.neg(),m=n,w=k.neg(),S=Y;else if(w&&++L===2)break;P=k,i=r,r=k,u=n,n=Y,p=s,s=X}D=k.neg(),N=Y;var $=w.sqr().add(S.sqr()),j=D.sqr().add(N.sqr());return j.cmp($)>=0&&(D=b,N=m),w.negative&&(w=w.neg(),S=S.neg()),D.negative&&(D=D.neg(),N=N.neg()),[{a:w,b:S},{a:D,b:N}]},Cn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),u=n.mul(r.a),p=s.mul(i.a),b=n.mul(r.b),m=s.mul(i.b),w=e.sub(u).sub(p),S=b.add(m).neg();return{k1:w,k2:S}},Cn.prototype.pointFromX=function(e,t){e=new Ee(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Cn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Cn.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<e.length;s++){var u=this._endoSplit(t[s]),p=e[s],b=p._getBeta();u.k1.negative&&(u.k1.ineg(),p=p.neg(!0)),u.k2.negative&&(u.k2.ineg(),b=b.neg(!0)),i[s*2]=p,i[s*2+1]=b,n[s*2]=u.k1,n[s*2+1]=u.k2}for(var m=this._wnafMulAdd(1,i,n,s*2,r),w=0;w<s*2;w++)i[w]=null,n[w]=null;return m};function jr(e,t,r,i){Ja.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ee(t,16),this.y=new Ee(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}O2(jr,Ja.BasePoint),Cn.prototype.point=function(e,t,r){return new jr(this,e,t,r)},Cn.prototype.pointFromJSON=function(e,t){return jr.fromJSON(this,e,t)},jr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},jr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},jr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(u){return e.point(u[0],u[1],r)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},jr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},jr.prototype.isInfinity=function(){return this.inf},jr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},jr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),u=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,u)},jr.prototype.getX=function(){return this.x.fromRed()},jr.prototype.getY=function(){return this.y.fromRed()},jr.prototype.mul=function(e){return e=new Ee(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},jr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},jr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},jr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},jr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},jr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Zr(e,t,r,i){Ja.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ee(0)):(this.x=new Ee(t,16),this.y=new Ee(r,16),this.z=new Ee(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}O2(Zr,Ja.BasePoint),Cn.prototype.jpoint=function(e,t,r){return new Zr(this,e,t,r)},Zr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},Zr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Zr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),u=e.y.redMul(r.redMul(this.z)),p=i.redSub(n),b=s.redSub(u);if(p.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=p.redSqr(),w=m.redMul(p),S=i.redMul(m),D=b.redSqr().redIAdd(w).redISub(S).redISub(S),N=b.redMul(S.redISub(D)).redISub(s.redMul(w)),P=this.z.redMul(e.z).redMul(p);return this.curve.jpoint(D,N,P)},Zr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),u=r.redSub(i),p=n.redSub(s);if(u.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=u.redSqr(),m=b.redMul(u),w=r.redMul(b),S=p.redSqr().redIAdd(m).redISub(w).redISub(w),D=p.redMul(w.redISub(S)).redISub(n.redMul(m)),N=this.z.redMul(u);return this.curve.jpoint(S,D,N)},Zr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,u=this.y,p=this.z,b=p.redSqr().redSqr(),m=u.redAdd(u);for(t=0;t<e;t++){var w=s.redSqr(),S=m.redSqr(),D=S.redSqr(),N=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(b)),P=s.redMul(S),L=N.redSqr().redISub(P.redAdd(P)),k=P.redISub(L),Y=N.redMul(k);Y=Y.redIAdd(Y).redISub(D);var Q=m.redMul(p);t+1<e&&(b=b.redMul(D)),s=L,p=Q,m=Y}return this.curve.jpoint(s,m.redMul(n),p)},Zr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Zr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),u=this.x.redAdd(n).redSqr().redISub(i).redISub(s);u=u.redIAdd(u);var p=i.redAdd(i).redIAdd(i),b=p.redSqr().redISub(u).redISub(u),m=s.redIAdd(s);m=m.redIAdd(m),m=m.redIAdd(m),e=b,t=p.redMul(u.redISub(b)).redISub(m),r=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),S=this.y.redSqr(),D=S.redSqr(),N=this.x.redAdd(S).redSqr().redISub(w).redISub(D);N=N.redIAdd(N);var P=w.redAdd(w).redIAdd(w),L=P.redSqr(),k=D.redIAdd(D);k=k.redIAdd(k),k=k.redIAdd(k),e=L.redISub(N).redISub(N),t=P.redMul(N.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},Zr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),u=this.x.redAdd(n).redSqr().redISub(i).redISub(s);u=u.redIAdd(u);var p=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=p.redSqr().redISub(u).redISub(u);e=b;var m=s.redIAdd(s);m=m.redIAdd(m),m=m.redIAdd(m),t=p.redMul(u.redISub(b)).redISub(m),r=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),S=this.y.redSqr(),D=this.x.redMul(S),N=this.x.redSub(w).redMul(this.x.redAdd(w));N=N.redAdd(N).redIAdd(N);var P=D.redIAdd(D);P=P.redIAdd(P);var L=P.redAdd(P);e=N.redSqr().redISub(L),r=this.y.redAdd(this.z).redSqr().redISub(S).redISub(w);var k=S.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=N.redMul(P.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},Zr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),u=r.redSqr(),p=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),b=t.redAdd(t);b=b.redIAdd(b);var m=b.redMul(u),w=p.redSqr().redISub(m.redAdd(m)),S=m.redISub(w),D=u.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var N=p.redMul(S).redISub(D),P=r.redAdd(r).redMul(i);return this.curve.jpoint(w,N,P)},Zr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),u=this.x.redAdd(t).redSqr().redISub(e).redISub(i);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(s);var p=u.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var m=n.redIAdd(u).redSqr().redISub(s).redISub(p).redISub(b),w=t.redMul(m);w=w.redIAdd(w),w=w.redIAdd(w);var S=this.x.redMul(p).redISub(w);S=S.redIAdd(S),S=S.redIAdd(S);var D=this.y.redMul(m.redMul(b.redISub(m)).redISub(u.redMul(p)));D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var N=this.z.redAdd(u).redSqr().redISub(r).redISub(p);return this.curve.jpoint(S,D,N)},Zr.prototype.mul=function(e,t){return e=new Ee(e,t),this.curve._wnafMul(this,e)},Zr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},Zr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},Zr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Zr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var M0=lh(function(e,t){var r=t;r.base=Ja,r.short=jT,r.mont=null,r.edwards=null}),S0=lh(function(e,t){var r=t,i=sn.assert;function n(p){p.type==="short"?this.curve=new M0.short(p):p.type==="edwards"?this.curve=new M0.edwards(p):this.curve=new M0.mont(p),this.g=this.curve.g,this.n=this.curve.n,this.hash=p.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function s(p,b){Object.defineProperty(r,p,{configurable:!0,enumerable:!0,get:function(){var m=new n(b);return Object.defineProperty(r,p,{configurable:!0,enumerable:!0,value:m}),m}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ms.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ms.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ms.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ms.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ms.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ms.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ms.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=null.crash()}catch{u=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ms.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})});function ea(e){if(!(this instanceof ea))return new ea(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=as.toArray(e.entropy,e.entropyEnc||"hex"),r=as.toArray(e.nonce,e.nonceEnc||"hex"),i=as.toArray(e.pers,e.persEnc||"hex");P2(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var xv=ea;ea.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},ea.prototype._hmac=function(){return new Ms.hmac(this.hash,this.K)},ea.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},ea.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=as.toArray(e,t),r=as.toArray(r,i),P2(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},ea.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=as.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,e);return this._update(r),this._reseed++,as.encode(s,t)};var B1=sn.assert;function ui(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var T1=ui;ui.fromPublic=function(e,t,r){return t instanceof ui?t:new ui(e,{pub:t,pubEnc:r})},ui.fromPrivate=function(e,t,r){return t instanceof ui?t:new ui(e,{priv:t,privEnc:r})},ui.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ui.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},ui.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},ui.prototype._importPrivate=function(e,t){this.priv=new Ee(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},ui.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?B1(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&B1(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},ui.prototype.derive=function(e){return e.validate()||B1(e.validate(),"public point not validated"),e.mul(this.priv).getX()},ui.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},ui.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},ui.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var KT=sn.assert;function Rl(e,t){if(e instanceof Rl)return e;this._importDER(e,t)||(KT(e.r&&e.s,"Signature without r or s"),this.r=new Ee(e.r,16),this.s=new Ee(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var s0=Rl;function GT(){this.place=0}function F1(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,s=0,u=t.place;s<i;s++,u++)n<<=8,n|=e[u],n>>>=0;return n<=127?!1:(t.place=u,n)}function Iv(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Rl.prototype._importDER=function(e,t){e=sn.toArray(e,t);var r=new GT;if(e[r.place++]!==48)return!1;var i=F1(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=F1(e,r);if(n===!1)return!1;var s=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var u=F1(e,r);if(u===!1||e.length!==u+r.place)return!1;var p=e.slice(r.place,u+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;return this.r=new Ee(s),this.s=new Ee(p),this.recoveryParam=null,!0};function U1(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Rl.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=Iv(t),r=Iv(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];U1(i,t.length),i=i.concat(t),i.push(2),U1(i,r.length);var n=i.concat(r),s=[48];return U1(s,n.length),s=s.concat(n),sn.encode(s,e)};var QT=function(){throw new Error("unsupported")},q8=sn.assert;function xn(e){if(!(this instanceof xn))return new xn(e);typeof e=="string"&&(q8(Object.prototype.hasOwnProperty.call(S0,e),"Unknown curve "+e),e=S0[e]),e instanceof S0.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var VT=xn;xn.prototype.keyPair=function(e){return new T1(this,e)},xn.prototype.keyFromPrivate=function(e,t){return T1.fromPrivate(this,e,t)},xn.prototype.keyFromPublic=function(e,t){return T1.fromPublic(this,e,t)},xn.prototype.genKeyPair=function(e){e||(e={});for(var t=new xv({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||QT(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Ee(2));;){var n=new Ee(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},xn.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},xn.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Ee(e,16));for(var n=this.n.byteLength(),s=t.getPrivate().toArray("be",n),u=e.toArray("be",n),p=new xv({hash:this.hash,entropy:s,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new Ee(1)),m=0;;m++){var w=i.k?i.k(m):new Ee(p.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(b)>=0)){var S=this.g.mul(w);if(!S.isInfinity()){var D=S.getX(),N=D.umod(this.n);if(N.cmpn(0)!==0){var P=w.invm(this.n).mul(N.mul(t.getPrivate()).iadd(e));if(P=P.umod(this.n),P.cmpn(0)!==0){var L=(S.getY().isOdd()?1:0)|(D.cmp(N)!==0?2:0);return i.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),L^=1),new s0({r:N,s:P,recoveryParam:L})}}}}}},xn.prototype.verify=function(e,t,r,i){e=this._truncateToN(new Ee(e,16)),r=this.keyFromPublic(r,i),t=new s0(t,"hex");var n=t.r,s=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),p=u.mul(e).umod(this.n),b=u.mul(n).umod(this.n),m;return this.curve._maxwellTrick?(m=this.g.jmulAdd(p,r.getPublic(),b),m.isInfinity()?!1:m.eqXToP(n)):(m=this.g.mulAdd(p,r.getPublic(),b),m.isInfinity()?!1:m.getX().umod(this.n).cmp(n)===0)},xn.prototype.recoverPubKey=function(e,t,r,i){q8((3&r)===r,"The recovery param is more than two bits"),t=new s0(t,i);var n=this.n,s=new Ee(e),u=t.r,p=t.s,b=r&1,m=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?u=this.curve.pointFromX(u.add(this.curve.n),b):u=this.curve.pointFromX(u,b);var w=t.r.invm(n),S=n.sub(s).mul(w).umod(n),D=p.mul(w).umod(n);return this.g.mulAdd(S,u,D)},xn.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new s0(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var JT=lh(function(e,t){var r=t;r.version="6.5.4",r.utils=sn,r.rand=function(){throw new Error("unsupported")},r.curve=M0,r.curves=S0,r.ec=VT,r.eddsa=null});JT.ec;var Dv;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(Dv||(Dv={}));const L8="base10",xi="base16",J0="base64pad",zu="utf8",k8=0,dh=1,Pl=2,YT=0,Nv=1,du=12,B2=32;function WT(){const e=M2.generateKeyPair();return{privateKey:di(e.secretKey,xi),publicKey:di(e.publicKey,xi)}}function jp(){const e=ua.randomBytes(B2);return di(e,xi)}function XT(e,t){const r=M2.sharedKey(zi(e,xi),zi(t,xi),!0),i=new fC(Qa.SHA256,r).expand(B2);return di(i,xi)}function ZT(e){const t=Qa.hash(zi(e,xi));return di(t,xi)}function Kp(e){const t=Qa.hash(zi(e,zu));return di(t,xi)}function z8(e){return zi(`${e}`,L8)}function ka(e){return Number(di(e,L8))}function tF(e){const t=z8(typeof e.type<"u"?e.type:k8);if(ka(t)===dh&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?zi(e.senderPublicKey,xi):void 0,i=typeof e.iv<"u"?zi(e.iv,xi):ua.randomBytes(du),n=new _2.ChaCha20Poly1305(zi(e.symKey,xi)).seal(i,zi(e.message,zu));return $8({type:t,sealed:n,iv:i,senderPublicKey:r,encoding:e.encoding})}function eF(e,t){const r=z8(Pl),i=ua.randomBytes(du),n=zi(e,zu);return $8({type:r,sealed:n,iv:i,encoding:t})}function rF(e){const t=new _2.ChaCha20Poly1305(zi(e.symKey,xi)),{sealed:r,iv:i}=Su({encoded:e.encoded,encoding:e==null?void 0:e.encoding}),n=t.open(i,r);if(n===null)throw new Error("Failed to decrypt");return di(n,zu)}function iF(e,t){const{sealed:r}=Su({encoded:e,encoding:t});return di(r,zu)}function $8(e){const{encoding:t=J0}=e;if(ka(e.type)===Pl)return di(f1([e.type,e.sealed]),t);if(ka(e.type)===dh){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return di(f1([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return di(f1([e.type,e.iv,e.sealed]),t)}function Su(e){const{encoded:t,encoding:r=J0}=e,i=zi(t,r),n=i.slice(YT,Nv),s=Nv;if(ka(n)===dh){const m=s+B2,w=m+du,S=i.slice(s,m),D=i.slice(m,w),N=i.slice(w);return{type:n,sealed:N,iv:D,senderPublicKey:S}}if(ka(n)===Pl){const m=i.slice(s),w=ua.randomBytes(du);return{type:n,sealed:m,iv:w}}const u=s+du,p=i.slice(s,u),b=i.slice(u);return{type:n,sealed:b,iv:p}}function nF(e,t){const r=Su({encoded:e,encoding:t==null?void 0:t.encoding});return H8({type:ka(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?di(r.senderPublicKey,xi):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function H8(e){const t=(e==null?void 0:e.type)||k8;if(t===dh){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function Cv(e){return e.type===dh&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function Rv(e){return e.type===Pl}function sF(e){return new ub.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}function oF(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const r=t.length%4;return r>0&&(t+="=".repeat(4-r)),t}function aF(e){return Buffer.from(oF(e),"base64")}function fF(e,t){const[r,i,n]=e.split("."),s=aF(n);if(s.length!==64)throw new Error("Invalid signature length");const u=s.slice(0,32).toString("hex"),p=s.slice(32,64).toString("hex"),b=`${r}.${i}`,m=new Qa.SHA256().update(Buffer.from(b)).digest(),w=sF(t),S=Buffer.from(m).toString("hex");if(!w.verify(S,{r:u,s:p}))throw new Error("Invalid signature");return Sp(e).payload}const hF="irn";function Gp(e){return(e==null?void 0:e.relay)||{protocol:hF}}function nu(e){const t=hC[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var uF=Object.defineProperty,cF=Object.defineProperties,lF=Object.getOwnPropertyDescriptors,Pv=Object.getOwnPropertySymbols,dF=Object.prototype.hasOwnProperty,pF=Object.prototype.propertyIsEnumerable,Ov=(e,t,r)=>t in e?uF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Bv=(e,t)=>{for(var r in t||(t={}))dF.call(t,r)&&Ov(e,r,t[r]);if(Pv)for(var r of Pv(t))pF.call(t,r)&&Ov(e,r,t[r]);return e},gF=(e,t)=>cF(e,lF(t));function mF(e,t="-"){const r={},i="relay"+t;return Object.keys(e).forEach(n=>{if(n.startsWith(i)){const s=n.replace(i,""),u=e[n];r[s]=u}}),r}function Tv(e){if(!e.includes("wc:")){const b=o8(e);b!=null&&b.includes("wc:")&&(e=b)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,i=e.substring(0,t),n=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",u=wu.parse(s),p=typeof u.methods=="string"?u.methods.split(","):void 0;return{protocol:i,topic:vF(n[0]),version:parseInt(n[1],10),symKey:u.symKey,relay:mF(u),methods:p,expiryTimestamp:u.expiryTimestamp?parseInt(u.expiryTimestamp,10):void 0}}function vF(e){return e.startsWith("//")?e.substring(2):e}function bF(e,t="-"){const r="relay",i={};return Object.keys(e).forEach(n=>{const s=r+t+n;e[n]&&(i[s]=e[n])}),i}function Fv(e){return`${e.protocol}:${e.topic}@${e.version}?`+wu.stringify(Bv(gF(Bv({symKey:e.symKey},bF(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}const yF={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},wF={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Je(e,t){const{message:r,code:i}=wF[e];return{message:t?`${r} ${t}`:r,code:i}}function su(e,t){const{message:r,code:i}=yF[e];return{message:t?`${r} ${t}`:r,code:i}}function AF(e,t){return!!Array.isArray(e)}function Qp(e){return typeof e>"u"}function j8(e,t){return typeof e=="string"&&!!e.trim().length}function _F(e){function t(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(j8(e,!1)){if(t(e))return!0;const r=o8(e);return t(r)}}catch{}return!1}function EF(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function MF(e){return e==null?void 0:e.topic}function q1(e){return typeof e<"u"&&typeof e!==null}function Uv(){const e=Cl();return new Promise(t=>{switch(e){case os.browser:t(SF());break;case os.reactNative:t(xF());break;case os.node:t(IF());break;default:t(!0)}})}function SF(){return Nl()&&(navigator==null?void 0:navigator.onLine)}async function xF(){if(qu()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function IF(){return!0}function DF(e){switch(Cl()){case os.browser:NF(e);break;case os.reactNative:CF(e);break}}function NF(e){!qu()&&Nl()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function CF(e){qu()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}const RF=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),PF=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",qv=e=>e.split("?")[0],Lv=10,OF=RF();let BF=class{constructor(t){if(this.url=t,this.events=new Bn.EventEmitter,this.registering=!1,!qm(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Bo(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!qm(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,i)=>{const n=new URLSearchParams(t).get("origin"),s=by.isReactNative()?{headers:{origin:n}}:{rejectUnauthorized:!QC(t)},u=new OF(t,[],s);PF()?u.onerror=p=>{const b=p;i(this.emitError(b.error))}:u.on("error",p=>{i(this.emitError(p))}),u.onopen=()=>{this.onOpen(u),r(u)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?La(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const i=this.parseError(r),n=i.message||i.toString(),s=xl(t,n);this.events.emit("payload",s)}parseError(t,r=this.url){return vy(t,qv(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Lv&&this.events.setMaxListeners(Lv)}emitError(t){const r=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${qv(this.url)}`));return this.events.emit("register_error",r),r}};const K8="wc",G8=2,T2="core",Xs=`${K8}@2:${T2}:`,TF={name:T2,logger:"error"},FF={database:":memory:"},UF="crypto",kv="client_ed25519_seed",qF=Xt.ONE_DAY,LF="keychain",kF="0.3",zF="messages",$F="0.3",HF=Xt.SIX_HOURS,jF="publisher",Q8="irn",KF="error",V8="wss://relay.walletconnect.org",GF="relayer",_i={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},QF="_subscription",An={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},VF=.1,Vp="2.17.0",nr={link_mode:"link_mode",relay:"relay"},JF="0.3",YF="WALLETCONNECT_CLIENT_ID",zv="WALLETCONNECT_LINK_MODE_APPS",xs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},WF="subscription",XF="0.3",ZF=Xt.FIVE_SECONDS*1e3,tU="pairing",eU="0.3",Qh={wc_pairingDelete:{req:{ttl:Xt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Xt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Xt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Xt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Xt.ONE_DAY,prompt:!1,tag:0},res:{ttl:Xt.ONE_DAY,prompt:!1,tag:0}}},Ra={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Kn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},rU="history",iU="0.3",nU="expirer",Mn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},sU="0.3",oU="verify-api",aU="https://verify.walletconnect.com",J8="https://verify.walletconnect.org",pu=J8,fU=`${pu}/v3`,hU=[aU,J8],uU="echo",cU="https://echo.walletconnect.com",ws={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Ao={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Gn={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Da={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Na={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},Vh={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},lU=.1,dU="event-client",pU=86400,gU="https://pulse.walletconnect.org/batch";function mU(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),u=s.charCodeAt(0);if(r[u]!==255)throw new TypeError(s+" is ambiguous");r[u]=n}var p=e.length,b=e.charAt(0),m=Math.log(p)/Math.log(256),w=Math.log(256)/Math.log(p);function S(P){if(P instanceof Uint8Array||(ArrayBuffer.isView(P)?P=new Uint8Array(P.buffer,P.byteOffset,P.byteLength):Array.isArray(P)&&(P=Uint8Array.from(P))),!(P instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(P.length===0)return"";for(var L=0,k=0,Y=0,Q=P.length;Y!==Q&&P[Y]===0;)Y++,L++;for(var X=(Q-Y)*w+1>>>0,$=new Uint8Array(X);Y!==Q;){for(var j=P[Y],K=0,C=X-1;(j!==0||K<k)&&C!==-1;C--,K++)j+=256*$[C]>>>0,$[C]=j%p>>>0,j=j/p>>>0;if(j!==0)throw new Error("Non-zero carry");k=K,Y++}for(var z=X-k;z!==X&&$[z]===0;)z++;for(var st=b.repeat(L);z<X;++z)st+=e.charAt($[z]);return st}function D(P){if(typeof P!="string")throw new TypeError("Expected String");if(P.length===0)return new Uint8Array;var L=0;if(P[L]!==" "){for(var k=0,Y=0;P[L]===b;)k++,L++;for(var Q=(P.length-L)*m+1>>>0,X=new Uint8Array(Q);P[L];){var $=r[P.charCodeAt(L)];if($===255)return;for(var j=0,K=Q-1;($!==0||j<Y)&&K!==-1;K--,j++)$+=p*X[K]>>>0,X[K]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");Y=j,L++}if(P[L]!==" "){for(var C=Q-Y;C!==Q&&X[C]===0;)C++;for(var z=new Uint8Array(k+(Q-C)),st=k;C!==Q;)z[st++]=X[C++];return z}}}function N(P){var L=D(P);if(L)return L;throw new Error(`Non-${t} character`)}return{encode:S,decodeUnsafe:D,decode:N}}var vU=mU,bU=vU;const Y8=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},yU=e=>new TextEncoder().encode(e),wU=e=>new TextDecoder().decode(e);let AU=class{constructor(t,r,i){this.name=t,this.prefix=r,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},_U=class{constructor(t,r,i){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return W8(this,t)}},EU=class{constructor(t){this.decoders=t}or(t){return W8(this,t)}decode(t){const r=t[0],i=this.decoders[r];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const W8=(e,t)=>new EU({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let MU=class{constructor(t,r,i,n){this.name=t,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new AU(t,r,i),this.decoder=new _U(t,r,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const Ol=({name:e,prefix:t,encode:r,decode:i})=>new MU(e,t,r,i),$u=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=bU(r,t);return Ol({prefix:e,name:t,encode:i,decode:s=>Y8(n(s))})},SU=(e,t,r,i)=>{const n={};for(let w=0;w<t.length;++w)n[t[w]]=w;let s=e.length;for(;e[s-1]==="=";)--s;const u=new Uint8Array(s*r/8|0);let p=0,b=0,m=0;for(let w=0;w<s;++w){const S=n[e[w]];if(S===void 0)throw new SyntaxError(`Non-${i} character`);b=b<<r|S,p+=r,p>=8&&(p-=8,u[m++]=255&b>>p)}if(p>=r||255&b<<8-p)throw new SyntaxError("Unexpected end of data");return u},xU=(e,t,r)=>{const i=t[t.length-1]==="=",n=(1<<r)-1;let s="",u=0,p=0;for(let b=0;b<e.length;++b)for(p=p<<8|e[b],u+=8;u>r;)u-=r,s+=t[n&p>>u];if(u&&(s+=t[n&p<<r-u]),i)for(;s.length*r&7;)s+="=";return s},si=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>Ol({prefix:t,name:e,encode(n){return xU(n,i,r)},decode(n){return SU(n,i,r,e)}}),IU=Ol({prefix:"\0",name:"identity",encode:e=>wU(e),decode:e=>yU(e)});var DU=Object.freeze({__proto__:null,identity:IU});const NU=si({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var CU=Object.freeze({__proto__:null,base2:NU});const RU=si({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var PU=Object.freeze({__proto__:null,base8:RU});const OU=$u({prefix:"9",name:"base10",alphabet:"0123456789"});var BU=Object.freeze({__proto__:null,base10:OU});const TU=si({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),FU=si({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var UU=Object.freeze({__proto__:null,base16:TU,base16upper:FU});const qU=si({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),LU=si({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),kU=si({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zU=si({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$U=si({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),HU=si({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jU=si({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),KU=si({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),GU=si({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var QU=Object.freeze({__proto__:null,base32:qU,base32upper:LU,base32pad:kU,base32padupper:zU,base32hex:$U,base32hexupper:HU,base32hexpad:jU,base32hexpadupper:KU,base32z:GU});const VU=$u({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),JU=$u({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var YU=Object.freeze({__proto__:null,base36:VU,base36upper:JU});const WU=$u({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),XU=$u({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ZU=Object.freeze({__proto__:null,base58btc:WU,base58flickr:XU});const tq=si({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),eq=si({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rq=si({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),iq=si({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var nq=Object.freeze({__proto__:null,base64:tq,base64pad:eq,base64url:rq,base64urlpad:iq});const X8=Array.from(""),sq=X8.reduce((e,t,r)=>(e[r]=t,e),[]),oq=X8.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function aq(e){return e.reduce((t,r)=>(t+=sq[r],t),"")}function fq(e){const t=[];for(const r of e){const i=oq[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(i)}return new Uint8Array(t)}const hq=Ol({prefix:"",name:"base256emoji",encode:aq,decode:fq});var uq=Object.freeze({__proto__:null,base256emoji:hq}),cq=Z8,$v=128,lq=-128,dq=Math.pow(2,31);function Z8(e,t,r){t=t||[],r=r||0;for(var i=r;e>=dq;)t[r++]=e&255|$v,e/=128;for(;e&lq;)t[r++]=e&255|$v,e>>>=7;return t[r]=e|0,Z8.bytes=r-i+1,t}var pq=Jp,gq=128,Hv=127;function Jp(e,i){var r=0,i=i||0,n=0,s=i,u,p=e.length;do{if(s>=p)throw Jp.bytes=0,new RangeError("Could not decode varint");u=e[s++],r+=n<28?(u&Hv)<<n:(u&Hv)*Math.pow(2,n),n+=7}while(u>=gq);return Jp.bytes=s-i,r}var mq=Math.pow(2,7),vq=Math.pow(2,14),bq=Math.pow(2,21),yq=Math.pow(2,28),wq=Math.pow(2,35),Aq=Math.pow(2,42),_q=Math.pow(2,49),Eq=Math.pow(2,56),Mq=Math.pow(2,63),Sq=function(e){return e<mq?1:e<vq?2:e<bq?3:e<yq?4:e<wq?5:e<Aq?6:e<_q?7:e<Eq?8:e<Mq?9:10},xq={encode:cq,decode:pq,encodingLength:Sq},t5=xq;const jv=(e,t,r=0)=>(t5.encode(e,t,r),t),Kv=e=>t5.encodingLength(e),Yp=(e,t)=>{const r=t.byteLength,i=Kv(e),n=i+Kv(r),s=new Uint8Array(n+r);return jv(e,s,0),jv(r,s,i),s.set(t,n),new Iq(e,r,t,s)};class Iq{constructor(t,r,i,n){this.code=t,this.size=r,this.digest=i,this.bytes=n}}const e5=({name:e,code:t,encode:r})=>new Dq(e,t,r);let Dq=class{constructor(t,r,i){this.name=t,this.code=r,this.encode=i}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?Yp(this.code,r):r.then(i=>Yp(this.code,i))}else throw Error("Unknown type, must be binary type")}};const r5=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Nq=e5({name:"sha2-256",code:18,encode:r5("SHA-256")}),Cq=e5({name:"sha2-512",code:19,encode:r5("SHA-512")});var Rq=Object.freeze({__proto__:null,sha256:Nq,sha512:Cq});const i5=0,Pq="identity",n5=Y8,Oq=e=>Yp(i5,n5(e)),Bq={code:i5,name:Pq,encode:n5,digest:Oq};var Tq=Object.freeze({__proto__:null,identity:Bq});new TextEncoder,new TextDecoder;const Gv={...DU,...CU,...PU,...BU,...UU,...QU,...YU,...ZU,...nq,...uq};({...Rq,...Tq});function Fq(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function s5(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const Qv=s5("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),L1=s5("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=Fq(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Uq={utf8:Qv,"utf-8":Qv,hex:Gv.base16,latin1:L1,ascii:L1,binary:L1,...Gv};function qq(e,t="utf8"){const r=Uq[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}let Lq=class{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=LF,this.version=kF,this.initialized=!1,this.storagePrefix=Xs,this.init=async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();const n=this.keychain.get(i);if(typeof n>"u"){const{message:s}=Je("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=t,this.logger=Ni(r,this.name)}get context(){return Ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,r8(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?i8(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=Je("NOT_INITIALIZED",this.name);throw new Error(t)}}};class kq{constructor(t,r,i){this.core=t,this.logger=r,this.name=UF,this.randomSessionIdentifier=jp(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();const n=await this.getClientSeed(),s=Mm(n);return ny(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const n=WT();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();const s=await this.getClientSeed(),u=Mm(s),p=this.randomSessionIdentifier;return await bN(p,n,qF,u)},this.generateSharedKey=(n,s,u)=>{this.isInitialized();const p=this.getPrivateKey(n),b=XT(p,s);return this.setSymKey(b,u)},this.setSymKey=async(n,s)=>{this.isInitialized();const u=s||ZT(n);return await this.keychain.set(u,n),u},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,s,u)=>{this.isInitialized();const p=H8(u),b=Bo(s);if(Rv(p))return eF(b,u==null?void 0:u.encoding);if(Cv(p)){const D=p.senderPublicKey,N=p.receiverPublicKey;n=await this.generateSharedKey(D,N)}const m=this.getSymKey(n),{type:w,senderPublicKey:S}=p;return tF({type:w,symKey:m,message:b,senderPublicKey:S,encoding:u==null?void 0:u.encoding})},this.decode=async(n,s,u)=>{this.isInitialized();const p=nF(s,u);if(Rv(p)){const b=iF(s,u==null?void 0:u.encoding);return La(b)}if(Cv(p)){const b=p.receiverPublicKey,m=p.senderPublicKey;n=await this.generateSharedKey(b,m)}try{const b=this.getSymKey(n),m=rF({symKey:b,encoded:s,encoding:u==null?void 0:u.encoding});return La(m)}catch(b){this.logger.error(`Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`),this.logger.error(b)}},this.getPayloadType=(n,s=J0)=>{const u=Su({encoded:n,encoding:s});return ka(u.type)},this.getPayloadSenderPublicKey=(n,s=J0)=>{const u=Su({encoded:n,encoding:s});return u.senderPublicKey?di(u.senderPublicKey,xi):void 0},this.core=t,this.logger=Ni(r,this.name),this.keychain=i||new Lq(this.core,this.logger)}get context(){return Ji(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(kv)}catch{t=jp(),await this.keychain.set(kv,t)}return qq(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=Je("NOT_INITIALIZED",this.name);throw new Error(t)}}}class zq extends lO{constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=zF,this.version=$F,this.initialized=!1,this.storagePrefix=Xs,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();const s=Kp(n);let u=this.messages.get(i);return typeof u>"u"&&(u={}),typeof u[s]<"u"||(u[s]=n,this.messages.set(i,u),await this.persist()),s},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();const s=this.get(i),u=Kp(n);return typeof s[u]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=Ni(t,this.name),this.core=r}get context(){return Ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,r8(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?i8(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=Je("NOT_INITIALIZED",this.name);throw new Error(t)}}}class $q extends dO{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new Bn.EventEmitter,this.name=jF,this.queue=new Map,this.publishTimeout=Xt.toMiliseconds(Xt.ONE_MINUTE),this.failedPublishTimeout=Xt.toMiliseconds(Xt.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(i,n,s)=>{var u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}});const p=(s==null?void 0:s.ttl)||HF,b=Gp(s),m=(s==null?void 0:s.prompt)||!1,w=(s==null?void 0:s.tag)||0,S=(s==null?void 0:s.id)||Pa().toString(),D={topic:i,message:n,opts:{ttl:p,relay:b,prompt:m,tag:w,id:S,attestation:s==null?void 0:s.attestation}},N=`Failed to publish payload, please try again. id:${S} tag:${w}`,P=Date.now();let L,k=1;try{for(;L===void 0;){if(Date.now()-P>this.publishTimeout)throw new Error(N);this.logger.trace({id:S,attempts:k},`publisher.publish - attempt ${k}`),L=await await Bf(this.rpcPublish(i,n,p,b,m,w,S,s==null?void 0:s.attestation).catch(Y=>this.logger.warn(Y)),this.publishTimeout,N),k++,L||await new Promise(Y=>setTimeout(Y,this.failedPublishTimeout))}this.relayer.events.emit(_i.publish,D),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:S,topic:i,message:n,opts:s}})}catch(Y){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(Y),(u=s==null?void 0:s.internal)!=null&&u.throwOnFailedPublish)throw Y;this.queue.set(S,D)}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=t,this.logger=Ni(r,this.name),this.registerEventListeners()}get context(){return Ji(this.logger)}rpcPublish(t,r,i,n,s,u,p,b){var m,w,S,D;const N={method:nu(n.protocol).publish,params:{topic:t,message:r,ttl:i,prompt:s,tag:u,attestation:b},id:p};return Qp((m=N.params)==null?void 0:m.prompt)&&((w=N.params)==null||delete w.prompt),Qp((S=N.params)==null?void 0:S.tag)&&((D=N.params)==null||delete D.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:N}),this.relayer.request(N)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:i,opts:n}=t;await this.publish(r,i,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(ih.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(_i.connection_stalled);return}this.checkQueue()}),this.relayer.on(_i.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}let Hq=class{constructor(){this.map=new Map,this.set=(t,r)=>{const i=this.get(t);this.exists(t,r)||this.map.set(t,[...i,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const i=this.get(t);if(!this.exists(t,r))return;const n=i.filter(s=>s!==r);if(!n.length){this.map.delete(t);return}this.map.set(t,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var jq=Object.defineProperty,Kq=Object.defineProperties,Gq=Object.getOwnPropertyDescriptors,Vv=Object.getOwnPropertySymbols,Qq=Object.prototype.hasOwnProperty,Vq=Object.prototype.propertyIsEnumerable,Jv=(e,t,r)=>t in e?jq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Jh=(e,t)=>{for(var r in t||(t={}))Qq.call(t,r)&&Jv(e,r,t[r]);if(Vv)for(var r of Vv(t))Vq.call(t,r)&&Jv(e,r,t[r]);return e},k1=(e,t)=>Kq(e,Gq(t));class Jq extends mO{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new Hq,this.events=new Bn.EventEmitter,this.name=WF,this.version=XF,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Xs,this.subscribeTimeout=Xt.toMiliseconds(Xt.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(i,n)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{const s=Gp(n),u={topic:i,relay:s,transportType:n==null?void 0:n.transportType};this.pending.set(i,u);const p=await this.rpcSubscribe(i,s,n==null?void 0:n.transportType);return typeof p=="string"&&(this.onSubscribe(p,u),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}})),p}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),typeof(n==null?void 0:n.id)<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>{if(this.topics.includes(i))return!0;const n=`${this.pendingSubscriptionWatchLabel}_${i}`;return await new Promise((s,u)=>{const p=new Xt.Watch;p.start(n);const b=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(b),p.stop(n),s(!0)),p.elapsed(n)>=ZF&&(clearInterval(b),p.stop(n),u(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=Ni(r,this.name),this.clientId=""}get context(){return Ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let i=!1;try{i=this.getSubscription(t).topic===r}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const i=this.topicMap.get(t);await Promise.all(i.map(async n=>await this.unsubscribeById(t,n,r)))}async unsubscribeById(t,r,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}});try{const n=Gp(i);await this.rpcUnsubscribe(t,r,n);const s=su("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(t,r,i=nr.relay){i===nr.relay&&await this.restartToComplete();const n={method:nu(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{const s=Kp(t+this.clientId);return i===nr.link_mode?(setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(u=>this.logger.warn(u))},Xt.toMiliseconds(Xt.ONE_SECOND)),s):await await Bf(this.relayer.request(n).catch(u=>this.logger.warn(u)),this.subscribeTimeout)?s:null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(_i.connection_stalled)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,i={method:nu(r.protocol).batchSubscribe,params:{topics:t.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await Bf(this.relayer.request(i).catch(n=>this.logger.warn(n)),this.subscribeTimeout)}catch{this.relayer.events.emit(_i.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const r=t[0].relay,i={method:nu(r.protocol).batchFetchMessages,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let n;try{n=await await Bf(this.relayer.request(i).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(_i.connection_stalled)}return n}rpcUnsubscribe(t,r,i){const n={method:nu(i.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(t,r){this.setSubscription(t,k1(Jh({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,Jh({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,i){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,i),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,Jh({},r)),this.topicMap.set(r.topic,t),this.events.emit(xs.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:i}=Je("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const i=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(i.topic,t),this.events.emit(xs.deleted,k1(Jh({},i),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(xs.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const i=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(i),await this.batchSubscribe(i)}}this.events.emit(xs.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=Je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);AF(r)&&this.onBatchSubscribe(r.map((i,n)=>k1(Jh({},t[n]),{id:i})))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const r=await this.rpcBatchFetchMessages(t);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(ih.pulse,async()=>{await this.checkPending()}),this.events.on(xs.created,async t=>{const r=xs.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(xs.deleted,async t=>{const r=xs.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Je("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}}var Yq=Object.defineProperty,Yv=Object.getOwnPropertySymbols,Wq=Object.prototype.hasOwnProperty,Xq=Object.prototype.propertyIsEnumerable,Wv=(e,t,r)=>t in e?Yq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zq=(e,t)=>{for(var r in t)Wq.call(t,r)&&Wv(e,r,t[r]);if(Yv)for(var r of Yv(t))Xq.call(t,r)&&Wv(e,r,t[r]);return e};class tL extends pO{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new Bn.EventEmitter,this.name=GF,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=Xt.toMiliseconds(Xt.THIRTY_SECONDS+Xt.ONE_SECOND),this.request=async r=>{var i,n;this.logger.debug("Publishing Request Payload");const s=r.id||Pa().toString();await this.toEstablishConnection();try{const u=this.provider.request(r);this.requestsInFlight.set(s,{promise:u,request:r}),this.logger.trace({id:s,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - attempt to publish...");const p=await new Promise(async(b,m)=>{const w=()=>{m(new Error(`relayer.request - publish interrupted, id: ${s}`))};this.provider.on(An.disconnect,w);const S=await u;this.provider.off(An.disconnect,w),b(S)});return this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - published"),p}catch(u){throw this.logger.debug(`Failed to Publish Request: ${s}`),u}finally{this.requestsInFlight.delete(s)}},this.resetPingTimeout=()=>{if(K0())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,n;(n=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||n.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(_i.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(_i.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(An.payload,this.onPayloadHandler),this.provider.on(An.connect,this.onConnectHandler),this.provider.on(An.disconnect,this.onDisconnectHandler),this.provider.on(An.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Ni(t.logger,this.name):Ru(vl({level:t.logger||KF})),this.messages=new zq(this.logger,t.core),this.subscriber=new Jq(this,this.logger),this.publisher=new $q(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||V8,this.projectId=t.projectId,this.bundleId=NO(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(t){this.logger.warn(t)}}get context(){return Ji(this.logger)}get connected(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===1}get connecting(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===0}async publish(t,r,i){this.isInitialized(),await this.publisher.publish(t,r,i),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now(),transportType:nr.relay})}async subscribe(t,r){var i;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();let n=((i=this.subscriber.topicMap.get(t))==null?void 0:i[0])||"",s;const u=p=>{p.topic===t&&(this.subscriber.off(xs.created,u),s())};return await Promise.all([new Promise(p=>{s=p,this.subscriber.on(xs.created,u)}),new Promise(async p=>{n=await this.subscriber.subscribe(t,r)||n,p()})]),n}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(t=>t.promise))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await Bf(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,i)=>{const n=()=>{this.provider.off(An.disconnect,n),i(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(An.disconnect,n),await Bf(this.provider.connect(),Xt.toMiliseconds(Xt.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{i(s)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(s=>{this.logger.error(s),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const i=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(i.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Uv())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if((t==null?void 0:t.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=t.sort((i,n)=>i.publishedAt-n.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const i of r)try{await this.onMessageEvent(i)}catch(n){this.logger.warn(n)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(t,r){const{topic:i}=t;if(!r.sessionExists){const n=uu(Xt.FIVE_MINUTES),s={topic:i,expiry:n,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(i,s)}this.events.emit(_i.message,t),await this.recordMessageEvent(t)}startPingTimeout(){var t,r,i,n,s;if(K0())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((s=(n=(i=this.provider)==null?void 0:i.connection)==null?void 0:n.socket)==null||s.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(u){this.logger.warn(u)}}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new cs(new BF(BO({sdkVersion:Vp,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:i}=t;await this.messages.set(r,i)}async shouldIgnoreMessageEvent(t){const{topic:r,message:i}=t;if(!i||i.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const n=this.messages.has(r,i);return n&&this.logger.debug(`Ignoring duplicate message: ${i}`),n}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),x2(t)){if(!t.method.endsWith(QF))return;const r=t.params,{topic:i,message:n,publishedAt:s,attestation:u}=r.data,p={topic:i,message:n,publishedAt:s,transportType:nr.relay,attestation:u};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Zq({type:"event",event:r.id},p)),this.events.emit(r.id,p),await this.acknowledgePayload(t),await this.onMessageEvent(p)}else Il(t)&&this.events.emit(_i.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(_i.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=Sl(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(An.payload,this.onPayloadHandler),this.provider.off(An.connect,this.onConnectHandler),this.provider.off(An.disconnect,this.onDisconnectHandler),this.provider.off(An.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await Uv();DF(async r=>{t!==r&&(t=r,r?await this.restartTransport().catch(i=>this.logger.error(i)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(_i.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t))},Xt.toMiliseconds(VF))))}isInitialized(){if(!this.initialized){const{message:t}=Je("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var eL=Object.defineProperty,Xv=Object.getOwnPropertySymbols,rL=Object.prototype.hasOwnProperty,iL=Object.prototype.propertyIsEnumerable,Zv=(e,t,r)=>t in e?eL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,t6=(e,t)=>{for(var r in t||(t={}))rL.call(t,r)&&Zv(e,r,t[r]);if(Xv)for(var r of Xv(t))iL.call(t,r)&&Zv(e,r,t[r]);return e};class Ya extends gO{constructor(t,r,i,n=Xs,s=void 0){super(t,r,i,n),this.core=t,this.logger=r,this.name=i,this.map=new Map,this.version=JF,this.cached=[],this.initialized=!1,this.storagePrefix=Xs,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(u=>{this.getKey&&u!==null&&!Qp(u)?this.map.set(this.getKey(u),u):EF(u)?this.map.set(u.id,u):MF(u)&&this.map.set(u.topic,u)}),this.cached=[],this.initialized=!0)},this.set=async(u,p)=>{this.isInitialized(),this.map.has(u)?await this.update(u,p):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:u,value:p}),this.map.set(u,p),await this.persist())},this.get=u=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:u}),this.getData(u)),this.getAll=u=>(this.isInitialized(),u?this.values.filter(p=>Object.keys(u).every(b=>JC(p[b],u[b]))):this.values),this.update=async(u,p)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:u,update:p});const b=t6(t6({},this.getData(u)),p);this.map.set(u,b),await this.persist()},this.delete=async(u,p)=>{this.isInitialized(),this.map.has(u)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:u,reason:p}),this.map.delete(u),this.addToRecentlyDeleted(u),await this.persist())},this.logger=Ni(r,this.name),this.storagePrefix=n,this.getKey=s}get context(){return Ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){const{message:n}=Je("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}const{message:i}=Je("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=Je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=Je("NOT_INITIALIZED",this.name);throw new Error(t)}}}class nL{constructor(t,r){this.core=t,this.logger=r,this.name=tU,this.version=eU,this.events=new h2,this.initialized=!1,this.storagePrefix=Xs,this.ignoredPayloadTypes=[dh],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async i=>{this.isInitialized();const n=jp(),s=await this.core.crypto.setSymKey(n),u=uu(Xt.FIVE_MINUTES),p={protocol:Q8},b={topic:s,expiry:u,relay:p,active:!1,methods:i==null?void 0:i.methods},m=Fv({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:n,relay:p,expiryTimestamp:u,methods:i==null?void 0:i.methods});return this.events.emit(Ra.create,b),this.core.expirer.set(s,u),await this.pairings.set(s,b),await this.core.relayer.subscribe(s,{transportType:i==null?void 0:i.transportType}),{topic:s,uri:m}},this.pair=async i=>{this.isInitialized();const n=this.core.eventClient.createEvent({properties:{topic:i==null?void 0:i.uri,trace:[ws.pairing_started]}});this.isValidPair(i,n);const{topic:s,symKey:u,relay:p,expiryTimestamp:b,methods:m}=Tv(i.uri);n.props.properties.topic=s,n.addTrace(ws.pairing_uri_validation_success),n.addTrace(ws.pairing_uri_not_expired);let w;if(this.pairings.keys.includes(s)){if(w=this.pairings.get(s),n.addTrace(ws.existing_pairing),w.active)throw n.setError(Ao.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);n.addTrace(ws.pairing_not_expired)}const S=b||uu(Xt.FIVE_MINUTES),D={topic:s,relay:p,expiry:S,active:!1,methods:m};this.core.expirer.set(s,S),await this.pairings.set(s,D),n.addTrace(ws.store_new_pairing),i.activatePairing&&await this.activate({topic:s}),this.events.emit(Ra.create,D),n.addTrace(ws.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(u,s),n.addTrace(ws.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{n.setError(Ao.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:p})}catch(N){throw n.setError(Ao.subscribe_pairing_topic_failure),N}return n.addTrace(ws.subscribe_pairing_topic_success),D},this.activate=async({topic:i})=>{this.isInitialized();const n=uu(Xt.THIRTY_DAYS);this.core.expirer.set(i,n),await this.pairings.update(i,{active:!0,expiry:n})},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);const{topic:n}=i;if(this.pairings.keys.includes(n)){const s=await this.sendRequest(n,"wc_pairingPing",{}),{done:u,resolve:p,reject:b}=TO();this.events.once(M1("pairing_ping",s),({error:m})=>{m?b(m):p()}),await u()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",su("USER_DISCONNECTED")),await this.deletePairing(n))},this.formatUriFromPairing=i=>{this.isInitialized();const{topic:n,relay:s,expiry:u,methods:p}=i,b=this.core.crypto.keychain.get(n);return Fv({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:b,relay:s,expiryTimestamp:u,methods:p})},this.sendRequest=async(i,n,s)=>{const u=sa(n,s),p=await this.core.crypto.encode(i,u),b=Qh[n].req;return this.core.history.set(i,u),this.core.relayer.publish(i,p,b),u.id},this.sendResult=async(i,n,s)=>{const u=Sl(i,s),p=await this.core.crypto.encode(n,u),b=await this.core.history.get(n,i),m=Qh[b.request.method].res;await this.core.relayer.publish(n,p,m),await this.core.history.resolve(u)},this.sendError=async(i,n,s)=>{const u=xl(i,s),p=await this.core.crypto.encode(n,u),b=await this.core.history.get(n,i),m=Qh[b.request.method]?Qh[b.request.method].res:Qh.unregistered_method.res;await this.core.relayer.publish(n,p,m),await this.core.history.resolve(u)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,su("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{const i=this.pairings.getAll().filter(n=>fv(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{const{topic:n,payload:s}=i;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(n,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,s);default:return this.onUnknownRpcMethodRequest(n,s)}},this.onRelayEventResponse=async i=>{const{topic:n,payload:s}=i,u=(await this.core.history.get(n,s.id)).request.method;switch(u){case"wc_pairingPing":return this.onPairingPingResponse(n,s);default:return this.onUnknownRpcMethodResponse(u)}},this.onPairingPingRequest=async(i,n)=>{const{id:s}=n;try{this.isValidPing({topic:i}),await this.sendResult(s,i,!0),this.events.emit(Ra.ping,{id:s,topic:i})}catch(u){await this.sendError(s,i,u),this.logger.error(u)}},this.onPairingPingResponse=(i,n)=>{const{id:s}=n;setTimeout(()=>{As(n)?this.events.emit(M1("pairing_ping",s),{}):Dn(n)&&this.events.emit(M1("pairing_ping",s),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(Ra.delete,{id:s,topic:i})}catch(u){await this.sendError(s,i,u),this.logger.error(u)}},this.onUnknownRpcMethodRequest=async(i,n)=>{const{id:s,method:u}=n;try{if(this.registeredMethods.includes(u))return;const p=su("WC_METHOD_UNSUPPORTED",u);await this.sendError(s,i,p),this.logger.error(p)}catch(p){await this.sendError(s,i,p),this.logger.error(p)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(su("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=(i,n)=>{var s;if(!q1(i)){const{message:p}=Je("MISSING_OR_INVALID",`pair() params: ${i}`);throw n.setError(Ao.malformed_pairing_uri),new Error(p)}if(!_F(i.uri)){const{message:p}=Je("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw n.setError(Ao.malformed_pairing_uri),new Error(p)}const u=Tv(i==null?void 0:i.uri);if(!((s=u==null?void 0:u.relay)!=null&&s.protocol)){const{message:p}=Je("MISSING_OR_INVALID","pair() uri#relay-protocol");throw n.setError(Ao.malformed_pairing_uri),new Error(p)}if(!(u!=null&&u.symKey)){const{message:p}=Je("MISSING_OR_INVALID","pair() uri#symKey");throw n.setError(Ao.malformed_pairing_uri),new Error(p)}if(u!=null&&u.expiryTimestamp&&Xt.toMiliseconds(u==null?void 0:u.expiryTimestamp)<Date.now()){n.setError(Ao.pairing_expired);const{message:p}=Je("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(p)}},this.isValidPing=async i=>{if(!q1(i)){const{message:s}=Je("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!q1(i)){const{message:s}=Je("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!j8(i)){const{message:n}=Je("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){const{message:n}=Je("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(fv(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:n}=Je("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=t,this.logger=Ni(r,this.name),this.pairings=new Ya(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ji(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=Je("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(_i.message,async t=>{const{topic:r,message:i,transportType:n}=t;if(!this.pairings.keys.includes(r)||n===nr.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;const s=await this.core.crypto.decode(r,i);try{x2(s)?(this.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):Il(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id))}catch(u){this.logger.error(u)}})}registerExpirerEvents(){this.core.expirer.on(Mn.expired,async t=>{const{topic:r}=qO(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Ra.expire,{topic:r}))})}}class sL extends cO{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new Bn.EventEmitter,this.name=rU,this.version=iU,this.cached=[],this.initialized=!1,this.storagePrefix=Xs,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:s}),this.records.has(n.id))return;const u={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:s,expiry:uu(Xt.THIRTY_DAYS)};this.records.set(u.id,u),this.persist(),this.events.emit(Kn.created,u)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=Dn(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.persist(),this.events.emit(Kn.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(s=>{if(s.topic===i){if(typeof n<"u"&&s.id!==n)return;this.records.delete(s.id),this.events.emit(Kn.deleted,s)}}),this.persist()},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=Ni(r,this.name)}get context(){return Ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const i={topic:r.topic,request:sa(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(i)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:i}=Je("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Kn.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=Je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(Kn.created,t=>{const r=Kn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(Kn.updated,t=>{const r=Kn.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(Kn.deleted,t=>{const r=Kn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(ih.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{Xt.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Kn.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=Je("NOT_INITIALIZED",this.name);throw new Error(t)}}}class oL extends vO{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new Bn.EventEmitter,this.name=nU,this.version=sU,this.cached=[],this.initialized=!1,this.storagePrefix=Xs,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{const n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();const s=this.formatTarget(i),u={target:s,expiry:n};this.expirations.set(s,u),this.checkExpiry(s,u),this.events.emit(Mn.created,{target:s,expiration:u})},this.get=i=>{this.isInitialized();const n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{if(this.isInitialized(),this.has(i)){const n=this.formatTarget(i),s=this.getExpiration(n);this.expirations.delete(n),this.events.emit(Mn.deleted,{target:n,expiration:s})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=Ni(r,this.name)}get context(){return Ji(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return FO(t);if(typeof t=="number")return UO(t);const{message:r}=Je("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Mn.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=Je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:i}=Je("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(i),new Error(i)}return r}checkExpiry(t,r){const{expiry:i}=r;Xt.toMiliseconds(i)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(Mn.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(ih.pulse,()=>this.checkExpirations()),this.events.on(Mn.created,t=>{const r=Mn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Mn.expired,t=>{const r=Mn.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Mn.deleted,t=>{const r=Mn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Je("NOT_INITIALIZED",this.name);throw new Error(t)}}}var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.getLocalStorage=ur.getLocalStorageOrThrow=ur.getCrypto=ur.getCryptoOrThrow=ur.getLocation=ur.getLocationOrThrow=ur.getNavigator=ur.getNavigatorOrThrow=o5=ur.getDocument=ur.getDocumentOrThrow=ur.getFromWindowOrThrow=ur.getFromWindow=void 0;function Wa(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}ur.getFromWindow=Wa;function ph(e){const t=Wa(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}ur.getFromWindowOrThrow=ph;function aL(){return ph("document")}ur.getDocumentOrThrow=aL;function fL(){return Wa("document")}var o5=ur.getDocument=fL;function hL(){return ph("navigator")}ur.getNavigatorOrThrow=hL;function uL(){return Wa("navigator")}ur.getNavigator=uL;function cL(){return ph("location")}ur.getLocationOrThrow=cL;function lL(){return Wa("location")}ur.getLocation=lL;function dL(){return ph("crypto")}ur.getCryptoOrThrow=dL;function pL(){return Wa("crypto")}ur.getCrypto=pL;function gL(){return ph("localStorage")}ur.getLocalStorageOrThrow=gL;function mL(){return Wa("localStorage")}ur.getLocalStorage=mL;class vL extends bO{constructor(t,r,i){super(t,r,i),this.core=t,this.logger=r,this.store=i,this.name=oU,this.verifyUrlV3=fU,this.storagePrefix=Xs,this.version=G8,this.init=async()=>{var n;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Xt.toMiliseconds((n=this.publicKey)==null?void 0:n.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async n=>{if(!Nl()||this.isDevEnv)return;const s=window.location.origin,{id:u,decryptedId:p}=n,b=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${u}&decryptedId=${p}`;try{const m=o5(),w=this.startAbortTimer(Xt.ONE_SECOND*5),S=await new Promise((D,N)=>{const P=()=>{window.removeEventListener("message",k),m.body.removeChild(L),N("attestation aborted")};this.abortController.signal.addEventListener("abort",P);const L=m.createElement("iframe");L.src=b,L.style.display="none",L.addEventListener("error",P,{signal:this.abortController.signal});const k=Y=>{if(Y.data&&typeof Y.data=="string")try{const Q=JSON.parse(Y.data);if(Q.type==="verify_attestation"){if(Sp(Q.attestation).payload.id!==u)return;clearInterval(w),m.body.removeChild(L),this.abortController.signal.removeEventListener("abort",P),window.removeEventListener("message",k),D(Q.attestation===null?"":Q.attestation)}}catch(Q){this.logger.warn(Q)}};m.body.appendChild(L),window.addEventListener("message",k,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",S),S}catch(m){this.logger.warn(m)}return""},this.resolve=async n=>{if(this.isDevEnv)return"";const{attestationId:s,hash:u,encryptedId:p}=n;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(Sp(s).payload.id!==p)return;const m=await this.isValidJwtAttestation(s);if(m){if(!m.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return m}}if(!u)return;const b=this.getVerifyUrl(n==null?void 0:n.verifyUrl);return this.fetchAttestation(u,b)},this.fetchAttestation=async(n,s)=>{this.logger.debug(`resolving attestation: ${n} from url: ${s}`);const u=this.startAbortTimer(Xt.ONE_SECOND*5),p=await fetch(`${s}/attestation/${n}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(u),p.status===200?await p.json():void 0},this.getVerifyUrl=n=>{let s=n||pu;return hU.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${pu}`),s=pu),s},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const n=this.startAbortTimer(Xt.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(n),await s.json()}catch(n){this.logger.warn(n)}},this.persistPublicKey=async n=>{this.logger.debug("persisting public key to local storage",n),await this.store.setItem(this.storeKey,n),this.publicKey=n},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async n=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(n,s)}catch(p){this.logger.error(p),this.logger.warn("error validating attestation")}const u=await this.fetchAndPersistPublicKey();try{if(u)return this.validateAttestation(n,u)}catch(p){this.logger.error(p),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const u=await this.fetchPublicKey();u&&(await this.persistPublicKey(u),s(u))});const n=await this.fetchPromise;return this.fetchPromise=void 0,n},this.validateAttestation=(n,s)=>{const u=fF(n,s.publicKey),p={hasExpired:Xt.toMiliseconds(u.exp)<Date.now(),payload:u};if(p.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:p.payload.origin,isScam:p.payload.isScam,isVerified:p.payload.isVerified}},this.logger=Ni(r,this.name),this.abortController=new AbortController,this.isDevEnv=s8(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ji(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Xt.toMiliseconds(t))}}class bL extends yO{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.context=uU,this.registerDeviceToken=async i=>{const{clientId:n,token:s,notificationType:u,enableEncrypted:p=!1}=i,b=`${cU}/${this.projectId}/clients`;await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:n,type:u,token:s,always_raw:p})})},this.logger=Ni(r,this.context)}}var yL=Object.defineProperty,e6=Object.getOwnPropertySymbols,wL=Object.prototype.hasOwnProperty,AL=Object.prototype.propertyIsEnumerable,r6=(e,t,r)=>t in e?yL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Yh=(e,t)=>{for(var r in t||(t={}))wL.call(t,r)&&r6(e,r,t[r]);if(e6)for(var r of e6(t))AL.call(t,r)&&r6(e,r,t[r]);return e};let _L=class extends wO{constructor(t,r,i=!0){super(t,r,i),this.core=t,this.logger=r,this.context=dU,this.storagePrefix=Xs,this.storageVersion=lU,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!s8())try{const n={eventId:hv(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:e8(this.core.relayer.protocol,this.core.relayer.version,Vp)}}};await this.sendEvent([n])}catch(n){this.logger.warn(n)}},this.createEvent=n=>{const{event:s="ERROR",type:u="",properties:{topic:p,trace:b}}=n,m=hv(),w=this.core.projectId||"",S=Date.now(),D=Yh({eventId:m,timestamp:S,props:{event:s,type:u,properties:{topic:p,trace:b}},bundleId:w,domain:this.getAppDomain()},this.setMethods(m));return this.telemetryEnabled&&(this.events.set(m,D),this.shouldPersist=!0),D},this.getEvent=n=>{const{eventId:s,topic:u}=n;if(s)return this.events.get(s);const p=Array.from(this.events.values()).find(b=>b.props.properties.topic===u);if(p)return Yh(Yh({},p),this.setMethods(p.eventId))},this.deleteEvent=n=>{const{eventId:s}=n;this.events.delete(s),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(ih.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(n=>{Xt.fromMiliseconds(Date.now())-Xt.fromMiliseconds(n.timestamp)>pU&&(this.events.delete(n.eventId),this.shouldPersist=!0)})})},this.setMethods=n=>({addTrace:s=>this.addTrace(n,s),setError:s=>this.setError(n,s)}),this.addTrace=(n,s)=>{const u=this.events.get(n);u&&(u.props.properties.trace.push(s),this.events.set(n,u),this.shouldPersist=!0)},this.setError=(n,s)=>{const u=this.events.get(n);u&&(u.props.type=s,u.timestamp=Date.now(),this.events.set(n,u),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const n=await this.core.storage.getItem(this.storageKey)||[];if(!n.length)return;n.forEach(s=>{this.events.set(s.eventId,Yh(Yh({},s),this.setMethods(s.eventId)))})}catch(n){this.logger.warn(n)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const n=[];for(const[s,u]of this.events)u.props.type&&n.push(u);if(n.length!==0)try{if((await this.sendEvent(n)).ok)for(const s of n)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}},this.sendEvent=async n=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${gU}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Vp}${s}`,{method:"POST",body:JSON.stringify(n)})},this.getAppDomain=()=>RO().url,this.logger=Ni(r,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var EL=Object.defineProperty,i6=Object.getOwnPropertySymbols,ML=Object.prototype.hasOwnProperty,SL=Object.prototype.propertyIsEnumerable,n6=(e,t,r)=>t in e?EL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s6=(e,t)=>{for(var r in t||(t={}))ML.call(t,r)&&n6(e,r,t[r]);if(i6)for(var r of i6(t))SL.call(t,r)&&n6(e,r,t[r]);return e};let xL=class a5 extends uO{constructor(t){var r;super(t),this.protocol=K8,this.version=G8,this.name=T2,this.events=new Bn.EventEmitter,this.initialized=!1,this.on=(u,p)=>this.events.on(u,p),this.once=(u,p)=>this.events.once(u,p),this.off=(u,p)=>this.events.off(u,p),this.removeListener=(u,p)=>this.events.removeListener(u,p),this.dispatchEnvelope=({topic:u,message:p,sessionExists:b})=>{if(!u||!p)return;const m={topic:u,message:p,publishedAt:Date.now(),transportType:nr.link_mode};this.relayer.onLinkMessageEvent(m,{sessionExists:b})},this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||V8,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=vl({level:typeof(t==null?void 0:t.logger)=="string"&&t.logger?t.logger:TF.logger}),{logger:n,chunkLoggerController:s}=TI({opts:i,maxSizeInBytes:t==null?void 0:t.maxLogBlobSizeInBytes,loggerOverride:t==null?void 0:t.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var u,p;(u=this.logChunkController)!=null&&u.downloadLogsBlobInBrowser&&((p=this.logChunkController)==null||p.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ni(n,this.name),this.heartbeat=new Ix,this.crypto=new kq(this,this.logger,t==null?void 0:t.keychain),this.history=new sL(this,this.logger),this.expirer=new oL(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new aI(s6(s6({},FF),t==null?void 0:t.storageOptions)),this.relayer=new tL({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new nL(this,this.logger),this.verify=new vL(this,this.logger,this.storage),this.echoClient=new bL(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new _L(this,this.logger,t==null?void 0:t.telemetryEnabled)}static async init(t){const r=new a5(t);await r.initialize();const i=await r.crypto.getClientId();return await r.storage.setItem(YF,i),r}get context(){return Ji(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(zv,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(zv)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}};const IL=xL;var DL={};const NL=":";function z1(e){const[t,r]=e.split(NL);return{namespace:t,reference:r}}function f5(e,t){return e.includes(":")?[e]:t.chains||[]}const CL="ReactNative",Pf={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function h5(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function u5(){return!oh()&&!!Bu()&&navigator.product===CL}function c5(){return!h5()&&!!Bu()&&!!oh()}function RL(){return u5()?Pf.reactNative:h5()?Pf.node:c5()?Pf.browser:Pf.unknown}function PL(){return A2()||{name:"",description:"",url:"",icons:[""]}}function Oa(e,t){return e.filter(r=>t.includes(r)).length===e.length}function Af(e=Xt.FIVE_MINUTES,t){const r=Xt.toMiliseconds(e||Xt.FIVE_MINUTES);let i,n,s;return{resolve:u=>{s&&i&&(clearTimeout(s),i(u))},reject:u=>{s&&n&&(clearTimeout(s),n(u))},done:()=>new Promise((u,p)=>{s=setTimeout(()=>{p(new Error(t))},r),i=u,n=p})}}function OL(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")i.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function Ui(e,t){return Xt.fromMiliseconds(Date.now()+Xt.toMiliseconds(e))}function _f(e){return Date.now()>=Xt.toMiliseconds(e)}function Ge(e,t){return`${e}${t?`:${t}`:""}`}function BL(e=[],t=[]){return[...new Set([...e,...t])]}async function TL({id:e,topic:t,wcDeepLink:r}){var i;try{if(!r)return;const n=typeof r=="string"?JSON.parse(r):r,s=n==null?void 0:n.href;if(typeof s!="string")return;const u=FL(s,e,t),p=RL();if(p===Pf.browser){if(!((i=oh())!=null&&i.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}u.startsWith("https://")||u.startsWith("http://")?window.open(u,"_blank","noreferrer noopener"):window.open(u,LL()?"_blank":"_self","noreferrer noopener")}else p===Pf.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(u)}catch(n){console.error(n)}}function FL(e,t,r){const i=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let n=`${e}`;if(e.startsWith("https://t.me")){const s=e.includes("?")?"&startapp=":"?startapp=";n=`${n}${s}${kL(i,!0)}`}else n=`${n}/wc?${i}`;return n}async function UL(e,t){let r="";try{if(c5()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(i){console.error(i)}return r}function o6(e,t){if(!e.includes(t))return null;const r=e.split(/([&,?,=])/),i=r.indexOf(t);return r[i+2]}function qL(){return typeof process<"u"&&DL.IS_VITEST==="true"}function LL(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function kL(e,t=!1){const r=Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}var l5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zL(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var d5={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var s=!i&&typeof self=="object",u=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;u?n=l5:s&&(n=self);var p=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,b=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",m="0123456789abcdef".split(""),w=[31,7936,2031616,520093696],S=[4,1024,262144,67108864],D=[1,256,65536,16777216],N=[6,1536,393216,100663296],P=[0,8,16,24],L=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],Y=[128,256],Q=["hex","buffer","arrayBuffer","array","digest"],X={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(g){return Object.prototype.toString.call(g)==="[object Array]"}),b&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(g){return typeof g=="object"&&g.buffer&&g.buffer.constructor===ArrayBuffer});for(var $=function(g,F,O){return function(B){return new _(g,F,g).update(B)[O]()}},j=function(g,F,O){return function(B,q){return new _(g,F,q).update(B)[O]()}},K=function(g,F,O){return function(B,q,x,T){return h["cshake"+g].update(B,q,x,T)[O]()}},C=function(g,F,O){return function(B,q,x,T){return h["kmac"+g].update(B,q,x,T)[O]()}},z=function(g,F,O,B){for(var q=0;q<Q.length;++q){var x=Q[q];g[x]=F(O,B,x)}return g},st=function(g,F){var O=$(g,F,"hex");return O.create=function(){return new _(g,F,g)},O.update=function(B){return O.create().update(B)},z(O,$,g,F)},dt=function(g,F){var O=j(g,F,"hex");return O.create=function(B){return new _(g,F,B)},O.update=function(B,q){return O.create(q).update(B)},z(O,j,g,F)},H=function(g,F){var O=X[g],B=K(g,F,"hex");return B.create=function(q,x,T){return!x&&!T?h["shake"+g].create(q):new _(g,F,q).bytepad([x,T],O)},B.update=function(q,x,T,Z){return B.create(x,T,Z).update(q)},z(B,K,g,F)},I=function(g,F){var O=X[g],B=C(g,F,"hex");return B.create=function(q,x,T){return new J(g,F,x).bytepad(["KMAC",T],O).bytepad([q],O)},B.update=function(q,x,T,Z){return B.create(q,T,Z).update(x)},z(B,C,g,F)},o=[{name:"keccak",padding:D,bits:k,createMethod:st},{name:"sha3",padding:N,bits:k,createMethod:st},{name:"shake",padding:w,bits:Y,createMethod:dt},{name:"cshake",padding:S,bits:Y,createMethod:H},{name:"kmac",padding:S,bits:Y,createMethod:I}],h={},c=[],v=0;v<o.length;++v)for(var y=o[v],M=y.bits,E=0;E<M.length;++E){var d=y.name+"_"+M[E];if(c.push(d),h[d]=y.createMethod(M[E],y.padding),y.name!=="sha3"){var f=y.name+M[E];c.push(f),h[f]=h[d]}}function _(g,F,O){this.blocks=[],this.s=[],this.padding=F,this.outputBits=O,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(g<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=O>>5,this.extraBytes=(O&31)>>3;for(var B=0;B<50;++B)this.s[B]=0}_.prototype.update=function(g){if(this.finalized)throw new Error(r);var F,O=typeof g;if(O!=="string"){if(O==="object"){if(g===null)throw new Error(t);if(b&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!b||!ArrayBuffer.isView(g)))throw new Error(t)}else throw new Error(t);F=!0}for(var B=this.blocks,q=this.byteCount,x=g.length,T=this.blockCount,Z=0,it=this.s,et,pt;Z<x;){if(this.reset)for(this.reset=!1,B[0]=this.block,et=1;et<T+1;++et)B[et]=0;if(F)for(et=this.start;Z<x&&et<q;++Z)B[et>>2]|=g[Z]<<P[et++&3];else for(et=this.start;Z<x&&et<q;++Z)pt=g.charCodeAt(Z),pt<128?B[et>>2]|=pt<<P[et++&3]:pt<2048?(B[et>>2]|=(192|pt>>6)<<P[et++&3],B[et>>2]|=(128|pt&63)<<P[et++&3]):pt<55296||pt>=57344?(B[et>>2]|=(224|pt>>12)<<P[et++&3],B[et>>2]|=(128|pt>>6&63)<<P[et++&3],B[et>>2]|=(128|pt&63)<<P[et++&3]):(pt=65536+((pt&1023)<<10|g.charCodeAt(++Z)&1023),B[et>>2]|=(240|pt>>18)<<P[et++&3],B[et>>2]|=(128|pt>>12&63)<<P[et++&3],B[et>>2]|=(128|pt>>6&63)<<P[et++&3],B[et>>2]|=(128|pt&63)<<P[et++&3]);if(this.lastByteIndex=et,et>=q){for(this.start=et-q,this.block=B[T],et=0;et<T;++et)it[et]^=B[et];W(it),this.reset=!0}else this.start=et}return this},_.prototype.encode=function(g,F){var O=g&255,B=1,q=[O];for(g=g>>8,O=g&255;O>0;)q.unshift(O),g=g>>8,O=g&255,++B;return F?q.push(B):q.unshift(B),this.update(q),q.length},_.prototype.encodeString=function(g){var F,O=typeof g;if(O!=="string"){if(O==="object"){if(g===null)throw new Error(t);if(b&&g.constructor===ArrayBuffer)g=new Uint8Array(g);else if(!Array.isArray(g)&&(!b||!ArrayBuffer.isView(g)))throw new Error(t)}else throw new Error(t);F=!0}var B=0,q=g.length;if(F)B=q;else for(var x=0;x<g.length;++x){var T=g.charCodeAt(x);T<128?B+=1:T<2048?B+=2:T<55296||T>=57344?B+=3:(T=65536+((T&1023)<<10|g.charCodeAt(++x)&1023),B+=4)}return B+=this.encode(B*8),this.update(g),B},_.prototype.bytepad=function(g,F){for(var O=this.encode(F),B=0;B<g.length;++B)O+=this.encodeString(g[B]);var q=F-O%F,x=[];return x.length=q,this.update(x),this},_.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var g=this.blocks,F=this.lastByteIndex,O=this.blockCount,B=this.s;if(g[F>>2]|=this.padding[F&3],this.lastByteIndex===this.byteCount)for(g[0]=g[O],F=1;F<O+1;++F)g[F]=0;for(g[O-1]|=2147483648,F=0;F<O;++F)B[F]^=g[F];W(B)}},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var g=this.blockCount,F=this.s,O=this.outputBlocks,B=this.extraBytes,q=0,x=0,T="",Z;x<O;){for(q=0;q<g&&x<O;++q,++x)Z=F[q],T+=m[Z>>4&15]+m[Z&15]+m[Z>>12&15]+m[Z>>8&15]+m[Z>>20&15]+m[Z>>16&15]+m[Z>>28&15]+m[Z>>24&15];x%g===0&&(W(F),q=0)}return B&&(Z=F[q],T+=m[Z>>4&15]+m[Z&15],B>1&&(T+=m[Z>>12&15]+m[Z>>8&15]),B>2&&(T+=m[Z>>20&15]+m[Z>>16&15])),T},_.prototype.arrayBuffer=function(){this.finalize();var g=this.blockCount,F=this.s,O=this.outputBlocks,B=this.extraBytes,q=0,x=0,T=this.outputBits>>3,Z;B?Z=new ArrayBuffer(O+1<<2):Z=new ArrayBuffer(T);for(var it=new Uint32Array(Z);x<O;){for(q=0;q<g&&x<O;++q,++x)it[x]=F[q];x%g===0&&W(F)}return B&&(it[q]=F[q],Z=Z.slice(0,T)),Z},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var g=this.blockCount,F=this.s,O=this.outputBlocks,B=this.extraBytes,q=0,x=0,T=[],Z,it;x<O;){for(q=0;q<g&&x<O;++q,++x)Z=x<<2,it=F[q],T[Z]=it&255,T[Z+1]=it>>8&255,T[Z+2]=it>>16&255,T[Z+3]=it>>24&255;x%g===0&&W(F)}return B&&(Z=x<<2,it=F[q],T[Z]=it&255,B>1&&(T[Z+1]=it>>8&255),B>2&&(T[Z+2]=it>>16&255)),T};function J(g,F,O){_.call(this,g,F,O)}J.prototype=new _,J.prototype.finalize=function(){return this.encode(this.outputBits,!0),_.prototype.finalize.call(this)};var W=function(g){var F,O,B,q,x,T,Z,it,et,pt,gt,_t,re,bt,Et,Qt,ct,yt,Wt,ht,wt,Kt,ut,It,Vt,mt,Rt,te,vt,Pt,ue,Tt,Jt,ce,Ft,Yt,de,Mt,Lt,se,St,kt,ie,Dt,jt,oe,Nt,zt,fe,xt,qt,he,Ct,Zt,be,Ht,Gt,ze,$e,He,je,Ke,Ie;for(B=0;B<48;B+=2)q=g[0]^g[10]^g[20]^g[30]^g[40],x=g[1]^g[11]^g[21]^g[31]^g[41],T=g[2]^g[12]^g[22]^g[32]^g[42],Z=g[3]^g[13]^g[23]^g[33]^g[43],it=g[4]^g[14]^g[24]^g[34]^g[44],et=g[5]^g[15]^g[25]^g[35]^g[45],pt=g[6]^g[16]^g[26]^g[36]^g[46],gt=g[7]^g[17]^g[27]^g[37]^g[47],_t=g[8]^g[18]^g[28]^g[38]^g[48],re=g[9]^g[19]^g[29]^g[39]^g[49],F=_t^(T<<1|Z>>>31),O=re^(Z<<1|T>>>31),g[0]^=F,g[1]^=O,g[10]^=F,g[11]^=O,g[20]^=F,g[21]^=O,g[30]^=F,g[31]^=O,g[40]^=F,g[41]^=O,F=q^(it<<1|et>>>31),O=x^(et<<1|it>>>31),g[2]^=F,g[3]^=O,g[12]^=F,g[13]^=O,g[22]^=F,g[23]^=O,g[32]^=F,g[33]^=O,g[42]^=F,g[43]^=O,F=T^(pt<<1|gt>>>31),O=Z^(gt<<1|pt>>>31),g[4]^=F,g[5]^=O,g[14]^=F,g[15]^=O,g[24]^=F,g[25]^=O,g[34]^=F,g[35]^=O,g[44]^=F,g[45]^=O,F=it^(_t<<1|re>>>31),O=et^(re<<1|_t>>>31),g[6]^=F,g[7]^=O,g[16]^=F,g[17]^=O,g[26]^=F,g[27]^=O,g[36]^=F,g[37]^=O,g[46]^=F,g[47]^=O,F=pt^(q<<1|x>>>31),O=gt^(x<<1|q>>>31),g[8]^=F,g[9]^=O,g[18]^=F,g[19]^=O,g[28]^=F,g[29]^=O,g[38]^=F,g[39]^=O,g[48]^=F,g[49]^=O,bt=g[0],Et=g[1],oe=g[11]<<4|g[10]>>>28,Nt=g[10]<<4|g[11]>>>28,te=g[20]<<3|g[21]>>>29,vt=g[21]<<3|g[20]>>>29,He=g[31]<<9|g[30]>>>23,je=g[30]<<9|g[31]>>>23,kt=g[40]<<18|g[41]>>>14,ie=g[41]<<18|g[40]>>>14,ce=g[2]<<1|g[3]>>>31,Ft=g[3]<<1|g[2]>>>31,Qt=g[13]<<12|g[12]>>>20,ct=g[12]<<12|g[13]>>>20,zt=g[22]<<10|g[23]>>>22,fe=g[23]<<10|g[22]>>>22,Pt=g[33]<<13|g[32]>>>19,ue=g[32]<<13|g[33]>>>19,Ke=g[42]<<2|g[43]>>>30,Ie=g[43]<<2|g[42]>>>30,Zt=g[5]<<30|g[4]>>>2,be=g[4]<<30|g[5]>>>2,Yt=g[14]<<6|g[15]>>>26,de=g[15]<<6|g[14]>>>26,yt=g[25]<<11|g[24]>>>21,Wt=g[24]<<11|g[25]>>>21,xt=g[34]<<15|g[35]>>>17,qt=g[35]<<15|g[34]>>>17,Tt=g[45]<<29|g[44]>>>3,Jt=g[44]<<29|g[45]>>>3,It=g[6]<<28|g[7]>>>4,Vt=g[7]<<28|g[6]>>>4,Ht=g[17]<<23|g[16]>>>9,Gt=g[16]<<23|g[17]>>>9,Mt=g[26]<<25|g[27]>>>7,Lt=g[27]<<25|g[26]>>>7,ht=g[36]<<21|g[37]>>>11,wt=g[37]<<21|g[36]>>>11,he=g[47]<<24|g[46]>>>8,Ct=g[46]<<24|g[47]>>>8,Dt=g[8]<<27|g[9]>>>5,jt=g[9]<<27|g[8]>>>5,mt=g[18]<<20|g[19]>>>12,Rt=g[19]<<20|g[18]>>>12,ze=g[29]<<7|g[28]>>>25,$e=g[28]<<7|g[29]>>>25,se=g[38]<<8|g[39]>>>24,St=g[39]<<8|g[38]>>>24,Kt=g[48]<<14|g[49]>>>18,ut=g[49]<<14|g[48]>>>18,g[0]=bt^~Qt&yt,g[1]=Et^~ct&Wt,g[10]=It^~mt&te,g[11]=Vt^~Rt&vt,g[20]=ce^~Yt&Mt,g[21]=Ft^~de&Lt,g[30]=Dt^~oe&zt,g[31]=jt^~Nt&fe,g[40]=Zt^~Ht&ze,g[41]=be^~Gt&$e,g[2]=Qt^~yt&ht,g[3]=ct^~Wt&wt,g[12]=mt^~te&Pt,g[13]=Rt^~vt&ue,g[22]=Yt^~Mt&se,g[23]=de^~Lt&St,g[32]=oe^~zt&xt,g[33]=Nt^~fe&qt,g[42]=Ht^~ze&He,g[43]=Gt^~$e&je,g[4]=yt^~ht&Kt,g[5]=Wt^~wt&ut,g[14]=te^~Pt&Tt,g[15]=vt^~ue&Jt,g[24]=Mt^~se&kt,g[25]=Lt^~St&ie,g[34]=zt^~xt&he,g[35]=fe^~qt&Ct,g[44]=ze^~He&Ke,g[45]=$e^~je&Ie,g[6]=ht^~Kt&bt,g[7]=wt^~ut&Et,g[16]=Pt^~Tt&It,g[17]=ue^~Jt&Vt,g[26]=se^~kt&ce,g[27]=St^~ie&Ft,g[36]=xt^~he&Dt,g[37]=qt^~Ct&jt,g[46]=He^~Ke&Zt,g[47]=je^~Ie&be,g[8]=Kt^~bt&Qt,g[9]=ut^~Et&ct,g[18]=Tt^~It&mt,g[19]=Jt^~Vt&Rt,g[28]=kt^~ce&Yt,g[29]=ie^~Ft&de,g[38]=he^~Dt&oe,g[39]=Ct^~jt&Nt,g[48]=Ke^~Zt&Ht,g[49]=Ie^~be&Gt,g[0]^=L[B],g[1]^=L[B+1]};if(p)e.exports=h;else for(v=0;v<c.length;++v)n[c[v]]=h[c[v]]})()})(d5);var $L=d5.exports;const HL="logger/5.7.0";let a6=!1,f6=!1;const x0={debug:1,default:2,info:2,warning:3,error:4,off:5};let h6=x0.default,$1=null;function jL(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(e){return e.message}return null}const u6=jL();var Wp;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(Wp||(Wp={}));var ts;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(ts||(ts={}));const c6="0123456789abcdef";let ri=class Lr{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();x0[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(h6>x0[i])&&console.log.apply(console,r)}debug(...t){this._log(Lr.levels.DEBUG,t)}info(...t){this._log(Lr.levels.INFO,t)}warn(...t){this._log(Lr.levels.WARNING,t)}makeError(t,r,i){if(f6)return this.makeError("censored error",r,{});r||(r=Lr.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(b=>{const m=i[b];try{if(m instanceof Uint8Array){let w="";for(let S=0;S<m.length;S++)w+=c6[m[S]>>4],w+=c6[m[S]&15];n.push(b+"=Uint8Array(0x"+w+")")}else n.push(b+"="+JSON.stringify(m))}catch{n.push(b+"="+JSON.stringify(i[b].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const s=t;let u="";switch(r){case ts.NUMERIC_FAULT:{u="NUMERIC_FAULT";const b=t;switch(b){case"overflow":case"underflow":case"division-by-zero":u+="-"+b;break;case"negative-power":case"negative-width":u+="-unsupported";break;case"unbound-bitwise-result":u+="-unbound-result";break}break}case ts.CALL_EXCEPTION:case ts.INSUFFICIENT_FUNDS:case ts.MISSING_NEW:case ts.NONCE_EXPIRED:case ts.REPLACEMENT_UNDERPRICED:case ts.TRANSACTION_REPLACED:case ts.UNPREDICTABLE_GAS_LIMIT:u=r;break}u&&(t+=" [ See: https://links.ethers.org/v5-errors-"+u+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const p=new Error(t);return p.reason=s,p.code=r,Object.keys(i).forEach(function(b){p[b]=i[b]}),p}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,Lr.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){u6&&this.throwError("platform missing String.prototype.normalize",Lr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:u6})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,Lr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,Lr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,Lr.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,Lr.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",Lr.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Lr.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",Lr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return $1||($1=new Lr(HL)),$1}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Lr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),a6){if(!t)return;this.globalLogger().throwError("error censorship permanent",Lr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}f6=!!t,a6=!!r}static setLogLevel(t){const r=x0[t.toLowerCase()];if(r==null){Lr.globalLogger().warn("invalid log level - "+t);return}h6=r}static from(t){return new Lr(t)}};ri.errors=ts,ri.levels=Wp;const KL="bytes/5.7.0",Mr=new ri(KL);function p5(e){return!!e.toHexString}function Ff(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Ff(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function GL(e){return rn(e)&&!(e.length%2)||gh(e)}function l6(e){return typeof e=="number"&&e==e&&e%1===0}function gh(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!l6(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!l6(r)||r<0||r>=256)return!1}return!0}function br(e,t){if(t||(t={}),typeof e=="number"){Mr.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),Ff(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),p5(e)&&(e=e.toHexString()),rn(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":Mr.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return Ff(new Uint8Array(i))}return gh(e)?Ff(new Uint8Array(e)):Mr.throwArgumentError("invalid arrayify value","value",e)}function QL(e){const t=e.map(n=>br(n)),r=t.reduce((n,s)=>n+s.length,0),i=new Uint8Array(r);return t.reduce((n,s)=>(i.set(s,n),n+s.length),0),Ff(i)}function VL(e,t){e=br(e),e.length>t&&Mr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),Ff(r)}function rn(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const H1="0123456789abcdef";function ki(e,t){if(t||(t={}),typeof e=="number"){Mr.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=H1[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),p5(e))return e.toHexString();if(rn(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":Mr.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(gh(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=H1[(n&240)>>4]+H1[n&15]}return r}return Mr.throwArgumentError("invalid hexlify value","value",e)}function JL(e){if(typeof e!="string")e=ki(e);else if(!rn(e)||e.length%2)return null;return(e.length-2)/2}function d6(e,t,r){return typeof e!="string"?e=ki(e):(!rn(e)||e.length%2)&&Mr.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function Ks(e,t){for(typeof e!="string"?e=ki(e):rn(e)||Mr.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Mr.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function g5(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(GL(e)){let r=br(e);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=ki(r.slice(0,32)),t.s=ki(r.slice(32,64))):r.length===65?(t.r=ki(r.slice(0,32)),t.s=ki(r.slice(32,64)),t.v=r[64]):Mr.throwArgumentError("invalid signature string","signature",e),t.v<27&&(t.v===0||t.v===1?t.v+=27:Mr.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=ki(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,t._vs!=null){const n=VL(br(t._vs),32);t._vs=ki(n);const s=n[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=s:t.recoveryParam!==s&&Mr.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;const u=ki(n);t.s==null?t.s=u:t.s!==u&&Mr.throwArgumentError("signature v mismatch _vs","signature",e)}if(t.recoveryParam==null)t.v==null?Mr.throwArgumentError("signature missing v and recoveryParam","signature",e):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const n=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==n&&Mr.throwArgumentError("signature recoveryParam mismatch v","signature",e)}t.r==null||!rn(t.r)?Mr.throwArgumentError("signature missing or invalid r","signature",e):t.r=Ks(t.r,32),t.s==null||!rn(t.s)?Mr.throwArgumentError("signature missing or invalid s","signature",e):t.s=Ks(t.s,32);const r=br(t.s);r[0]>=128&&Mr.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const i=ki(r);t._vs&&(rn(t._vs)||Mr.throwArgumentError("signature invalid _vs","signature",e),t._vs=Ks(t._vs,32)),t._vs==null?t._vs=i:t._vs!==i&&Mr.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function F2(e){return"0x"+$L.keccak_256(br(e))}var m5={exports:{}},YL={},WL=Object.freeze({__proto__:null,default:YL}),XL=zL(WL);(function(e){(function(t,r){function i(o,h){if(!o)throw new Error(h||"Assertion failed")}function n(o,h){o.super_=h;var c=function(){};c.prototype=h.prototype,o.prototype=new c,o.prototype.constructor=o}function s(o,h,c){if(s.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((h==="le"||h==="be")&&(c=h,h=10),this._init(o||0,h||10,c||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=XL.Buffer}catch{}s.isBN=function(o){return o instanceof s?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===s.wordSize&&Array.isArray(o.words)},s.max=function(o,h){return o.cmp(h)>0?o:h},s.min=function(o,h){return o.cmp(h)<0?o:h},s.prototype._init=function(o,h,c){if(typeof o=="number")return this._initNumber(o,h,c);if(typeof o=="object")return this._initArray(o,h,c);h==="hex"&&(h=16),i(h===(h|0)&&h>=2&&h<=36),o=o.toString().replace(/\s+/g,"");var v=0;o[0]==="-"&&(v++,this.negative=1),v<o.length&&(h===16?this._parseHex(o,v,c):(this._parseBase(o,h,v),c==="le"&&this._initArray(this.toArray(),h,c)))},s.prototype._initNumber=function(o,h,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),h,c)},s.prototype._initArray=function(o,h,c){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y,M,E=0;if(c==="be")for(v=o.length-1,y=0;v>=0;v-=3)M=o[v]|o[v-1]<<8|o[v-2]<<16,this.words[y]|=M<<E&67108863,this.words[y+1]=M>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);else if(c==="le")for(v=0,y=0;v<o.length;v+=3)M=o[v]|o[v+1]<<8|o[v+2]<<16,this.words[y]|=M<<E&67108863,this.words[y+1]=M>>>26-E&67108863,E+=24,E>=26&&(E-=26,y++);return this._strip()};function p(o,h){var c=o.charCodeAt(h);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;i(!1,"Invalid character in "+o)}function b(o,h,c){var v=p(o,c);return c-1>=h&&(v|=p(o,c-1)<<4),v}s.prototype._parseHex=function(o,h,c){this.length=Math.ceil((o.length-h)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y=0,M=0,E;if(c==="be")for(v=o.length-1;v>=h;v-=2)E=b(o,h,v)<<y,this.words[M]|=E&67108863,y>=18?(y-=18,M+=1,this.words[M]|=E>>>26):y+=8;else{var d=o.length-h;for(v=d%2===0?h+1:h;v<o.length;v+=2)E=b(o,h,v)<<y,this.words[M]|=E&67108863,y>=18?(y-=18,M+=1,this.words[M]|=E>>>26):y+=8}this._strip()};function m(o,h,c,v){for(var y=0,M=0,E=Math.min(o.length,c),d=h;d<E;d++){var f=o.charCodeAt(d)-48;y*=v,f>=49?M=f-49+10:f>=17?M=f-17+10:M=f,i(f>=0&&M<v,"Invalid character"),y+=M}return y}s.prototype._parseBase=function(o,h,c){this.words=[0],this.length=1;for(var v=0,y=1;y<=67108863;y*=h)v++;v--,y=y/h|0;for(var M=o.length-c,E=M%v,d=Math.min(M,M-E)+c,f=0,_=c;_<d;_+=v)f=m(o,_,_+v,h),this.imuln(y),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(E!==0){var J=1;for(f=m(o,_,o.length,h),_=0;_<E;_++)J*=h;this.imuln(J),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(o){o.words=new Array(this.length);for(var h=0;h<this.length;h++)o.words[h]=this.words[h];o.length=this.length,o.negative=this.negative,o.red=this.red};function w(o,h){o.words=h.words,o.length=h.length,o.negative=h.negative,o.red=h.red}if(s.prototype._move=function(o){w(o,this)},s.prototype.clone=function(){var o=new s(null);return this.copy(o),o},s.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{s.prototype.inspect=S}else s.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var D=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(o,h){o=o||10,h=h|0||1;var c;if(o===16||o==="hex"){c="";for(var v=0,y=0,M=0;M<this.length;M++){var E=this.words[M],d=((E<<v|y)&16777215).toString(16);y=E>>>24-v&16777215,v+=2,v>=26&&(v-=26,M--),y!==0||M!==this.length-1?c=D[6-d.length]+d+c:c=d+c}for(y!==0&&(c=y.toString(16)+c);c.length%h!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var f=N[o],_=P[o];c="";var J=this.clone();for(J.negative=0;!J.isZero();){var W=J.modrn(_).toString(o);J=J.idivn(_),J.isZero()?c=W+c:c=D[f-W.length]+W+c}for(this.isZero()&&(c="0"+c);c.length%h!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},s.prototype.toJSON=function(){return this.toString(16,2)},u&&(s.prototype.toBuffer=function(o,h){return this.toArrayLike(u,o,h)}),s.prototype.toArray=function(o,h){return this.toArrayLike(Array,o,h)};var L=function(o,h){return o.allocUnsafe?o.allocUnsafe(h):new o(h)};s.prototype.toArrayLike=function(o,h,c){this._strip();var v=this.byteLength(),y=c||Math.max(1,v);i(v<=y,"byte array longer than desired length"),i(y>0,"Requested array length <= 0");var M=L(o,y),E=h==="le"?"LE":"BE";return this["_toArrayLike"+E](M,v),M},s.prototype._toArrayLikeLE=function(o,h){for(var c=0,v=0,y=0,M=0;y<this.length;y++){var E=this.words[y]<<M|v;o[c++]=E&255,c<o.length&&(o[c++]=E>>8&255),c<o.length&&(o[c++]=E>>16&255),M===6?(c<o.length&&(o[c++]=E>>24&255),v=0,M=0):(v=E>>>24,M+=2)}if(c<o.length)for(o[c++]=v;c<o.length;)o[c++]=0},s.prototype._toArrayLikeBE=function(o,h){for(var c=o.length-1,v=0,y=0,M=0;y<this.length;y++){var E=this.words[y]<<M|v;o[c--]=E&255,c>=0&&(o[c--]=E>>8&255),c>=0&&(o[c--]=E>>16&255),M===6?(c>=0&&(o[c--]=E>>24&255),v=0,M=0):(v=E>>>24,M+=2)}if(c>=0)for(o[c--]=v;c>=0;)o[c--]=0},Math.clz32?s.prototype._countBits=function(o){return 32-Math.clz32(o)}:s.prototype._countBits=function(o){var h=o,c=0;return h>=4096&&(c+=13,h>>>=13),h>=64&&(c+=7,h>>>=7),h>=8&&(c+=4,h>>>=4),h>=2&&(c+=2,h>>>=2),c+h},s.prototype._zeroBits=function(o){if(o===0)return 26;var h=o,c=0;return h&8191||(c+=13,h>>>=13),h&127||(c+=7,h>>>=7),h&15||(c+=4,h>>>=4),h&3||(c+=2,h>>>=2),h&1||c++,c},s.prototype.bitLength=function(){var o=this.words[this.length-1],h=this._countBits(o);return(this.length-1)*26+h};function k(o){for(var h=new Array(o.bitLength()),c=0;c<h.length;c++){var v=c/26|0,y=c%26;h[c]=o.words[v]>>>y&1}return h}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,h=0;h<this.length;h++){var c=this._zeroBits(this.words[h]);if(o+=c,c!==26)break}return o},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},s.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var h=0;h<o.length;h++)this.words[h]=this.words[h]|o.words[h];return this._strip()},s.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},s.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},s.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},s.prototype.iuand=function(o){var h;this.length>o.length?h=o:h=this;for(var c=0;c<h.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=h.length,this._strip()},s.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},s.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},s.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},s.prototype.iuxor=function(o){var h,c;this.length>o.length?(h=this,c=o):(h=o,c=this);for(var v=0;v<c.length;v++)this.words[v]=h.words[v]^c.words[v];if(this!==h)for(;v<h.length;v++)this.words[v]=h.words[v];return this.length=h.length,this._strip()},s.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},s.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},s.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},s.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var h=Math.ceil(o/26)|0,c=o%26;this._expand(h),c>0&&h--;for(var v=0;v<h;v++)this.words[v]=~this.words[v]&67108863;return c>0&&(this.words[v]=~this.words[v]&67108863>>26-c),this._strip()},s.prototype.notn=function(o){return this.clone().inotn(o)},s.prototype.setn=function(o,h){i(typeof o=="number"&&o>=0);var c=o/26|0,v=o%26;return this._expand(c+1),h?this.words[c]=this.words[c]|1<<v:this.words[c]=this.words[c]&~(1<<v),this._strip()},s.prototype.iadd=function(o){var h;if(this.negative!==0&&o.negative===0)return this.negative=0,h=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,h=this.isub(o),o.negative=1,h._normSign();var c,v;this.length>o.length?(c=this,v=o):(c=o,v=this);for(var y=0,M=0;M<v.length;M++)h=(c.words[M]|0)+(v.words[M]|0)+y,this.words[M]=h&67108863,y=h>>>26;for(;y!==0&&M<c.length;M++)h=(c.words[M]|0)+y,this.words[M]=h&67108863,y=h>>>26;if(this.length=c.length,y!==0)this.words[this.length]=y,this.length++;else if(c!==this)for(;M<c.length;M++)this.words[M]=c.words[M];return this},s.prototype.add=function(o){var h;return o.negative!==0&&this.negative===0?(o.negative=0,h=this.sub(o),o.negative^=1,h):o.negative===0&&this.negative!==0?(this.negative=0,h=o.sub(this),this.negative=1,h):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},s.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var h=this.iadd(o);return o.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,y;c>0?(v=this,y=o):(v=o,y=this);for(var M=0,E=0;E<y.length;E++)h=(v.words[E]|0)-(y.words[E]|0)+M,M=h>>26,this.words[E]=h&67108863;for(;M!==0&&E<v.length;E++)h=(v.words[E]|0)+M,M=h>>26,this.words[E]=h&67108863;if(M===0&&E<v.length&&v!==this)for(;E<v.length;E++)this.words[E]=v.words[E];return this.length=Math.max(this.length,E),v!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(o){return this.clone().isub(o)};function Y(o,h,c){c.negative=h.negative^o.negative;var v=o.length+h.length|0;c.length=v,v=v-1|0;var y=o.words[0]|0,M=h.words[0]|0,E=y*M,d=E&67108863,f=E/67108864|0;c.words[0]=d;for(var _=1;_<v;_++){for(var J=f>>>26,W=f&67108863,g=Math.min(_,h.length-1),F=Math.max(0,_-o.length+1);F<=g;F++){var O=_-F|0;y=o.words[O]|0,M=h.words[F]|0,E=y*M+W,J+=E/67108864|0,W=E&67108863}c.words[_]=W|0,f=J|0}return f!==0?c.words[_]=f|0:c.length--,c._strip()}var Q=function(o,h,c){var v=o.words,y=h.words,M=c.words,E=0,d,f,_,J=v[0]|0,W=J&8191,g=J>>>13,F=v[1]|0,O=F&8191,B=F>>>13,q=v[2]|0,x=q&8191,T=q>>>13,Z=v[3]|0,it=Z&8191,et=Z>>>13,pt=v[4]|0,gt=pt&8191,_t=pt>>>13,re=v[5]|0,bt=re&8191,Et=re>>>13,Qt=v[6]|0,ct=Qt&8191,yt=Qt>>>13,Wt=v[7]|0,ht=Wt&8191,wt=Wt>>>13,Kt=v[8]|0,ut=Kt&8191,It=Kt>>>13,Vt=v[9]|0,mt=Vt&8191,Rt=Vt>>>13,te=y[0]|0,vt=te&8191,Pt=te>>>13,ue=y[1]|0,Tt=ue&8191,Jt=ue>>>13,ce=y[2]|0,Ft=ce&8191,Yt=ce>>>13,de=y[3]|0,Mt=de&8191,Lt=de>>>13,se=y[4]|0,St=se&8191,kt=se>>>13,ie=y[5]|0,Dt=ie&8191,jt=ie>>>13,oe=y[6]|0,Nt=oe&8191,zt=oe>>>13,fe=y[7]|0,xt=fe&8191,qt=fe>>>13,he=y[8]|0,Ct=he&8191,Zt=he>>>13,be=y[9]|0,Ht=be&8191,Gt=be>>>13;c.negative=o.negative^h.negative,c.length=19,d=Math.imul(W,vt),f=Math.imul(W,Pt),f=f+Math.imul(g,vt)|0,_=Math.imul(g,Pt);var ze=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(ze>>>26)|0,ze&=67108863,d=Math.imul(O,vt),f=Math.imul(O,Pt),f=f+Math.imul(B,vt)|0,_=Math.imul(B,Pt),d=d+Math.imul(W,Tt)|0,f=f+Math.imul(W,Jt)|0,f=f+Math.imul(g,Tt)|0,_=_+Math.imul(g,Jt)|0;var $e=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+($e>>>26)|0,$e&=67108863,d=Math.imul(x,vt),f=Math.imul(x,Pt),f=f+Math.imul(T,vt)|0,_=Math.imul(T,Pt),d=d+Math.imul(O,Tt)|0,f=f+Math.imul(O,Jt)|0,f=f+Math.imul(B,Tt)|0,_=_+Math.imul(B,Jt)|0,d=d+Math.imul(W,Ft)|0,f=f+Math.imul(W,Yt)|0,f=f+Math.imul(g,Ft)|0,_=_+Math.imul(g,Yt)|0;var He=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(He>>>26)|0,He&=67108863,d=Math.imul(it,vt),f=Math.imul(it,Pt),f=f+Math.imul(et,vt)|0,_=Math.imul(et,Pt),d=d+Math.imul(x,Tt)|0,f=f+Math.imul(x,Jt)|0,f=f+Math.imul(T,Tt)|0,_=_+Math.imul(T,Jt)|0,d=d+Math.imul(O,Ft)|0,f=f+Math.imul(O,Yt)|0,f=f+Math.imul(B,Ft)|0,_=_+Math.imul(B,Yt)|0,d=d+Math.imul(W,Mt)|0,f=f+Math.imul(W,Lt)|0,f=f+Math.imul(g,Mt)|0,_=_+Math.imul(g,Lt)|0;var je=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(je>>>26)|0,je&=67108863,d=Math.imul(gt,vt),f=Math.imul(gt,Pt),f=f+Math.imul(_t,vt)|0,_=Math.imul(_t,Pt),d=d+Math.imul(it,Tt)|0,f=f+Math.imul(it,Jt)|0,f=f+Math.imul(et,Tt)|0,_=_+Math.imul(et,Jt)|0,d=d+Math.imul(x,Ft)|0,f=f+Math.imul(x,Yt)|0,f=f+Math.imul(T,Ft)|0,_=_+Math.imul(T,Yt)|0,d=d+Math.imul(O,Mt)|0,f=f+Math.imul(O,Lt)|0,f=f+Math.imul(B,Mt)|0,_=_+Math.imul(B,Lt)|0,d=d+Math.imul(W,St)|0,f=f+Math.imul(W,kt)|0,f=f+Math.imul(g,St)|0,_=_+Math.imul(g,kt)|0;var Ke=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,d=Math.imul(bt,vt),f=Math.imul(bt,Pt),f=f+Math.imul(Et,vt)|0,_=Math.imul(Et,Pt),d=d+Math.imul(gt,Tt)|0,f=f+Math.imul(gt,Jt)|0,f=f+Math.imul(_t,Tt)|0,_=_+Math.imul(_t,Jt)|0,d=d+Math.imul(it,Ft)|0,f=f+Math.imul(it,Yt)|0,f=f+Math.imul(et,Ft)|0,_=_+Math.imul(et,Yt)|0,d=d+Math.imul(x,Mt)|0,f=f+Math.imul(x,Lt)|0,f=f+Math.imul(T,Mt)|0,_=_+Math.imul(T,Lt)|0,d=d+Math.imul(O,St)|0,f=f+Math.imul(O,kt)|0,f=f+Math.imul(B,St)|0,_=_+Math.imul(B,kt)|0,d=d+Math.imul(W,Dt)|0,f=f+Math.imul(W,jt)|0,f=f+Math.imul(g,Dt)|0,_=_+Math.imul(g,jt)|0;var Ie=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,d=Math.imul(ct,vt),f=Math.imul(ct,Pt),f=f+Math.imul(yt,vt)|0,_=Math.imul(yt,Pt),d=d+Math.imul(bt,Tt)|0,f=f+Math.imul(bt,Jt)|0,f=f+Math.imul(Et,Tt)|0,_=_+Math.imul(Et,Jt)|0,d=d+Math.imul(gt,Ft)|0,f=f+Math.imul(gt,Yt)|0,f=f+Math.imul(_t,Ft)|0,_=_+Math.imul(_t,Yt)|0,d=d+Math.imul(it,Mt)|0,f=f+Math.imul(it,Lt)|0,f=f+Math.imul(et,Mt)|0,_=_+Math.imul(et,Lt)|0,d=d+Math.imul(x,St)|0,f=f+Math.imul(x,kt)|0,f=f+Math.imul(T,St)|0,_=_+Math.imul(T,kt)|0,d=d+Math.imul(O,Dt)|0,f=f+Math.imul(O,jt)|0,f=f+Math.imul(B,Dt)|0,_=_+Math.imul(B,jt)|0,d=d+Math.imul(W,Nt)|0,f=f+Math.imul(W,zt)|0,f=f+Math.imul(g,Nt)|0,_=_+Math.imul(g,zt)|0;var dr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,d=Math.imul(ht,vt),f=Math.imul(ht,Pt),f=f+Math.imul(wt,vt)|0,_=Math.imul(wt,Pt),d=d+Math.imul(ct,Tt)|0,f=f+Math.imul(ct,Jt)|0,f=f+Math.imul(yt,Tt)|0,_=_+Math.imul(yt,Jt)|0,d=d+Math.imul(bt,Ft)|0,f=f+Math.imul(bt,Yt)|0,f=f+Math.imul(Et,Ft)|0,_=_+Math.imul(Et,Yt)|0,d=d+Math.imul(gt,Mt)|0,f=f+Math.imul(gt,Lt)|0,f=f+Math.imul(_t,Mt)|0,_=_+Math.imul(_t,Lt)|0,d=d+Math.imul(it,St)|0,f=f+Math.imul(it,kt)|0,f=f+Math.imul(et,St)|0,_=_+Math.imul(et,kt)|0,d=d+Math.imul(x,Dt)|0,f=f+Math.imul(x,jt)|0,f=f+Math.imul(T,Dt)|0,_=_+Math.imul(T,jt)|0,d=d+Math.imul(O,Nt)|0,f=f+Math.imul(O,zt)|0,f=f+Math.imul(B,Nt)|0,_=_+Math.imul(B,zt)|0,d=d+Math.imul(W,xt)|0,f=f+Math.imul(W,qt)|0,f=f+Math.imul(g,xt)|0,_=_+Math.imul(g,qt)|0;var Nr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,d=Math.imul(ut,vt),f=Math.imul(ut,Pt),f=f+Math.imul(It,vt)|0,_=Math.imul(It,Pt),d=d+Math.imul(ht,Tt)|0,f=f+Math.imul(ht,Jt)|0,f=f+Math.imul(wt,Tt)|0,_=_+Math.imul(wt,Jt)|0,d=d+Math.imul(ct,Ft)|0,f=f+Math.imul(ct,Yt)|0,f=f+Math.imul(yt,Ft)|0,_=_+Math.imul(yt,Yt)|0,d=d+Math.imul(bt,Mt)|0,f=f+Math.imul(bt,Lt)|0,f=f+Math.imul(Et,Mt)|0,_=_+Math.imul(Et,Lt)|0,d=d+Math.imul(gt,St)|0,f=f+Math.imul(gt,kt)|0,f=f+Math.imul(_t,St)|0,_=_+Math.imul(_t,kt)|0,d=d+Math.imul(it,Dt)|0,f=f+Math.imul(it,jt)|0,f=f+Math.imul(et,Dt)|0,_=_+Math.imul(et,jt)|0,d=d+Math.imul(x,Nt)|0,f=f+Math.imul(x,zt)|0,f=f+Math.imul(T,Nt)|0,_=_+Math.imul(T,zt)|0,d=d+Math.imul(O,xt)|0,f=f+Math.imul(O,qt)|0,f=f+Math.imul(B,xt)|0,_=_+Math.imul(B,qt)|0,d=d+Math.imul(W,Ct)|0,f=f+Math.imul(W,Zt)|0,f=f+Math.imul(g,Ct)|0,_=_+Math.imul(g,Zt)|0;var pr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(pr>>>26)|0,pr&=67108863,d=Math.imul(mt,vt),f=Math.imul(mt,Pt),f=f+Math.imul(Rt,vt)|0,_=Math.imul(Rt,Pt),d=d+Math.imul(ut,Tt)|0,f=f+Math.imul(ut,Jt)|0,f=f+Math.imul(It,Tt)|0,_=_+Math.imul(It,Jt)|0,d=d+Math.imul(ht,Ft)|0,f=f+Math.imul(ht,Yt)|0,f=f+Math.imul(wt,Ft)|0,_=_+Math.imul(wt,Yt)|0,d=d+Math.imul(ct,Mt)|0,f=f+Math.imul(ct,Lt)|0,f=f+Math.imul(yt,Mt)|0,_=_+Math.imul(yt,Lt)|0,d=d+Math.imul(bt,St)|0,f=f+Math.imul(bt,kt)|0,f=f+Math.imul(Et,St)|0,_=_+Math.imul(Et,kt)|0,d=d+Math.imul(gt,Dt)|0,f=f+Math.imul(gt,jt)|0,f=f+Math.imul(_t,Dt)|0,_=_+Math.imul(_t,jt)|0,d=d+Math.imul(it,Nt)|0,f=f+Math.imul(it,zt)|0,f=f+Math.imul(et,Nt)|0,_=_+Math.imul(et,zt)|0,d=d+Math.imul(x,xt)|0,f=f+Math.imul(x,qt)|0,f=f+Math.imul(T,xt)|0,_=_+Math.imul(T,qt)|0,d=d+Math.imul(O,Ct)|0,f=f+Math.imul(O,Zt)|0,f=f+Math.imul(B,Ct)|0,_=_+Math.imul(B,Zt)|0,d=d+Math.imul(W,Ht)|0,f=f+Math.imul(W,Gt)|0,f=f+Math.imul(g,Ht)|0,_=_+Math.imul(g,Gt)|0;var Cr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,d=Math.imul(mt,Tt),f=Math.imul(mt,Jt),f=f+Math.imul(Rt,Tt)|0,_=Math.imul(Rt,Jt),d=d+Math.imul(ut,Ft)|0,f=f+Math.imul(ut,Yt)|0,f=f+Math.imul(It,Ft)|0,_=_+Math.imul(It,Yt)|0,d=d+Math.imul(ht,Mt)|0,f=f+Math.imul(ht,Lt)|0,f=f+Math.imul(wt,Mt)|0,_=_+Math.imul(wt,Lt)|0,d=d+Math.imul(ct,St)|0,f=f+Math.imul(ct,kt)|0,f=f+Math.imul(yt,St)|0,_=_+Math.imul(yt,kt)|0,d=d+Math.imul(bt,Dt)|0,f=f+Math.imul(bt,jt)|0,f=f+Math.imul(Et,Dt)|0,_=_+Math.imul(Et,jt)|0,d=d+Math.imul(gt,Nt)|0,f=f+Math.imul(gt,zt)|0,f=f+Math.imul(_t,Nt)|0,_=_+Math.imul(_t,zt)|0,d=d+Math.imul(it,xt)|0,f=f+Math.imul(it,qt)|0,f=f+Math.imul(et,xt)|0,_=_+Math.imul(et,qt)|0,d=d+Math.imul(x,Ct)|0,f=f+Math.imul(x,Zt)|0,f=f+Math.imul(T,Ct)|0,_=_+Math.imul(T,Zt)|0,d=d+Math.imul(O,Ht)|0,f=f+Math.imul(O,Gt)|0,f=f+Math.imul(B,Ht)|0,_=_+Math.imul(B,Gt)|0;var Rr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,d=Math.imul(mt,Ft),f=Math.imul(mt,Yt),f=f+Math.imul(Rt,Ft)|0,_=Math.imul(Rt,Yt),d=d+Math.imul(ut,Mt)|0,f=f+Math.imul(ut,Lt)|0,f=f+Math.imul(It,Mt)|0,_=_+Math.imul(It,Lt)|0,d=d+Math.imul(ht,St)|0,f=f+Math.imul(ht,kt)|0,f=f+Math.imul(wt,St)|0,_=_+Math.imul(wt,kt)|0,d=d+Math.imul(ct,Dt)|0,f=f+Math.imul(ct,jt)|0,f=f+Math.imul(yt,Dt)|0,_=_+Math.imul(yt,jt)|0,d=d+Math.imul(bt,Nt)|0,f=f+Math.imul(bt,zt)|0,f=f+Math.imul(Et,Nt)|0,_=_+Math.imul(Et,zt)|0,d=d+Math.imul(gt,xt)|0,f=f+Math.imul(gt,qt)|0,f=f+Math.imul(_t,xt)|0,_=_+Math.imul(_t,qt)|0,d=d+Math.imul(it,Ct)|0,f=f+Math.imul(it,Zt)|0,f=f+Math.imul(et,Ct)|0,_=_+Math.imul(et,Zt)|0,d=d+Math.imul(x,Ht)|0,f=f+Math.imul(x,Gt)|0,f=f+Math.imul(T,Ht)|0,_=_+Math.imul(T,Gt)|0;var gr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(gr>>>26)|0,gr&=67108863,d=Math.imul(mt,Mt),f=Math.imul(mt,Lt),f=f+Math.imul(Rt,Mt)|0,_=Math.imul(Rt,Lt),d=d+Math.imul(ut,St)|0,f=f+Math.imul(ut,kt)|0,f=f+Math.imul(It,St)|0,_=_+Math.imul(It,kt)|0,d=d+Math.imul(ht,Dt)|0,f=f+Math.imul(ht,jt)|0,f=f+Math.imul(wt,Dt)|0,_=_+Math.imul(wt,jt)|0,d=d+Math.imul(ct,Nt)|0,f=f+Math.imul(ct,zt)|0,f=f+Math.imul(yt,Nt)|0,_=_+Math.imul(yt,zt)|0,d=d+Math.imul(bt,xt)|0,f=f+Math.imul(bt,qt)|0,f=f+Math.imul(Et,xt)|0,_=_+Math.imul(Et,qt)|0,d=d+Math.imul(gt,Ct)|0,f=f+Math.imul(gt,Zt)|0,f=f+Math.imul(_t,Ct)|0,_=_+Math.imul(_t,Zt)|0,d=d+Math.imul(it,Ht)|0,f=f+Math.imul(it,Gt)|0,f=f+Math.imul(et,Ht)|0,_=_+Math.imul(et,Gt)|0;var Sr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,d=Math.imul(mt,St),f=Math.imul(mt,kt),f=f+Math.imul(Rt,St)|0,_=Math.imul(Rt,kt),d=d+Math.imul(ut,Dt)|0,f=f+Math.imul(ut,jt)|0,f=f+Math.imul(It,Dt)|0,_=_+Math.imul(It,jt)|0,d=d+Math.imul(ht,Nt)|0,f=f+Math.imul(ht,zt)|0,f=f+Math.imul(wt,Nt)|0,_=_+Math.imul(wt,zt)|0,d=d+Math.imul(ct,xt)|0,f=f+Math.imul(ct,qt)|0,f=f+Math.imul(yt,xt)|0,_=_+Math.imul(yt,qt)|0,d=d+Math.imul(bt,Ct)|0,f=f+Math.imul(bt,Zt)|0,f=f+Math.imul(Et,Ct)|0,_=_+Math.imul(Et,Zt)|0,d=d+Math.imul(gt,Ht)|0,f=f+Math.imul(gt,Gt)|0,f=f+Math.imul(_t,Ht)|0,_=_+Math.imul(_t,Gt)|0;var xr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(xr>>>26)|0,xr&=67108863,d=Math.imul(mt,Dt),f=Math.imul(mt,jt),f=f+Math.imul(Rt,Dt)|0,_=Math.imul(Rt,jt),d=d+Math.imul(ut,Nt)|0,f=f+Math.imul(ut,zt)|0,f=f+Math.imul(It,Nt)|0,_=_+Math.imul(It,zt)|0,d=d+Math.imul(ht,xt)|0,f=f+Math.imul(ht,qt)|0,f=f+Math.imul(wt,xt)|0,_=_+Math.imul(wt,qt)|0,d=d+Math.imul(ct,Ct)|0,f=f+Math.imul(ct,Zt)|0,f=f+Math.imul(yt,Ct)|0,_=_+Math.imul(yt,Zt)|0,d=d+Math.imul(bt,Ht)|0,f=f+Math.imul(bt,Gt)|0,f=f+Math.imul(Et,Ht)|0,_=_+Math.imul(Et,Gt)|0;var Ze=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,d=Math.imul(mt,Nt),f=Math.imul(mt,zt),f=f+Math.imul(Rt,Nt)|0,_=Math.imul(Rt,zt),d=d+Math.imul(ut,xt)|0,f=f+Math.imul(ut,qt)|0,f=f+Math.imul(It,xt)|0,_=_+Math.imul(It,qt)|0,d=d+Math.imul(ht,Ct)|0,f=f+Math.imul(ht,Zt)|0,f=f+Math.imul(wt,Ct)|0,_=_+Math.imul(wt,Zt)|0,d=d+Math.imul(ct,Ht)|0,f=f+Math.imul(ct,Gt)|0,f=f+Math.imul(yt,Ht)|0,_=_+Math.imul(yt,Gt)|0;var Pr=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,d=Math.imul(mt,xt),f=Math.imul(mt,qt),f=f+Math.imul(Rt,xt)|0,_=Math.imul(Rt,qt),d=d+Math.imul(ut,Ct)|0,f=f+Math.imul(ut,Zt)|0,f=f+Math.imul(It,Ct)|0,_=_+Math.imul(It,Zt)|0,d=d+Math.imul(ht,Ht)|0,f=f+Math.imul(ht,Gt)|0,f=f+Math.imul(wt,Ht)|0,_=_+Math.imul(wt,Gt)|0;var Or=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Or>>>26)|0,Or&=67108863,d=Math.imul(mt,Ct),f=Math.imul(mt,Zt),f=f+Math.imul(Rt,Ct)|0,_=Math.imul(Rt,Zt),d=d+Math.imul(ut,Ht)|0,f=f+Math.imul(ut,Gt)|0,f=f+Math.imul(It,Ht)|0,_=_+Math.imul(It,Gt)|0;var Br=(E+d|0)+((f&8191)<<13)|0;E=(_+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,d=Math.imul(mt,Ht),f=Math.imul(mt,Gt),f=f+Math.imul(Rt,Ht)|0,_=Math.imul(Rt,Gt);var pi=(E+d|0)+((f&8191)<<13)|0;return E=(_+(f>>>13)|0)+(pi>>>26)|0,pi&=67108863,M[0]=ze,M[1]=$e,M[2]=He,M[3]=je,M[4]=Ke,M[5]=Ie,M[6]=dr,M[7]=Nr,M[8]=pr,M[9]=Cr,M[10]=Rr,M[11]=gr,M[12]=Sr,M[13]=xr,M[14]=Ze,M[15]=Pr,M[16]=Or,M[17]=Br,M[18]=pi,E!==0&&(M[19]=E,c.length++),c};Math.imul||(Q=Y);function X(o,h,c){c.negative=h.negative^o.negative,c.length=o.length+h.length;for(var v=0,y=0,M=0;M<c.length-1;M++){var E=y;y=0;for(var d=v&67108863,f=Math.min(M,h.length-1),_=Math.max(0,M-o.length+1);_<=f;_++){var J=M-_,W=o.words[J]|0,g=h.words[_]|0,F=W*g,O=F&67108863;E=E+(F/67108864|0)|0,O=O+d|0,d=O&67108863,E=E+(O>>>26)|0,y+=E>>>26,E&=67108863}c.words[M]=d,v=E,E=y}return v!==0?c.words[M]=v:c.length--,c._strip()}function $(o,h,c){return X(o,h,c)}s.prototype.mulTo=function(o,h){var c,v=this.length+o.length;return this.length===10&&o.length===10?c=Q(this,o,h):v<63?c=Y(this,o,h):v<1024?c=X(this,o,h):c=$(this,o,h),c},s.prototype.mul=function(o){var h=new s(null);return h.words=new Array(this.length+o.length),this.mulTo(o,h)},s.prototype.mulf=function(o){var h=new s(null);return h.words=new Array(this.length+o.length),$(this,o,h)},s.prototype.imul=function(o){return this.clone().mulTo(o,this)},s.prototype.imuln=function(o){var h=o<0;h&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var c=0,v=0;v<this.length;v++){var y=(this.words[v]|0)*o,M=(y&67108863)+(c&67108863);c>>=26,c+=y/67108864|0,c+=M>>>26,this.words[v]=M&67108863}return c!==0&&(this.words[v]=c,this.length++),h?this.ineg():this},s.prototype.muln=function(o){return this.clone().imuln(o)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(o){var h=k(o);if(h.length===0)return new s(1);for(var c=this,v=0;v<h.length&&h[v]===0;v++,c=c.sqr());if(++v<h.length)for(var y=c.sqr();v<h.length;v++,y=y.sqr())h[v]!==0&&(c=c.mul(y));return c},s.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var h=o%26,c=(o-h)/26,v=67108863>>>26-h<<26-h,y;if(h!==0){var M=0;for(y=0;y<this.length;y++){var E=this.words[y]&v,d=(this.words[y]|0)-E<<h;this.words[y]=d|M,M=E>>>26-h}M&&(this.words[y]=M,this.length++)}if(c!==0){for(y=this.length-1;y>=0;y--)this.words[y+c]=this.words[y];for(y=0;y<c;y++)this.words[y]=0;this.length+=c}return this._strip()},s.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},s.prototype.iushrn=function(o,h,c){i(typeof o=="number"&&o>=0);var v;h?v=(h-h%26)/26:v=0;var y=o%26,M=Math.min((o-y)/26,this.length),E=67108863^67108863>>>y<<y,d=c;if(v-=M,v=Math.max(0,v),d){for(var f=0;f<M;f++)d.words[f]=this.words[f];d.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=v);f--){var J=this.words[f]|0;this.words[f]=_<<26-y|J>>>y,_=J&E}return d&&_!==0&&(d.words[d.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(o,h,c){return i(this.negative===0),this.iushrn(o,h,c)},s.prototype.shln=function(o){return this.clone().ishln(o)},s.prototype.ushln=function(o){return this.clone().iushln(o)},s.prototype.shrn=function(o){return this.clone().ishrn(o)},s.prototype.ushrn=function(o){return this.clone().iushrn(o)},s.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,c=(o-h)/26,v=1<<h;if(this.length<=c)return!1;var y=this.words[c];return!!(y&v)},s.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var h=o%26,c=(o-h)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(h!==0&&c++,this.length=Math.min(c,this.length),h!==0){var v=67108863^67108863>>>h<<h;this.words[this.length-1]&=v}return this._strip()},s.prototype.maskn=function(o){return this.clone().imaskn(o)},s.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},s.prototype._iaddn=function(o){this.words[0]+=o;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},s.prototype.addn=function(o){return this.clone().iaddn(o)},s.prototype.subn=function(o){return this.clone().isubn(o)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(o,h,c){var v=o.length+c,y;this._expand(v);var M,E=0;for(y=0;y<o.length;y++){M=(this.words[y+c]|0)+E;var d=(o.words[y]|0)*h;M-=d&67108863,E=(M>>26)-(d/67108864|0),this.words[y+c]=M&67108863}for(;y<this.length-c;y++)M=(this.words[y+c]|0)+E,E=M>>26,this.words[y+c]=M&67108863;if(E===0)return this._strip();for(i(E===-1),E=0,y=0;y<this.length;y++)M=-(this.words[y]|0)+E,E=M>>26,this.words[y]=M&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(o,h){var c=this.length-o.length,v=this.clone(),y=o,M=y.words[y.length-1]|0,E=this._countBits(M);c=26-E,c!==0&&(y=y.ushln(c),v.iushln(c),M=y.words[y.length-1]|0);var d=v.length-y.length,f;if(h!=="mod"){f=new s(null),f.length=d+1,f.words=new Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var J=v.clone()._ishlnsubmul(y,1,d);J.negative===0&&(v=J,f&&(f.words[d]=1));for(var W=d-1;W>=0;W--){var g=(v.words[y.length+W]|0)*67108864+(v.words[y.length+W-1]|0);for(g=Math.min(g/M|0,67108863),v._ishlnsubmul(y,g,W);v.negative!==0;)g--,v.negative=0,v._ishlnsubmul(y,1,W),v.isZero()||(v.negative^=1);f&&(f.words[W]=g)}return f&&f._strip(),v._strip(),h!=="div"&&c!==0&&v.iushrn(c),{div:f||null,mod:v}},s.prototype.divmod=function(o,h,c){if(i(!o.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,y,M;return this.negative!==0&&o.negative===0?(M=this.neg().divmod(o,h),h!=="mod"&&(v=M.div.neg()),h!=="div"&&(y=M.mod.neg(),c&&y.negative!==0&&y.iadd(o)),{div:v,mod:y}):this.negative===0&&o.negative!==0?(M=this.divmod(o.neg(),h),h!=="mod"&&(v=M.div.neg()),{div:v,mod:M.mod}):this.negative&o.negative?(M=this.neg().divmod(o.neg(),h),h!=="div"&&(y=M.mod.neg(),c&&y.negative!==0&&y.isub(o)),{div:M.div,mod:y}):o.length>this.length||this.cmp(o)<0?{div:new s(0),mod:this}:o.length===1?h==="div"?{div:this.divn(o.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new s(this.modrn(o.words[0]))}:this._wordDiv(o,h)},s.prototype.div=function(o){return this.divmod(o,"div",!1).div},s.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},s.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},s.prototype.divRound=function(o){var h=this.divmod(o);if(h.mod.isZero())return h.div;var c=h.div.negative!==0?h.mod.isub(o):h.mod,v=o.ushrn(1),y=o.andln(1),M=c.cmp(v);return M<0||y===1&&M===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modrn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var c=(1<<26)%o,v=0,y=this.length-1;y>=0;y--)v=(c*v+(this.words[y]|0))%o;return h?-v:v},s.prototype.modn=function(o){return this.modrn(o)},s.prototype.idivn=function(o){var h=o<0;h&&(o=-o),i(o<=67108863);for(var c=0,v=this.length-1;v>=0;v--){var y=(this.words[v]|0)+c*67108864;this.words[v]=y/o|0,c=y%o}return this._strip(),h?this.ineg():this},s.prototype.divn=function(o){return this.clone().idivn(o)},s.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var h=this,c=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new s(1),y=new s(0),M=new s(0),E=new s(1),d=0;h.isEven()&&c.isEven();)h.iushrn(1),c.iushrn(1),++d;for(var f=c.clone(),_=h.clone();!h.isZero();){for(var J=0,W=1;!(h.words[0]&W)&&J<26;++J,W<<=1);if(J>0)for(h.iushrn(J);J-- >0;)(v.isOdd()||y.isOdd())&&(v.iadd(f),y.isub(_)),v.iushrn(1),y.iushrn(1);for(var g=0,F=1;!(c.words[0]&F)&&g<26;++g,F<<=1);if(g>0)for(c.iushrn(g);g-- >0;)(M.isOdd()||E.isOdd())&&(M.iadd(f),E.isub(_)),M.iushrn(1),E.iushrn(1);h.cmp(c)>=0?(h.isub(c),v.isub(M),y.isub(E)):(c.isub(h),M.isub(v),E.isub(y))}return{a:M,b:E,gcd:c.iushln(d)}},s.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var h=this,c=o.clone();h.negative!==0?h=h.umod(o):h=h.clone();for(var v=new s(1),y=new s(0),M=c.clone();h.cmpn(1)>0&&c.cmpn(1)>0;){for(var E=0,d=1;!(h.words[0]&d)&&E<26;++E,d<<=1);if(E>0)for(h.iushrn(E);E-- >0;)v.isOdd()&&v.iadd(M),v.iushrn(1);for(var f=0,_=1;!(c.words[0]&_)&&f<26;++f,_<<=1);if(f>0)for(c.iushrn(f);f-- >0;)y.isOdd()&&y.iadd(M),y.iushrn(1);h.cmp(c)>=0?(h.isub(c),v.isub(y)):(c.isub(h),y.isub(v))}var J;return h.cmpn(1)===0?J=v:J=y,J.cmpn(0)<0&&J.iadd(o),J},s.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var h=this.clone(),c=o.clone();h.negative=0,c.negative=0;for(var v=0;h.isEven()&&c.isEven();v++)h.iushrn(1),c.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;c.isEven();)c.iushrn(1);var y=h.cmp(c);if(y<0){var M=h;h=c,c=M}else if(y===0||c.cmpn(1)===0)break;h.isub(c)}while(!0);return c.iushln(v)},s.prototype.invm=function(o){return this.egcd(o).a.umod(o)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(o){return this.words[0]&o},s.prototype.bincn=function(o){i(typeof o=="number");var h=o%26,c=(o-h)/26,v=1<<h;if(this.length<=c)return this._expand(c+1),this.words[c]|=v,this;for(var y=v,M=c;y!==0&&M<this.length;M++){var E=this.words[M]|0;E+=y,y=E>>>26,E&=67108863,this.words[M]=E}return y!==0&&(this.words[M]=y,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(o){var h=o<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var c;if(this.length>1)c=1;else{h&&(o=-o),i(o<=67108863,"Number is too big");var v=this.words[0]|0;c=v===o?0:v<o?-1:1}return this.negative!==0?-c|0:c},s.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var h=this.ucmp(o);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var h=0,c=this.length-1;c>=0;c--){var v=this.words[c]|0,y=o.words[c]|0;if(v!==y){v<y?h=-1:v>y&&(h=1);break}}return h},s.prototype.gtn=function(o){return this.cmpn(o)===1},s.prototype.gt=function(o){return this.cmp(o)===1},s.prototype.gten=function(o){return this.cmpn(o)>=0},s.prototype.gte=function(o){return this.cmp(o)>=0},s.prototype.ltn=function(o){return this.cmpn(o)===-1},s.prototype.lt=function(o){return this.cmp(o)===-1},s.prototype.lten=function(o){return this.cmpn(o)<=0},s.prototype.lte=function(o){return this.cmp(o)<=0},s.prototype.eqn=function(o){return this.cmpn(o)===0},s.prototype.eq=function(o){return this.cmp(o)===0},s.red=function(o){return new H(o)},s.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(o){return this.red=o,this},s.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},s.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},s.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},s.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},s.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},s.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},s.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},s.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var j={k256:null,p224:null,p192:null,p25519:null};function K(o,h){this.name=o,this.p=new s(h,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var o=new s(null);return o.words=new Array(Math.ceil(this.n/13)),o},K.prototype.ireduce=function(o){var h=o,c;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),c=h.bitLength();while(c>this.n);var v=c<this.n?-1:h.ucmp(this.p);return v===0?(h.words[0]=0,h.length=1):v>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},K.prototype.split=function(o,h){o.iushrn(this.n,0,h)},K.prototype.imulK=function(o){return o.imul(this.k)};function C(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(C,K),C.prototype.split=function(o,h){for(var c=4194303,v=Math.min(o.length,9),y=0;y<v;y++)h.words[y]=o.words[y];if(h.length=v,o.length<=9){o.words[0]=0,o.length=1;return}var M=o.words[9];for(h.words[h.length++]=M&c,y=10;y<o.length;y++){var E=o.words[y]|0;o.words[y-10]=(E&c)<<4|M>>>22,M=E}M>>>=22,o.words[y-10]=M,M===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var h=0,c=0;c<o.length;c++){var v=o.words[c]|0;h+=v*977,o.words[c]=h&67108863,h=v*64+(h/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function z(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(z,K);function st(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(st,K);function dt(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(dt,K),dt.prototype.imulK=function(o){for(var h=0,c=0;c<o.length;c++){var v=(o.words[c]|0)*19+h,y=v&67108863;v>>>=26,o.words[c]=y,h=v}return h!==0&&(o.words[o.length++]=h),o},s._prime=function(o){if(j[o])return j[o];var h;if(o==="k256")h=new C;else if(o==="p224")h=new z;else if(o==="p192")h=new st;else if(o==="p25519")h=new dt;else throw new Error("Unknown prime "+o);return j[o]=h,h};function H(o){if(typeof o=="string"){var h=s._prime(o);this.m=h.p,this.prime=h}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}H.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},H.prototype._verify2=function(o,h){i((o.negative|h.negative)===0,"red works only with positives"),i(o.red&&o.red===h.red,"red works only with red numbers")},H.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(w(o,o.umod(this.m)._forceRed(this)),o)},H.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},H.prototype.add=function(o,h){this._verify2(o,h);var c=o.add(h);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},H.prototype.iadd=function(o,h){this._verify2(o,h);var c=o.iadd(h);return c.cmp(this.m)>=0&&c.isub(this.m),c},H.prototype.sub=function(o,h){this._verify2(o,h);var c=o.sub(h);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},H.prototype.isub=function(o,h){this._verify2(o,h);var c=o.isub(h);return c.cmpn(0)<0&&c.iadd(this.m),c},H.prototype.shl=function(o,h){return this._verify1(o),this.imod(o.ushln(h))},H.prototype.imul=function(o,h){return this._verify2(o,h),this.imod(o.imul(h))},H.prototype.mul=function(o,h){return this._verify2(o,h),this.imod(o.mul(h))},H.prototype.isqr=function(o){return this.imul(o,o.clone())},H.prototype.sqr=function(o){return this.mul(o,o)},H.prototype.sqrt=function(o){if(o.isZero())return o.clone();var h=this.m.andln(3);if(i(h%2===1),h===3){var c=this.m.add(new s(1)).iushrn(2);return this.pow(o,c)}for(var v=this.m.subn(1),y=0;!v.isZero()&&v.andln(1)===0;)y++,v.iushrn(1);i(!v.isZero());var M=new s(1).toRed(this),E=M.redNeg(),d=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,d).cmp(E)!==0;)f.redIAdd(E);for(var _=this.pow(f,v),J=this.pow(o,v.addn(1).iushrn(1)),W=this.pow(o,v),g=y;W.cmp(M)!==0;){for(var F=W,O=0;F.cmp(M)!==0;O++)F=F.redSqr();i(O<g);var B=this.pow(_,new s(1).iushln(g-O-1));J=J.redMul(B),_=B.redSqr(),W=W.redMul(_),g=O}return J},H.prototype.invm=function(o){var h=o._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},H.prototype.pow=function(o,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return o.clone();var c=4,v=new Array(1<<c);v[0]=new s(1).toRed(this),v[1]=o;for(var y=2;y<v.length;y++)v[y]=this.mul(v[y-1],o);var M=v[0],E=0,d=0,f=h.bitLength()%26;for(f===0&&(f=26),y=h.length-1;y>=0;y--){for(var _=h.words[y],J=f-1;J>=0;J--){var W=_>>J&1;if(M!==v[0]&&(M=this.sqr(M)),W===0&&E===0){d=0;continue}E<<=1,E|=W,d++,!(d!==c&&(y!==0||J!==0))&&(M=this.mul(M,v[E]),d=0,E=0)}f=26}return M},H.prototype.convertTo=function(o){var h=o.umod(this.m);return h===o?h.clone():h},H.prototype.convertFrom=function(o){var h=o.clone();return h.red=null,h},s.mont=function(o){return new I(o)};function I(o){H.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(I,H),I.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},I.prototype.convertFrom=function(o){var h=this.imod(o.mul(this.rinv));return h.red=null,h},I.prototype.imul=function(o,h){if(o.isZero()||h.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(h),v=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=c.isub(v).iushrn(this.shift),M=y;return y.cmp(this.m)>=0?M=y.isub(this.m):y.cmpn(0)<0&&(M=y.iadd(this.m)),M._forceRed(this)},I.prototype.mul=function(o,h){if(o.isZero()||h.isZero())return new s(0)._forceRed(this);var c=o.mul(h),v=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=c.isub(v).iushrn(this.shift),M=y;return y.cmp(this.m)>=0?M=y.isub(this.m):y.cmpn(0)<0&&(M=y.iadd(this.m)),M._forceRed(this)},I.prototype.invm=function(o){var h=this.imod(o._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,l5)})(m5);var Me=m5.exports;const v5="bignumber/5.7.0";var Y0=Me.BN;const Mo=new ri(v5),j1={},ZL=9007199254740991;function tk(e){return e!=null&&(or.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||rn(e)||typeof e=="bigint"||gh(e))}let p6=!1;class or{constructor(t,r){t!==j1&&Mo.throwError("cannot call constructor directly; use BigNumber.from",ri.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return qi(Be(this).fromTwos(t))}toTwos(t){return qi(Be(this).toTwos(t))}abs(){return this._hex[0]==="-"?or.from(this._hex.substring(1)):this}add(t){return qi(Be(this).add(Be(t)))}sub(t){return qi(Be(this).sub(Be(t)))}div(t){return or.from(t).isZero()&&_n("division-by-zero","div"),qi(Be(this).div(Be(t)))}mul(t){return qi(Be(this).mul(Be(t)))}mod(t){const r=Be(t);return r.isNeg()&&_n("division-by-zero","mod"),qi(Be(this).umod(r))}pow(t){const r=Be(t);return r.isNeg()&&_n("negative-power","pow"),qi(Be(this).pow(r))}and(t){const r=Be(t);return(this.isNegative()||r.isNeg())&&_n("unbound-bitwise-result","and"),qi(Be(this).and(r))}or(t){const r=Be(t);return(this.isNegative()||r.isNeg())&&_n("unbound-bitwise-result","or"),qi(Be(this).or(r))}xor(t){const r=Be(t);return(this.isNegative()||r.isNeg())&&_n("unbound-bitwise-result","xor"),qi(Be(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&_n("negative-width","mask"),qi(Be(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&_n("negative-width","shl"),qi(Be(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&_n("negative-width","shr"),qi(Be(this).shrn(t))}eq(t){return Be(this).eq(Be(t))}lt(t){return Be(this).lt(Be(t))}lte(t){return Be(this).lte(Be(t))}gt(t){return Be(this).gt(Be(t))}gte(t){return Be(this).gte(Be(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Be(this).isZero()}toNumber(){try{return Be(this).toNumber()}catch{_n("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Mo.throwError("this platform does not support BigInt",ri.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?p6||(p6=!0,Mo.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Mo.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ri.errors.UNEXPECTED_ARGUMENT,{}):Mo.throwError("BigNumber.toString does not accept parameters",ri.errors.UNEXPECTED_ARGUMENT,{})),Be(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof or)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new or(j1,xu(t)):t.match(/^-?[0-9]+$/)?new or(j1,xu(new Y0(t))):Mo.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&_n("underflow","BigNumber.from",t),(t>=ZL||t<=-9007199254740991)&&_n("overflow","BigNumber.from",t),or.from(String(t));const r=t;if(typeof r=="bigint")return or.from(r.toString());if(gh(r))return or.from(ki(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return or.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(rn(i)||i[0]==="-"&&rn(i.substring(1))))return or.from(i)}return Mo.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function xu(e){if(typeof e!="string")return xu(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&Mo.throwArgumentError("invalid hex","value",e),e=xu(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function qi(e){return or.from(xu(e))}function Be(e){const t=or.from(e).toHexString();return t[0]==="-"?new Y0("-"+t.substring(3),16):new Y0(t.substring(2),16)}function _n(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),Mo.throwError(e,ri.errors.NUMERIC_FAULT,i)}function ek(e){return new Y0(e,36).toString(16)}const Si=new ri(v5),gu={},b5=or.from(0),y5=or.from(-1);function w5(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),Si.throwError(e,ri.errors.NUMERIC_FAULT,n)}let mu="0";for(;mu.length<256;)mu+=mu;function U2(e){if(typeof e!="number")try{e=or.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+mu.substring(0,e):Si.throwArgumentError("invalid decimal size","decimals",e)}function K1(e,t){t==null&&(t=0);const r=U2(t);e=or.from(e);const i=e.lt(b5);i&&(e=e.mul(y5));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=e.div(r).toString();return r.length===1?e=s:e=s+"."+n,i&&(e="-"+e),e}function wo(e,t){t==null&&(t=0);const r=U2(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&Si.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&Si.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&Si.throwArgumentError("too many decimal points","value",e);let s=n[0],u=n[1];for(s||(s="0"),u||(u="0");u[u.length-1]==="0";)u=u.substring(0,u.length-1);for(u.length>r.length-1&&w5("fractional component exceeds decimals","underflow","parseFixed"),u===""&&(u="0");u.length<r.length-1;)u+="0";const p=or.from(s),b=or.from(u);let m=p.mul(r).add(b);return i&&(m=m.mul(y5)),m}class Uf{constructor(t,r,i,n){t!==gu&&Si.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ri.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=U2(n),Object.freeze(this)}static from(t){if(t instanceof Uf)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Si.throwArgumentError("invalid fixed format","format",t),r=s[1]!=="u",i=parseInt(s[2]),n=parseInt(s[3])}}else if(t){const s=(u,p,b)=>t[u]==null?b:(typeof t[u]!==p&&Si.throwArgumentError("invalid fixed format ("+u+" not "+p+")","format."+u,t[u]),t[u]);r=s("signed","boolean",r),i=s("width","number",i),n=s("decimals","number",n)}return i%8&&Si.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&Si.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Uf(gu,r,i,n)}}class ei{constructor(t,r,i,n){t!==gu&&Si.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ri.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Si.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=wo(this._value,this.format.decimals),i=wo(t._value,t.format.decimals);return ei.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=wo(this._value,this.format.decimals),i=wo(t._value,t.format.decimals);return ei.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=wo(this._value,this.format.decimals),i=wo(t._value,t.format.decimals);return ei.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=wo(this._value,this.format.decimals),i=wo(t._value,t.format.decimals);return ei.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=ei.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(g6.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=ei.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(g6.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&Si.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=ei.from("1"+mu.substring(0,t),this.format),n=rk.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Si.throwArgumentError("invalid byte width","width",t);const r=or.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Ks(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return ei.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!tk(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),ei.fromString(K1(t,r),Uf.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=Uf.from(r),n=wo(t,i.decimals);!i.signed&&n.lt(b5)&&w5("unsigned value cannot be negative","overflow","value",t);let s=null;i.signed?s=n.toTwos(i.width).toHexString():(s=n.toHexString(),s=Ks(s,i.width/8));const u=K1(n,i.decimals);return new ei(gu,s,u,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=Uf.from(r);if(br(t).length>i.width/8)throw new Error("overflow");let n=or.from(t);i.signed&&(n=n.fromTwos(i.width));const s=n.toTwos((i.signed?0:1)+i.width).toHexString(),u=K1(n,i.decimals);return new ei(gu,s,u,i)}static from(t,r){if(typeof t=="string")return ei.fromString(t,r);if(gh(t))return ei.fromBytes(t,r);try{return ei.fromValue(t,0,r)}catch(i){if(i.code!==ri.errors.INVALID_ARGUMENT)throw i}return Si.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const g6=ei.from(1),rk=ei.from("0.5"),ik="strings/5.7.0",nk=new ri(ik);var W0;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(W0||(W0={}));var m6;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(m6||(m6={}));function G1(e,t=W0.current){t!=W0.current&&(nk.checkNormalize(),e=e.normalize(t));let r=[];for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(n&63|128);else if((n&64512)==55296){i++;const s=e.charCodeAt(i);if(i>=e.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const u=65536+((n&1023)<<10)+(s&1023);r.push(u>>18|240),r.push(u>>12&63|128),r.push(u>>6&63|128),r.push(u&63|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(n&63|128)}return br(r)}function sk(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function Q1(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let s=n.split(":");r+=parseInt(s[0],16),i[r]=t(s[1])}),i}function v6(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}v6("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),Q1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Q1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Q1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",sk),v6("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function ok(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return br(t)}function A5(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(s,u){i.call(s,function(p){u>0&&Array.isArray(p)?n(p,u-1):r.push(p)})};return n(e,t),r}function ak(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function fk(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,s=[0,1];for(let j=1;j<i;j++)s.push(n+=r());let u=r(),p=t;t+=u;let b=0,m=0;function w(){return b==0&&(m=m<<8|e[t++],b=8),m>>--b&1}const S=31,D=Math.pow(2,S),N=D>>>1,P=N>>1,L=D-1;let k=0;for(let j=0;j<S;j++)k=k<<1|w();let Y=[],Q=0,X=D;for(;;){let j=Math.floor(((k-Q+1)*n-1)/X),K=0,C=i;for(;C-K>1;){let dt=K+C>>>1;j<s[dt]?C=dt:K=dt}if(K==0)break;Y.push(K);let z=Q+Math.floor(X*s[K]/n),st=Q+Math.floor(X*s[K+1]/n)-1;for(;!((z^st)&N);)k=k<<1&L|w(),z=z<<1&L,st=st<<1&L|1;for(;z&~st&P;)k=k&N|k<<1&L>>>1|w(),z=z<<1^N,st=(st^N)<<1|N|1;Q=z,X=1+st-z}let $=i-4;return Y.map(j=>{switch(j-$){case 3:return $+65792+(e[p++]<<16|e[p++]<<8|e[p++]);case 2:return $+256+(e[p++]<<8|e[p++]);case 1:return $+e[p++];default:return j-1}})}function hk(e){let t=0;return()=>e[t++]}function uk(e){return hk(fk(e))}function ck(e){return e&1?~e>>1:e>>1}function lk(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function b6(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function dk(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=ck(t());return r}function X0(e,t){let r=b6(e(),e),i=e(),n=b6(i,e),s=lk(i,e);for(let u=0;u<i;u++)for(let p=0;p<s[u];p++)r.push(n[u]+p);return t?r.map(u=>t[u]):r}function pk(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(mk(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(vk(r,e))}return ak(A5(t))}function gk(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function _5(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)dk(e,r).forEach((s,u)=>i[u].push(s));return i}function mk(e,t){let r=1+t(),i=t(),n=gk(t),s=_5(n.length,1+e,t);return A5(s.map((u,p)=>{const b=u[0],m=u.slice(1);return Array(n[p]).fill(void 0).map((w,S)=>{let D=S*i;return[b+S*r,m.map(N=>N+D)]})}))}function vk(e,t){let r=1+t();return _5(r,1+e,t).map(i=>[i[0],i.slice(1)])}function bk(e){let t=X0(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let m=X0(e,t);if(m.length==0)break;i.push({set:new Set(m),node:r()})}i.sort((m,w)=>w.set.size-m.set.size);let n=e(),s=n%3;n=n/3|0;let u=!!(n&1);n>>=1;let p=n==1,b=n==2;return{branches:i,valid:s,fe0f:u,save:p,check:b}}}function yk(){return uk(ok("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"))}const o0=yk();new Set(X0(o0)),new Set(X0(o0)),pk(o0),bk(o0);const wk=new Uint8Array(32);wk.fill(0);const Ak=`Ethereum Signed Message:
`;function E5(e){return typeof e=="string"&&(e=G1(e)),F2(QL([G1(Ak),G1(String(e.length)),e]))}const _k="address/5.7.0",ou=new ri(_k);function y6(e){rn(e,20)||ou.throwArgumentError("invalid address","address",e),e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let n=0;n<40;n++)r[n]=t[n].charCodeAt(0);const i=br(F2(r));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(t[n]=t[n].toUpperCase()),(i[n>>1]&15)>=8&&(t[n+1]=t[n+1].toUpperCase());return"0x"+t.join("")}const Ek=9007199254740991;function Mk(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const q2={};for(let e=0;e<10;e++)q2[String(e)]=String(e);for(let e=0;e<26;e++)q2[String.fromCharCode(65+e)]=String(10+e);const w6=Math.floor(Mk(Ek));function Sk(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(i=>q2[i]).join("");for(;t.length>=w6;){let i=t.substring(0,w6);t=parseInt(i,10)%97+t.substring(i.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function xk(e){let t=null;if(typeof e!="string"&&ou.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))e.substring(0,2)!=="0x"&&(e="0x"+e),t=y6(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&ou.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Sk(e)&&ou.throwArgumentError("bad icap checksum","address",e),t=ek(e.substring(4));t.length<40;)t="0"+t;t=y6("0x"+t)}else ou.throwArgumentError("invalid address","address",e);return t}function Wh(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}const Ik=new Uint8Array(32);Ik.fill(0),or.from(-1);const Dk=or.from(0),Nk=or.from(1);or.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ks(Nk.toHexString(),32),Ks(Dk.toHexString(),32);var Is={},qe={},Hu=M5;function M5(e,t){if(!e)throw new Error(t||"Assertion failed")}M5.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Xp={exports:{}};typeof Object.create=="function"?Xp.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Xp.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var Ck=Hu,Rk=Xp.exports;qe.inherits=Rk;function Pk(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function Ok(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var s=e.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):Pk(e,n)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}qe.toArray=Ok;function Bk(e){for(var t="",r=0;r<e.length;r++)t+=x5(e[r].toString(16));return t}qe.toHex=Bk;function S5(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}qe.htonl=S5;function Tk(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=S5(n)),r+=I5(n.toString(16))}return r}qe.toHex32=Tk;function x5(e){return e.length===1?"0"+e:e}qe.zero2=x5;function I5(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}qe.zero8=I5;function Fk(e,t,r,i){var n=r-t;Ck(n%4===0);for(var s=new Array(n/4),u=0,p=t;u<s.length;u++,p+=4){var b;i==="big"?b=e[p]<<24|e[p+1]<<16|e[p+2]<<8|e[p+3]:b=e[p+3]<<24|e[p+2]<<16|e[p+1]<<8|e[p],s[u]=b>>>0}return s}qe.join32=Fk;function Uk(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var s=e[i];t==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}qe.split32=Uk;function qk(e,t){return e>>>t|e<<32-t}qe.rotr32=qk;function Lk(e,t){return e<<t|e>>>32-t}qe.rotl32=Lk;function kk(e,t){return e+t>>>0}qe.sum32=kk;function zk(e,t,r){return e+t+r>>>0}qe.sum32_3=zk;function $k(e,t,r,i){return e+t+r+i>>>0}qe.sum32_4=$k;function Hk(e,t,r,i,n){return e+t+r+i+n>>>0}qe.sum32_5=Hk;function jk(e,t,r,i){var n=e[t],s=e[t+1],u=i+s>>>0,p=(u<i?1:0)+r+n;e[t]=p>>>0,e[t+1]=u}qe.sum64=jk;function Kk(e,t,r,i){var n=t+i>>>0,s=(n<t?1:0)+e+r;return s>>>0}qe.sum64_hi=Kk;function Gk(e,t,r,i){var n=t+i;return n>>>0}qe.sum64_lo=Gk;function Qk(e,t,r,i,n,s,u,p){var b=0,m=t;m=m+i>>>0,b+=m<t?1:0,m=m+s>>>0,b+=m<s?1:0,m=m+p>>>0,b+=m<p?1:0;var w=e+r+n+u+b;return w>>>0}qe.sum64_4_hi=Qk;function Vk(e,t,r,i,n,s,u,p){var b=t+i+s+p;return b>>>0}qe.sum64_4_lo=Vk;function Jk(e,t,r,i,n,s,u,p,b,m){var w=0,S=t;S=S+i>>>0,w+=S<t?1:0,S=S+s>>>0,w+=S<s?1:0,S=S+p>>>0,w+=S<p?1:0,S=S+m>>>0,w+=S<m?1:0;var D=e+r+n+u+b+w;return D>>>0}qe.sum64_5_hi=Jk;function Yk(e,t,r,i,n,s,u,p,b,m){var w=t+i+s+p+m;return w>>>0}qe.sum64_5_lo=Yk;function Wk(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}qe.rotr64_hi=Wk;function Xk(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}qe.rotr64_lo=Xk;function Zk(e,t,r){return e>>>r}qe.shr64_hi=Zk;function tz(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}qe.shr64_lo=tz;var mh={},A6=qe,ez=Hu;function a0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}mh.BlockHash=a0,a0.prototype.update=function(e,t){if(e=A6.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=A6.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},a0.prototype.digest=function(e){return this.update(this._pad()),ez(this.pending===null),this._digest(e)},a0.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i};var Df={},io={},rz=qe,Gs=rz.rotr32;function iz(e,t,r,i){if(e===0)return D5(t,r,i);if(e===1||e===3)return C5(t,r,i);if(e===2)return N5(t,r,i)}io.ft_1=iz;function D5(e,t,r){return e&t^~e&r}io.ch32=D5;function N5(e,t,r){return e&t^e&r^t&r}io.maj32=N5;function C5(e,t,r){return e^t^r}io.p32=C5;function nz(e){return Gs(e,2)^Gs(e,13)^Gs(e,22)}io.s0_256=nz;function sz(e){return Gs(e,6)^Gs(e,11)^Gs(e,25)}io.s1_256=sz;function oz(e){return Gs(e,7)^Gs(e,18)^e>>>3}io.g0_256=oz;function az(e){return Gs(e,17)^Gs(e,19)^e>>>10}io.g1_256=az;var Jf=qe,fz=mh,hz=io,V1=Jf.rotl32,Xh=Jf.sum32,uz=Jf.sum32_5,cz=hz.ft_1,R5=fz.BlockHash,lz=[1518500249,1859775393,2400959708,3395469782];function Os(){if(!(this instanceof Os))return new Os;R5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Jf.inherits(Os,R5);var dz=Os;Os.blockSize=512,Os.outSize=160,Os.hmacStrength=80,Os.padLength=64,Os.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=V1(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],u=this.h[2],p=this.h[3],b=this.h[4];for(i=0;i<r.length;i++){var m=~~(i/20),w=uz(V1(n,5),cz(m,s,u,p),b,r[i],lz[m]);b=p,p=u,u=V1(s,30),s=n,n=w}this.h[0]=Xh(this.h[0],n),this.h[1]=Xh(this.h[1],s),this.h[2]=Xh(this.h[2],u),this.h[3]=Xh(this.h[3],p),this.h[4]=Xh(this.h[4],b)},Os.prototype._digest=function(e){return e==="hex"?Jf.toHex32(this.h,"big"):Jf.split32(this.h,"big")};var Yf=qe,pz=mh,vh=io,gz=Hu,Qn=Yf.sum32,mz=Yf.sum32_4,vz=Yf.sum32_5,bz=vh.ch32,yz=vh.maj32,wz=vh.s0_256,Az=vh.s1_256,_z=vh.g0_256,Ez=vh.g1_256,P5=pz.BlockHash,Mz=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bs(){if(!(this instanceof Bs))return new Bs;P5.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Mz,this.W=new Array(64)}Yf.inherits(Bs,P5);var O5=Bs;Bs.blockSize=512,Bs.outSize=256,Bs.hmacStrength=192,Bs.padLength=64,Bs.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=mz(Ez(r[i-2]),r[i-7],_z(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],u=this.h[2],p=this.h[3],b=this.h[4],m=this.h[5],w=this.h[6],S=this.h[7];for(gz(this.k.length===r.length),i=0;i<r.length;i++){var D=vz(S,Az(b),bz(b,m,w),this.k[i],r[i]),N=Qn(wz(n),yz(n,s,u));S=w,w=m,m=b,b=Qn(p,D),p=u,u=s,s=n,n=Qn(D,N)}this.h[0]=Qn(this.h[0],n),this.h[1]=Qn(this.h[1],s),this.h[2]=Qn(this.h[2],u),this.h[3]=Qn(this.h[3],p),this.h[4]=Qn(this.h[4],b),this.h[5]=Qn(this.h[5],m),this.h[6]=Qn(this.h[6],w),this.h[7]=Qn(this.h[7],S)},Bs.prototype._digest=function(e){return e==="hex"?Yf.toHex32(this.h,"big"):Yf.split32(this.h,"big")};var Zp=qe,B5=O5;function No(){if(!(this instanceof No))return new No;B5.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Zp.inherits(No,B5);var Sz=No;No.blockSize=512,No.outSize=224,No.hmacStrength=192,No.padLength=64,No.prototype._digest=function(e){return e==="hex"?Zp.toHex32(this.h.slice(0,7),"big"):Zp.split32(this.h.slice(0,7),"big")};var Vi=qe,xz=mh,Iz=Hu,Qs=Vi.rotr64_hi,Vs=Vi.rotr64_lo,T5=Vi.shr64_hi,F5=Vi.shr64_lo,Jo=Vi.sum64,J1=Vi.sum64_hi,Y1=Vi.sum64_lo,Dz=Vi.sum64_4_hi,Nz=Vi.sum64_4_lo,Cz=Vi.sum64_5_hi,Rz=Vi.sum64_5_lo,U5=xz.BlockHash,Pz=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function is(){if(!(this instanceof is))return new is;U5.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Pz,this.W=new Array(160)}Vi.inherits(is,U5);var q5=is;is.blockSize=1024,is.outSize=512,is.hmacStrength=192,is.padLength=128,is.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=Hz(r[i-4],r[i-3]),s=jz(r[i-4],r[i-3]),u=r[i-14],p=r[i-13],b=zz(r[i-30],r[i-29]),m=$z(r[i-30],r[i-29]),w=r[i-32],S=r[i-31];r[i]=Dz(n,s,u,p,b,m,w,S),r[i+1]=Nz(n,s,u,p,b,m,w,S)}},is.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],s=this.h[2],u=this.h[3],p=this.h[4],b=this.h[5],m=this.h[6],w=this.h[7],S=this.h[8],D=this.h[9],N=this.h[10],P=this.h[11],L=this.h[12],k=this.h[13],Y=this.h[14],Q=this.h[15];Iz(this.k.length===r.length);for(var X=0;X<r.length;X+=2){var $=Y,j=Q,K=Lz(S,D),C=kz(S,D),z=Oz(S,D,N,P,L),st=Bz(S,D,N,P,L,k),dt=this.k[X],H=this.k[X+1],I=r[X],o=r[X+1],h=Cz($,j,K,C,z,st,dt,H,I,o),c=Rz($,j,K,C,z,st,dt,H,I,o);$=Uz(i,n),j=qz(i,n),K=Tz(i,n,s,u,p),C=Fz(i,n,s,u,p,b);var v=J1($,j,K,C),y=Y1($,j,K,C);Y=L,Q=k,L=N,k=P,N=S,P=D,S=J1(m,w,h,c),D=Y1(w,w,h,c),m=p,w=b,p=s,b=u,s=i,u=n,i=J1(h,c,v,y),n=Y1(h,c,v,y)}Jo(this.h,0,i,n),Jo(this.h,2,s,u),Jo(this.h,4,p,b),Jo(this.h,6,m,w),Jo(this.h,8,S,D),Jo(this.h,10,N,P),Jo(this.h,12,L,k),Jo(this.h,14,Y,Q)},is.prototype._digest=function(e){return e==="hex"?Vi.toHex32(this.h,"big"):Vi.split32(this.h,"big")};function Oz(e,t,r,i,n){var s=e&r^~e&n;return s<0&&(s+=4294967296),s}function Bz(e,t,r,i,n,s){var u=t&i^~t&s;return u<0&&(u+=4294967296),u}function Tz(e,t,r,i,n){var s=e&r^e&n^r&n;return s<0&&(s+=4294967296),s}function Fz(e,t,r,i,n,s){var u=t&i^t&s^i&s;return u<0&&(u+=4294967296),u}function Uz(e,t){var r=Qs(e,t,28),i=Qs(t,e,2),n=Qs(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function qz(e,t){var r=Vs(e,t,28),i=Vs(t,e,2),n=Vs(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Lz(e,t){var r=Qs(e,t,14),i=Qs(e,t,18),n=Qs(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function kz(e,t){var r=Vs(e,t,14),i=Vs(e,t,18),n=Vs(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function zz(e,t){var r=Qs(e,t,1),i=Qs(e,t,8),n=T5(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function $z(e,t){var r=Vs(e,t,1),i=Vs(e,t,8),n=F5(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Hz(e,t){var r=Qs(e,t,19),i=Qs(t,e,29),n=T5(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}function jz(e,t){var r=Vs(e,t,19),i=Vs(t,e,29),n=F5(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}var t2=qe,L5=q5;function Co(){if(!(this instanceof Co))return new Co;L5.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}t2.inherits(Co,L5);var Kz=Co;Co.blockSize=1024,Co.outSize=384,Co.hmacStrength=192,Co.padLength=128,Co.prototype._digest=function(e){return e==="hex"?t2.toHex32(this.h.slice(0,12),"big"):t2.split32(this.h.slice(0,12),"big")},Df.sha1=dz,Df.sha224=Sz,Df.sha256=O5,Df.sha384=Kz,Df.sha512=q5;var k5={},Ua=qe,Gz=mh,f0=Ua.rotl32,_6=Ua.sum32,Zh=Ua.sum32_3,E6=Ua.sum32_4,z5=Gz.BlockHash;function Ds(){if(!(this instanceof Ds))return new Ds;z5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ua.inherits(Ds,z5),k5.ripemd160=Ds,Ds.blockSize=512,Ds.outSize=160,Ds.hmacStrength=192,Ds.padLength=64,Ds.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],s=this.h[3],u=this.h[4],p=r,b=i,m=n,w=s,S=u,D=0;D<80;D++){var N=_6(f0(E6(r,M6(D,i,n,s),e[Jz[D]+t],Qz(D)),Wz[D]),u);r=u,u=s,s=f0(n,10),n=i,i=N,N=_6(f0(E6(p,M6(79-D,b,m,w),e[Yz[D]+t],Vz(D)),Xz[D]),S),p=S,S=w,w=f0(m,10),m=b,b=N}N=Zh(this.h[1],n,w),this.h[1]=Zh(this.h[2],s,S),this.h[2]=Zh(this.h[3],u,p),this.h[3]=Zh(this.h[4],r,b),this.h[4]=Zh(this.h[0],i,m),this.h[0]=N},Ds.prototype._digest=function(e){return e==="hex"?Ua.toHex32(this.h,"little"):Ua.split32(this.h,"little")};function M6(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function Qz(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Vz(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var Jz=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Yz=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Wz=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Xz=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Zz=qe,t$=Hu;function qf(e,t,r){if(!(this instanceof qf))return new qf(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(Zz.toArray(t,r))}var e$=qf;qf.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),t$(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},qf.prototype.update=function(e,t){return this.inner.update(e,t),this},qf.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=qe,t.common=mh,t.sha=Df,t.ripemd=k5,t.hmac=e$,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(Is);function bh(e,t,r){return r={path:t,exports:{},require:function(i,n){return r$(i,n??r.path)}},e(r,r.exports),r.exports}function r$(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var L2=$5;function $5(e,t){if(!e)throw new Error(t||"Assertion failed")}$5.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var fs=bh(function(e,t){var r=t;function i(u,p){if(Array.isArray(u))return u.slice();if(!u)return[];var b=[];if(typeof u!="string"){for(var m=0;m<u.length;m++)b[m]=u[m]|0;return b}if(p==="hex"){u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u);for(var m=0;m<u.length;m+=2)b.push(parseInt(u[m]+u[m+1],16))}else for(var m=0;m<u.length;m++){var w=u.charCodeAt(m),S=w>>8,D=w&255;S?b.push(S,D):b.push(D)}return b}r.toArray=i;function n(u){return u.length===1?"0"+u:u}r.zero2=n;function s(u){for(var p="",b=0;b<u.length;b++)p+=n(u[b].toString(16));return p}r.toHex=s,r.encode=function(u,p){return p==="hex"?s(u):u}}),on=bh(function(e,t){var r=t;r.assert=L2,r.toArray=fs.toArray,r.zero2=fs.zero2,r.toHex=fs.toHex,r.encode=fs.encode;function i(b,m,w){var S=new Array(Math.max(b.bitLength(),w)+1);S.fill(0);for(var D=1<<m+1,N=b.clone(),P=0;P<S.length;P++){var L,k=N.andln(D-1);N.isOdd()?(k>(D>>1)-1?L=(D>>1)-k:L=k,N.isubn(L)):L=0,S[P]=L,N.iushrn(1)}return S}r.getNAF=i;function n(b,m){var w=[[],[]];b=b.clone(),m=m.clone();for(var S=0,D=0,N;b.cmpn(-S)>0||m.cmpn(-D)>0;){var P=b.andln(3)+S&3,L=m.andln(3)+D&3;P===3&&(P=-1),L===3&&(L=-1);var k;P&1?(N=b.andln(7)+S&7,(N===3||N===5)&&L===2?k=-P:k=P):k=0,w[0].push(k);var Y;L&1?(N=m.andln(7)+D&7,(N===3||N===5)&&P===2?Y=-L:Y=L):Y=0,w[1].push(Y),2*S===k+1&&(S=1-S),2*D===Y+1&&(D=1-D),b.iushrn(1),m.iushrn(1)}return w}r.getJSF=n;function s(b,m,w){var S="_"+m;b.prototype[m]=function(){return this[S]!==void 0?this[S]:this[S]=w.call(this)}}r.cachedProperty=s;function u(b){return typeof b=="string"?r.toArray(b,"hex"):b}r.parseBytes=u;function p(b){return new Me(b,"hex","le")}r.intFromLE=p}),h0=on.getNAF,i$=on.getJSF,Z0=on.assert;function ra(e,t){this.type=e,this.p=new Me(t.p,16),this.red=t.prime?Me.red(t.prime):Me.mont(this.p),this.zero=new Me(0).toRed(this.red),this.one=new Me(1).toRed(this.red),this.two=new Me(2).toRed(this.red),this.n=t.n&&new Me(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Xa=ra;ra.prototype.point=function(){throw new Error("Not implemented")},ra.prototype.validate=function(){throw new Error("Not implemented")},ra.prototype._fixedNafMul=function(e,t){Z0(e.precomputed);var r=e._getDoubles(),i=h0(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var s=[],u,p;for(u=0;u<i.length;u+=r.step){p=0;for(var b=u+r.step-1;b>=u;b--)p=(p<<1)+i[b];s.push(p)}for(var m=this.jpoint(null,null,null),w=this.jpoint(null,null,null),S=n;S>0;S--){for(u=0;u<s.length;u++)p=s[u],p===S?w=w.mixedAdd(r.points[u]):p===-S&&(w=w.mixedAdd(r.points[u].neg()));m=m.add(w)}return m.toP()},ra.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=h0(t,r,this._bitLength),u=this.jpoint(null,null,null),p=s.length-1;p>=0;p--){for(var b=0;p>=0&&s[p]===0;p--)b++;if(p>=0&&b++,u=u.dblp(b),p<0)break;var m=s[p];Z0(m!==0),e.type==="affine"?m>0?u=u.mixedAdd(n[m-1>>1]):u=u.mixedAdd(n[-m-1>>1].neg()):m>0?u=u.add(n[m-1>>1]):u=u.add(n[-m-1>>1].neg())}return e.type==="affine"?u.toP():u},ra.prototype._wnafMulAdd=function(e,t,r,i,n){var s=this._wnafT1,u=this._wnafT2,p=this._wnafT3,b=0,m,w,S;for(m=0;m<i;m++){S=t[m];var D=S._getNAFPoints(e);s[m]=D.wnd,u[m]=D.points}for(m=i-1;m>=1;m-=2){var N=m-1,P=m;if(s[N]!==1||s[P]!==1){p[N]=h0(r[N],s[N],this._bitLength),p[P]=h0(r[P],s[P],this._bitLength),b=Math.max(p[N].length,b),b=Math.max(p[P].length,b);continue}var L=[t[N],null,null,t[P]];t[N].y.cmp(t[P].y)===0?(L[1]=t[N].add(t[P]),L[2]=t[N].toJ().mixedAdd(t[P].neg())):t[N].y.cmp(t[P].y.redNeg())===0?(L[1]=t[N].toJ().mixedAdd(t[P]),L[2]=t[N].add(t[P].neg())):(L[1]=t[N].toJ().mixedAdd(t[P]),L[2]=t[N].toJ().mixedAdd(t[P].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],Y=i$(r[N],r[P]);for(b=Math.max(Y[0].length,b),p[N]=new Array(b),p[P]=new Array(b),w=0;w<b;w++){var Q=Y[0][w]|0,X=Y[1][w]|0;p[N][w]=k[(Q+1)*3+(X+1)],p[P][w]=0,u[N]=L}}var $=this.jpoint(null,null,null),j=this._wnafT4;for(m=b;m>=0;m--){for(var K=0;m>=0;){var C=!0;for(w=0;w<i;w++)j[w]=p[w][m]|0,j[w]!==0&&(C=!1);if(!C)break;K++,m--}if(m>=0&&K++,$=$.dblp(K),m<0)break;for(w=0;w<i;w++){var z=j[w];z!==0&&(z>0?S=u[w][z-1>>1]:z<0&&(S=u[w][-z-1>>1].neg()),S.type==="affine"?$=$.mixedAdd(S):$=$.add(S))}}for(m=0;m<i;m++)u[m]=null;return n?$:$.toP()};function En(e,t){this.curve=e,this.type=t,this.precomputed=null}ra.BasePoint=En,En.prototype.eq=function(){throw new Error("Not implemented")},En.prototype.validate=function(){return this.curve.validate(this)},ra.prototype.decodePoint=function(e,t){e=on.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?Z0(e[e.length-1]%2===0):e[0]===7&&Z0(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},En.prototype.encodeCompressed=function(e){return this.encode(e,!0)},En.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},En.prototype.encode=function(e,t){return on.encode(this._encode(t),e)},En.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},En.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},En.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},En.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},En.prototype._getBeta=function(){return null},En.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var k2=bh(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),n$=on.assert;function Rn(e){Xa.call(this,"short",e),this.a=new Me(e.a,16).toRed(this.red),this.b=new Me(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}k2(Rn,Xa);var s$=Rn;Rn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Me(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new Me(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],n$(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(u){return{a:new Me(u.a,16),b:new Me(u.b,16)}}):s=this._getEndoBasis(r),{beta:t,lambda:r,basis:s}}},Rn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Me.mont(e),r=new Me(2).toRed(t).redInvm(),i=r.redNeg(),n=new Me(3).toRed(t).redNeg().redSqrt().redMul(r),s=i.redAdd(n).fromRed(),u=i.redSub(n).fromRed();return[s,u]},Rn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new Me(1),s=new Me(0),u=new Me(0),p=new Me(1),b,m,w,S,D,N,P,L=0,k,Y;r.cmpn(0)!==0;){var Q=i.div(r);k=i.sub(Q.mul(r)),Y=u.sub(Q.mul(n));var X=p.sub(Q.mul(s));if(!w&&k.cmp(t)<0)b=P.neg(),m=n,w=k.neg(),S=Y;else if(w&&++L===2)break;P=k,i=r,r=k,u=n,n=Y,p=s,s=X}D=k.neg(),N=Y;var $=w.sqr().add(S.sqr()),j=D.sqr().add(N.sqr());return j.cmp($)>=0&&(D=b,N=m),w.negative&&(w=w.neg(),S=S.neg()),D.negative&&(D=D.neg(),N=N.neg()),[{a:w,b:S},{a:D,b:N}]},Rn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),u=n.mul(r.a),p=s.mul(i.a),b=n.mul(r.b),m=s.mul(i.b),w=e.sub(u).sub(p),S=b.add(m).neg();return{k1:w,k2:S}},Rn.prototype.pointFromX=function(e,t){e=new Me(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Rn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Rn.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<e.length;s++){var u=this._endoSplit(t[s]),p=e[s],b=p._getBeta();u.k1.negative&&(u.k1.ineg(),p=p.neg(!0)),u.k2.negative&&(u.k2.ineg(),b=b.neg(!0)),i[s*2]=p,i[s*2+1]=b,n[s*2]=u.k1,n[s*2+1]=u.k2}for(var m=this._wnafMulAdd(1,i,n,s*2,r),w=0;w<s*2;w++)i[w]=null,n[w]=null;return m};function Kr(e,t,r,i){Xa.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Me(t,16),this.y=new Me(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}k2(Kr,Xa.BasePoint),Rn.prototype.point=function(e,t,r){return new Kr(this,e,t,r)},Rn.prototype.pointFromJSON=function(e,t){return Kr.fromJSON(this,e,t)},Kr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},Kr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Kr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(u){return e.point(u[0],u[1],r)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},Kr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Kr.prototype.isInfinity=function(){return this.inf},Kr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Kr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),u=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,u)},Kr.prototype.getX=function(){return this.x.fromRed()},Kr.prototype.getY=function(){return this.y.fromRed()},Kr.prototype.mul=function(e){return e=new Me(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Kr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Kr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Kr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Kr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},Kr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ti(e,t,r,i){Xa.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Me(0)):(this.x=new Me(t,16),this.y=new Me(r,16),this.z=new Me(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}k2(ti,Xa.BasePoint),Rn.prototype.jpoint=function(e,t,r){return new ti(this,e,t,r)},ti.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},ti.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ti.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),u=e.y.redMul(r.redMul(this.z)),p=i.redSub(n),b=s.redSub(u);if(p.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=p.redSqr(),w=m.redMul(p),S=i.redMul(m),D=b.redSqr().redIAdd(w).redISub(S).redISub(S),N=b.redMul(S.redISub(D)).redISub(s.redMul(w)),P=this.z.redMul(e.z).redMul(p);return this.curve.jpoint(D,N,P)},ti.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),u=r.redSub(i),p=n.redSub(s);if(u.cmpn(0)===0)return p.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=u.redSqr(),m=b.redMul(u),w=r.redMul(b),S=p.redSqr().redIAdd(m).redISub(w).redISub(w),D=p.redMul(w.redISub(S)).redISub(n.redMul(m)),N=this.z.redMul(u);return this.curve.jpoint(S,D,N)},ti.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,u=this.y,p=this.z,b=p.redSqr().redSqr(),m=u.redAdd(u);for(t=0;t<e;t++){var w=s.redSqr(),S=m.redSqr(),D=S.redSqr(),N=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(b)),P=s.redMul(S),L=N.redSqr().redISub(P.redAdd(P)),k=P.redISub(L),Y=N.redMul(k);Y=Y.redIAdd(Y).redISub(D);var Q=m.redMul(p);t+1<e&&(b=b.redMul(D)),s=L,p=Q,m=Y}return this.curve.jpoint(s,m.redMul(n),p)},ti.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ti.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),u=this.x.redAdd(n).redSqr().redISub(i).redISub(s);u=u.redIAdd(u);var p=i.redAdd(i).redIAdd(i),b=p.redSqr().redISub(u).redISub(u),m=s.redIAdd(s);m=m.redIAdd(m),m=m.redIAdd(m),e=b,t=p.redMul(u.redISub(b)).redISub(m),r=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),S=this.y.redSqr(),D=S.redSqr(),N=this.x.redAdd(S).redSqr().redISub(w).redISub(D);N=N.redIAdd(N);var P=w.redAdd(w).redIAdd(w),L=P.redSqr(),k=D.redIAdd(D);k=k.redIAdd(k),k=k.redIAdd(k),e=L.redISub(N).redISub(N),t=P.redMul(N.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},ti.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),u=this.x.redAdd(n).redSqr().redISub(i).redISub(s);u=u.redIAdd(u);var p=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=p.redSqr().redISub(u).redISub(u);e=b;var m=s.redIAdd(s);m=m.redIAdd(m),m=m.redIAdd(m),t=p.redMul(u.redISub(b)).redISub(m),r=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),S=this.y.redSqr(),D=this.x.redMul(S),N=this.x.redSub(w).redMul(this.x.redAdd(w));N=N.redAdd(N).redIAdd(N);var P=D.redIAdd(D);P=P.redIAdd(P);var L=P.redAdd(P);e=N.redSqr().redISub(L),r=this.y.redAdd(this.z).redSqr().redISub(S).redISub(w);var k=S.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=N.redMul(P.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},ti.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),u=r.redSqr(),p=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),b=t.redAdd(t);b=b.redIAdd(b);var m=b.redMul(u),w=p.redSqr().redISub(m.redAdd(m)),S=m.redISub(w),D=u.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var N=p.redMul(S).redISub(D),P=r.redAdd(r).redMul(i);return this.curve.jpoint(w,N,P)},ti.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),u=this.x.redAdd(t).redSqr().redISub(e).redISub(i);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(s);var p=u.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var m=n.redIAdd(u).redSqr().redISub(s).redISub(p).redISub(b),w=t.redMul(m);w=w.redIAdd(w),w=w.redIAdd(w);var S=this.x.redMul(p).redISub(w);S=S.redIAdd(S),S=S.redIAdd(S);var D=this.y.redMul(m.redMul(b.redISub(m)).redISub(u.redMul(p)));D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var N=this.z.redAdd(u).redSqr().redISub(r).redISub(p);return this.curve.jpoint(S,D,N)},ti.prototype.mul=function(e,t){return e=new Me(e,t),this.curve._wnafMul(this,e)},ti.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},ti.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},ti.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ti.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var I0=bh(function(e,t){var r=t;r.base=Xa,r.short=s$,r.mont=null,r.edwards=null}),D0=bh(function(e,t){var r=t,i=on.assert;function n(p){p.type==="short"?this.curve=new I0.short(p):p.type==="edwards"?this.curve=new I0.edwards(p):this.curve=new I0.mont(p),this.g=this.curve.g,this.n=this.curve.n,this.hash=p.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function s(p,b){Object.defineProperty(r,p,{configurable:!0,enumerable:!0,get:function(){var m=new n(b);return Object.defineProperty(r,p,{configurable:!0,enumerable:!0,value:m}),m}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Is.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Is.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Is.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Is.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Is.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Is.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Is.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=null.crash()}catch{u=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Is.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})});function ia(e){if(!(this instanceof ia))return new ia(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=fs.toArray(e.entropy,e.entropyEnc||"hex"),r=fs.toArray(e.nonce,e.nonceEnc||"hex"),i=fs.toArray(e.pers,e.persEnc||"hex");L2(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var S6=ia;ia.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},ia.prototype._hmac=function(){return new Is.hmac(this.hash,this.K)},ia.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},ia.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=fs.toArray(e,t),r=fs.toArray(r,i),L2(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},ia.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=fs.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,e);return this._update(r),this._reseed++,fs.encode(s,t)};var W1=on.assert;function ci(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var X1=ci;ci.fromPublic=function(e,t,r){return t instanceof ci?t:new ci(e,{pub:t,pubEnc:r})},ci.fromPrivate=function(e,t,r){return t instanceof ci?t:new ci(e,{priv:t,privEnc:r})},ci.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ci.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},ci.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},ci.prototype._importPrivate=function(e,t){this.priv=new Me(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},ci.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?W1(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&W1(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},ci.prototype.derive=function(e){return e.validate()||W1(e.validate(),"public point not validated"),e.mul(this.priv).getX()},ci.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},ci.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},ci.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var o$=on.assert;function Bl(e,t){if(e instanceof Bl)return e;this._importDER(e,t)||(o$(e.r&&e.s,"Signature without r or s"),this.r=new Me(e.r,16),this.s=new Me(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var u0=Bl;function a$(){this.place=0}function Z1(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,s=0,u=t.place;s<i;s++,u++)n<<=8,n|=e[u],n>>>=0;return n<=127?!1:(t.place=u,n)}function x6(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Bl.prototype._importDER=function(e,t){e=on.toArray(e,t);var r=new a$;if(e[r.place++]!==48)return!1;var i=Z1(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=Z1(e,r);if(n===!1)return!1;var s=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var u=Z1(e,r);if(u===!1||e.length!==u+r.place)return!1;var p=e.slice(r.place,u+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;return this.r=new Me(s),this.s=new Me(p),this.recoveryParam=null,!0};function tp(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Bl.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=x6(t),r=x6(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];tp(i,t.length),i=i.concat(t),i.push(2),tp(i,r.length);var n=i.concat(r),s=[48];return tp(s,n.length),s=s.concat(n),on.encode(s,e)};var f$=function(){throw new Error("unsupported")},H5=on.assert;function In(e){if(!(this instanceof In))return new In(e);typeof e=="string"&&(H5(Object.prototype.hasOwnProperty.call(D0,e),"Unknown curve "+e),e=D0[e]),e instanceof D0.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var h$=In;In.prototype.keyPair=function(e){return new X1(this,e)},In.prototype.keyFromPrivate=function(e,t){return X1.fromPrivate(this,e,t)},In.prototype.keyFromPublic=function(e,t){return X1.fromPublic(this,e,t)},In.prototype.genKeyPair=function(e){e||(e={});for(var t=new S6({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||f$(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Me(2));;){var n=new Me(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},In.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},In.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Me(e,16));for(var n=this.n.byteLength(),s=t.getPrivate().toArray("be",n),u=e.toArray("be",n),p=new S6({hash:this.hash,entropy:s,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new Me(1)),m=0;;m++){var w=i.k?i.k(m):new Me(p.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(b)>=0)){var S=this.g.mul(w);if(!S.isInfinity()){var D=S.getX(),N=D.umod(this.n);if(N.cmpn(0)!==0){var P=w.invm(this.n).mul(N.mul(t.getPrivate()).iadd(e));if(P=P.umod(this.n),P.cmpn(0)!==0){var L=(S.getY().isOdd()?1:0)|(D.cmp(N)!==0?2:0);return i.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),L^=1),new u0({r:N,s:P,recoveryParam:L})}}}}}},In.prototype.verify=function(e,t,r,i){e=this._truncateToN(new Me(e,16)),r=this.keyFromPublic(r,i),t=new u0(t,"hex");var n=t.r,s=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),p=u.mul(e).umod(this.n),b=u.mul(n).umod(this.n),m;return this.curve._maxwellTrick?(m=this.g.jmulAdd(p,r.getPublic(),b),m.isInfinity()?!1:m.eqXToP(n)):(m=this.g.mulAdd(p,r.getPublic(),b),m.isInfinity()?!1:m.getX().umod(this.n).cmp(n)===0)},In.prototype.recoverPubKey=function(e,t,r,i){H5((3&r)===r,"The recovery param is more than two bits"),t=new u0(t,i);var n=this.n,s=new Me(e),u=t.r,p=t.s,b=r&1,m=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");m?u=this.curve.pointFromX(u.add(this.curve.n),b):u=this.curve.pointFromX(u,b);var w=t.r.invm(n),S=n.sub(s).mul(w).umod(n),D=p.mul(w).umod(n);return this.g.mulAdd(S,u,D)},In.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new u0(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var u$=bh(function(e,t){var r=t;r.version="6.5.4",r.utils=on,r.rand=function(){throw new Error("unsupported")},r.curve=I0,r.curves=D0,r.ec=h$,r.eddsa=null}),c$=u$.ec;const l$="signing-key/5.7.0",e2=new ri(l$);let ep=null;function Wo(){return ep||(ep=new c$("secp256k1")),ep}class d${constructor(t){Wh(this,"curve","secp256k1"),Wh(this,"privateKey",ki(t)),JL(this.privateKey)!==32&&e2.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Wo().keyFromPrivate(br(this.privateKey));Wh(this,"publicKey","0x"+r.getPublic(!1,"hex")),Wh(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Wh(this,"_isSigningKey",!0)}_addPoint(t){const r=Wo().keyFromPublic(br(this.publicKey)),i=Wo().keyFromPublic(br(t));return"0x"+r.pub.add(i.pub).encodeCompressed("hex")}signDigest(t){const r=Wo().keyFromPrivate(br(this.privateKey)),i=br(t);i.length!==32&&e2.throwArgumentError("bad digest length","digest",t);const n=r.sign(i,{canonical:!0});return g5({recoveryParam:n.recoveryParam,r:Ks("0x"+n.r.toString(16),32),s:Ks("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const r=Wo().keyFromPrivate(br(this.privateKey)),i=Wo().keyFromPublic(br(j5(t)));return Ks("0x"+r.derive(i.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function p$(e,t){const r=g5(t),i={r:br(r.r),s:br(r.s)};return"0x"+Wo().recoverPubKey(br(e),i,r.recoveryParam).encode("hex",!1)}function j5(e,t){const r=br(e);return r.length===32?new d$(r).publicKey:r.length===33?"0x"+Wo().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ki(r):e2.throwArgumentError("invalid public or private key","key","[REDACTED]")}var I6;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(I6||(I6={}));function g$(e){const t=j5(e);return xk(d6(F2(d6(t,1)),12))}function m$(e,t){return g$(p$(br(e),t))}const v$="https://rpc.walletconnect.org/v1";async function b$(e,t,r,i,n,s){switch(r.t){case"eip191":return y$(e,t,r.s);case"eip1271":return await w$(e,t,r.s,i,n,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function y$(e,t,r){return m$(E5(t),r).toLowerCase()===e.toLowerCase()}async function w$(e,t,r,i,n,s){try{const u="0x1626ba7e",p="0000000000000000000000000000000000000000000000000000000000000040",b="0000000000000000000000000000000000000000000000000000000000000041",m=r.substring(2),w=E5(t).substring(2),S=u+w+p+b+m,D=await fetch(`${s||v$}/?chainId=${i}&projectId=${n}`,{method:"POST",body:JSON.stringify({id:A$(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:S},"latest"]})}),{result:N}=await D.json();return N?N.slice(0,u.length).toLowerCase()===u.toLowerCase():!1}catch(u){return console.error("isValidEip1271Signature: ",u),!1}}function A$(){return Date.now()+Math.floor(Math.random()*1e3)}var _$=Object.defineProperty,E$=Object.defineProperties,M$=Object.getOwnPropertyDescriptors,D6=Object.getOwnPropertySymbols,S$=Object.prototype.hasOwnProperty,x$=Object.prototype.propertyIsEnumerable,N6=(e,t,r)=>t in e?_$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I$=(e,t)=>{for(var r in t||(t={}))S$.call(t,r)&&N6(e,r,t[r]);if(D6)for(var r of D6(t))x$.call(t,r)&&N6(e,r,t[r]);return e},D$=(e,t)=>E$(e,M$(t));const N$="did:pkh:",z2=e=>e==null?void 0:e.split(":"),K5=e=>{const t=e&&z2(e);if(t)return e.includes(N$)?t[3]:t[1]},C6=e=>{const t=e&&z2(e);if(t)return t[2]+":"+t[3]},tl=e=>{const t=e&&z2(e);if(t)return t.pop()};async function R6(e){const{cacao:t,projectId:r}=e,{s:i,p:n}=t,s=G5(n,n.iss),u=tl(n.iss);return await b$(u,s,i,K5(n.iss),r)}const G5=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,i=tl(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let n=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,u=`Version: ${e.version}`,p=`Chain ID: ${K5(t)}`,b=`Nonce: ${e.nonce}`,m=`Issued At: ${e.iat}`,w=e.exp?`Expiration Time: ${e.exp}`:void 0,S=e.nbf?`Not Before: ${e.nbf}`:void 0,D=e.requestId?`Request ID: ${e.requestId}`:void 0,N=e.resources?`Resources:${e.resources.map(L=>`
- ${L}`).join("")}`:void 0,P=N0(e.resources);if(P){const L=Iu(P);n=q$(n,L)}return[r,i,"",n,"",s,u,p,b,m,w,S,D,N].filter(L=>L!=null).join(`
`)};function C$(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function R$(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function za(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const i=e.att[r];if(Array.isArray(i))throw new Error(`Resource must be an object: ${r}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(i).forEach(n=>{const s=i[n];if(!Array.isArray(s))throw new Error(`Ability limits ${n} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${n} is empty array, must be an array with objects`);s.forEach(u=>{if(typeof u!="object")throw new Error(`Ability limits (${n}) must be an array of objects, found: ${u}`)})})})}function P$(e,t,r,i={}){return r==null||r.sort((n,s)=>n.localeCompare(s)),{att:{[e]:O$(t,r,i)}}}function O$(e,t,r={}){t=t==null?void 0:t.sort((n,s)=>n.localeCompare(s));const i=t.map(n=>({[`${e}/${n}`]:[r]}));return Object.assign({},...i)}function Q5(e){return za(e),`urn:recap:${C$(e).replace(/=/g,"")}`}function Iu(e){const t=R$(e.replace("urn:recap:",""));return za(t),t}function B$(e,t,r){const i=P$(e,t,r);return Q5(i)}function T$(e){return e&&e.includes("urn:recap:")}function F$(e,t){const r=Iu(e),i=Iu(t),n=U$(r,i);return Q5(n)}function U$(e,t){za(e),za(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((n,s)=>n.localeCompare(s)),i={att:{}};return r.forEach(n=>{var s,u;Object.keys(((s=e.att)==null?void 0:s[n])||{}).concat(Object.keys(((u=t.att)==null?void 0:u[n])||{})).sort((p,b)=>p.localeCompare(b)).forEach(p=>{var b,m;i.att[n]=D$(I$({},i.att[n]),{[p]:((b=e.att[n])==null?void 0:b[p])||((m=t.att[n])==null?void 0:m[p])})})}),i}function q$(e="",t){za(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const i=[];let n=0;Object.keys(t.att).forEach(p=>{const b=Object.keys(t.att[p]).map(S=>({ability:S.split("/")[0],action:S.split("/")[1]}));b.sort((S,D)=>S.action.localeCompare(D.action));const m={};b.forEach(S=>{m[S.ability]||(m[S.ability]=[]),m[S.ability].push(S.action)});const w=Object.keys(m).map(S=>(n++,`(${n}) '${S}': '${m[S].join("', '")}' for '${p}'.`));i.push(w.join(", ").replace(".,","."))});const s=i.join(" "),u=`${r}${s}`;return`${e?e+" ":""}${u}`}function P6(e){var t;const r=Iu(e);za(r);const i=(t=r.att)==null?void 0:t.eip155;return i?Object.keys(i).map(n=>n.split("/")[1]):[]}function O6(e){const t=Iu(e);za(t);const r=[];return Object.values(t.att).forEach(i=>{Object.values(i).forEach(n=>{var s;(s=n==null?void 0:n[0])!=null&&s.chains&&r.push(n[0].chains)})}),[...new Set(r.flat())]}function N0(e){if(!e)return;const t=e==null?void 0:e[e.length-1];return T$(t)?t:void 0}const r2="base16",c0="base64pad",tu="base64url",L$="utf8",rp=1,k$=2;function ip(e){const t=Qa.hash(zi(e,r2));return di(t,r2)}function Ef(e){const t=Qa.hash(zi(e,L$));return di(t,r2)}function l0(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}function yh(e){const t=[];return e.forEach(r=>{const[i,n]=r.split(":");t.push(`${i}:${n}`)}),t}function z$(e){const t=[];return Object.values(e).forEach(r=>{t.push(...yh(r.accounts))}),t}function $$(e,t){const r=[];return Object.values(e).forEach(i=>{yh(i.accounts).includes(t)&&r.push(...i.methods)}),r}function H$(e,t){const r=[];return Object.values(e).forEach(i=>{yh(i.accounts).includes(t)&&r.push(...i.events)}),r}function j$(e){const t={};return e==null||e.forEach(r=>{const[i,n]=r.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[]}),t[i].accounts.push(r),t[i].chains.push(`${i}:${n}`)}),t}function B6(e,t){t=t.map(i=>i.replace("did:pkh:",""));const r=j$(t);for(const[i,n]of Object.entries(r))n.methods?n.methods=BL(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}const K$={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},G$={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function pe(e,t){const{message:r,code:i}=G$[e];return{message:t?`${r} ${t}`:r,code:i}}function Er(e,t){const{message:r,code:i}=K$[e];return{message:t?`${r} ${t}`:r,code:i}}function Tl(e,t){return!!Array.isArray(e)}function el(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Pn(e){return typeof e>"u"}function kr(e,t){return t&&Pn(e)?!0:typeof e=="string"&&!!e.trim().length}function $2(e,t){return t&&Pn(e)?!0:typeof e=="number"&&!isNaN(e)}function Q$(e,t){const{requiredNamespaces:r}=t,i=Object.keys(e.namespaces),n=Object.keys(r);let s=!0;return Oa(n,i)?(i.forEach(u=>{const{accounts:p,methods:b,events:m}=e.namespaces[u],w=yh(p),S=r[u];(!Oa(f5(u,S),w)||!Oa(S.methods,b)||!Oa(S.events,m))&&(s=!1)}),s):!1}function rl(e){return kr(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function V$(e){if(kr(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&rl(r)}}return!1}function J$(e,t){let r=null;return kr(e==null?void 0:e.publicKey,!1)||(r=pe("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function T6(e){let t=!0;return Tl(e)?e.length&&(t=e.every(r=>kr(r,!1))):t=!1,t}function Y$(e,t,r){let i=null;return Tl(t)&&t.length?t.forEach(n=>{i||rl(n)||(i=Er("UNSUPPORTED_CHAINS",`${r}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):rl(e)||(i=Er("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function W$(e,t,r){let i=null;return Object.entries(e).forEach(([n,s])=>{if(i)return;const u=Y$(n,f5(n,s),`${t} ${r}`);u&&(i=u)}),i}function X$(e,t){let r=null;return Tl(e)?e.forEach(i=>{r||V$(i)||(r=Er("UNSUPPORTED_ACCOUNTS",`${t}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):r=Er("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Z$(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const n=X$(i==null?void 0:i.accounts,`${t} namespace`);n&&(r=n)}),r}function tH(e,t){let r=null;return T6(e==null?void 0:e.methods)?T6(e==null?void 0:e.events)||(r=Er("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Er("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function V5(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const n=tH(i,`${t}, namespace`);n&&(r=n)}),r}function eH(e,t,r){let i=null;if(e&&el(e)){const n=V5(e,t);n&&(i=n);const s=W$(e,t,r);s&&(i=s)}else i=pe("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return i}function np(e,t){let r=null;if(e&&el(e)){const i=V5(e,t);i&&(r=i);const n=Z$(e,t);n&&(r=n)}else r=pe("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function J5(e){return kr(e.protocol,!0)}function rH(e,t){let r=!1;return e?e&&Tl(e)&&e.length&&e.forEach(i=>{r=J5(i)}):r=!0,r}function iH(e){return typeof e=="number"}function Vn(e){return typeof e<"u"&&typeof e!==null}function nH(e){return!(!e||typeof e!="object"||!e.code||!$2(e.code,!1)||!e.message||!kr(e.message,!1))}function sH(e){return!(Pn(e)||!kr(e.method,!1))}function oH(e){return!(Pn(e)||Pn(e.result)&&Pn(e.error)||!$2(e.id,!1)||!kr(e.jsonrpc,!1))}function aH(e){return!(Pn(e)||!kr(e.name,!1))}function F6(e,t){return!(!rl(t)||!z$(e).includes(t))}function fH(e,t,r){return kr(r,!1)?$$(e,t).includes(r):!1}function hH(e,t,r){return kr(r,!1)?H$(e,t).includes(r):!1}function U6(e,t,r){let i=null;const n=uH(e),s=cH(t),u=Object.keys(n),p=Object.keys(s),b=q6(Object.keys(e)),m=q6(Object.keys(t)),w=b.filter(S=>!m.includes(S));return w.length&&(i=pe("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${w.toString()}
      Received: ${Object.keys(t).toString()}`)),Oa(u,p)||(i=pe("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${u.toString()}
      Approved: ${p.toString()}`)),Object.keys(t).forEach(S=>{if(!S.includes(":")||i)return;const D=yh(t[S].accounts);D.includes(S)||(i=pe("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${S}
        Required: ${S}
        Approved: ${D.toString()}`))}),u.forEach(S=>{i||(Oa(n[S].methods,s[S].methods)?Oa(n[S].events,s[S].events)||(i=pe("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${S}`)):i=pe("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${S}`))}),i}function uH(e){const t={};return Object.keys(e).forEach(r=>{var i;r.includes(":")?t[r]=e[r]:(i=e[r].chains)==null||i.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}function q6(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function cH(e){const t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{const i=yh(e[r].accounts);i==null||i.forEach(n=>{t[n]={accounts:e[r].accounts.filter(s=>s.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}}),t}function lH(e,t){return $2(e,!1)&&e<=t.max&&e>=t.min}const sp={};class eu{static get(t){return sp[t]}static set(t,r){sp[t]=r}static delete(t){delete sp[t]}}const Y5="wc",W5=2,X5="client",H2=`${Y5}@${W5}:${X5}:`,op={name:X5,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},L6="WALLETCONNECT_DEEPLINK_CHOICE",dH="proposal",Z5="Proposal expired",pH="session",Mf=Xt.SEVEN_DAYS,gH="engine",Gr={wc_sessionPropose:{req:{ttl:Xt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Xt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Xt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Xt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Xt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Xt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Xt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Xt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Xt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Xt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Xt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Xt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Xt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Xt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Xt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Xt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Xt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Xt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Xt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Xt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Xt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Xt.FIVE_MINUTES,prompt:!1,tag:1119}}},ap={min:Xt.FIVE_MINUTES,max:Xt.SEVEN_DAYS},ys={idle:"IDLE",active:"ACTIVE"},mH="request",vH=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],bH="wc",yH="auth",wH="authKeys",AH="pairingTopics",_H="requests",Fl=`${bH}@${1.5}:${yH}:`,C0=`${Fl}:PUB_KEY`;var EH=Object.defineProperty,MH=Object.defineProperties,SH=Object.getOwnPropertyDescriptors,k6=Object.getOwnPropertySymbols,xH=Object.prototype.hasOwnProperty,IH=Object.prototype.propertyIsEnumerable,z6=(e,t,r)=>t in e?EH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vr=(e,t)=>{for(var r in t||(t={}))xH.call(t,r)&&z6(e,r,t[r]);if(k6)for(var r of k6(t))IH.call(t,r)&&z6(e,r,t[r]);return e},Jn=(e,t)=>MH(e,SH(t));class DH extends _O{constructor(t){super(t),this.name=gH,this.events=new h2,this.initialized=!1,this.requestQueue={state:ys.idle,queue:[]},this.sessionRequestQueue={state:ys.idle,queue:[]},this.requestQueueDelay=Xt.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Gr)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Xt.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=Jn(vr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(i);const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:u,sessionProperties:p,relays:b}=i;let m=n,w,S=!1;try{m&&(S=this.client.core.pairing.pairings.get(m).active)}catch($){throw this.client.logger.error(`connect() -> pairing.get(${m}) failed`),$}if(!m||!S){const{topic:$,uri:j}=await this.client.core.pairing.create();m=$,w=j}if(!m){const{message:$}=pe("NO_MATCHING_KEY",`connect() pairing topic: ${m}`);throw new Error($)}const D=await this.client.core.crypto.generateKeyPair(),N=Gr.wc_sessionPropose.req.ttl||Xt.FIVE_MINUTES,P=Ui(N),L=vr({requiredNamespaces:s,optionalNamespaces:u,relays:b??[{protocol:Q8}],proposer:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:P,pairingTopic:m},p&&{sessionProperties:p}),{reject:k,resolve:Y,done:Q}=Af(N,Z5);this.events.once(Ge("session_connect"),async({error:$,session:j})=>{if($)k($);else if(j){j.self.publicKey=D;const K=Jn(vr({},j),{pairingTopic:L.pairingTopic,requiredNamespaces:L.requiredNamespaces,optionalNamespaces:L.optionalNamespaces,transportType:nr.relay});await this.client.session.set(j.topic,K),await this.setExpiry(j.topic,j.expiry),m&&await this.client.core.pairing.updateMetadata({topic:m,metadata:j.peer.metadata}),this.cleanupDuplicatePairings(K),Y(K)}});const X=await this.sendRequest({topic:m,method:"wc_sessionPropose",params:L,throwOnFailedPublish:!0});return await this.setProposal(X,vr({id:X},L)),{uri:w,approval:Q}},this.pair=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(i){throw this.client.logger.error("pair() failed"),i}},this.approve=async r=>{var i,n,s;const u=this.client.core.eventClient.createEvent({properties:{topic:(i=r==null?void 0:r.id)==null?void 0:i.toString(),trace:[Gn.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(z){throw u.setError(Da.no_internet_connection),z}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(z){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),u.setError(Da.proposal_not_found),z}try{await this.isValidApprove(r)}catch(z){throw this.client.logger.error("approve() -> isValidApprove() failed"),u.setError(Da.session_approve_namespace_validation_failure),z}const{id:p,relayProtocol:b,namespaces:m,sessionProperties:w,sessionConfig:S}=r,D=this.client.proposal.get(p);this.client.core.eventClient.deleteEvent({eventId:u.eventId});const{pairingTopic:N,proposer:P,requiredNamespaces:L,optionalNamespaces:k}=D;let Y=(n=this.client.core.eventClient)==null?void 0:n.getEvent({topic:N});Y||(Y=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Gn.session_approve_started,properties:{topic:N,trace:[Gn.session_approve_started,Gn.session_namespaces_validation_success]}}));const Q=await this.client.core.crypto.generateKeyPair(),X=P.publicKey,$=await this.client.core.crypto.generateSharedKey(Q,X),j=vr(vr({relay:{protocol:b??"irn"},namespaces:m,controller:{publicKey:Q,metadata:this.client.metadata},expiry:Ui(Mf)},w&&{sessionProperties:w}),S&&{sessionConfig:S}),K=nr.relay;Y.addTrace(Gn.subscribing_session_topic);try{await this.client.core.relayer.subscribe($,{transportType:K})}catch(z){throw Y.setError(Da.subscribe_session_topic_failure),z}Y.addTrace(Gn.subscribe_session_topic_success);const C=Jn(vr({},j),{topic:$,requiredNamespaces:L,optionalNamespaces:k,pairingTopic:N,acknowledged:!1,self:j.controller,peer:{publicKey:P.publicKey,metadata:P.metadata},controller:Q,transportType:nr.relay});await this.client.session.set($,C),Y.addTrace(Gn.store_session);try{Y.addTrace(Gn.publishing_session_settle),await this.sendRequest({topic:$,method:"wc_sessionSettle",params:j,throwOnFailedPublish:!0}).catch(z=>{throw Y==null||Y.setError(Da.session_settle_publish_failure),z}),Y.addTrace(Gn.session_settle_publish_success),Y.addTrace(Gn.publishing_session_approve),await this.sendResult({id:p,topic:N,result:{relay:{protocol:b??"irn"},responderPublicKey:Q},throwOnFailedPublish:!0}).catch(z=>{throw Y==null||Y.setError(Da.session_approve_publish_failure),z}),Y.addTrace(Gn.session_approve_publish_success)}catch(z){throw this.client.logger.error(z),this.client.session.delete($,Er("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe($),z}return this.client.core.eventClient.deleteEvent({eventId:Y.eventId}),await this.client.core.pairing.updateMetadata({topic:N,metadata:P.metadata}),await this.client.proposal.delete(p,Er("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:N}),await this.setExpiry($,Ui(Mf)),{topic:$,acknowledged:()=>Promise.resolve(this.client.session.get($))}},this.reject=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(u){throw this.client.logger.error("reject() -> isValidReject() failed"),u}const{id:i,reason:n}=r;let s;try{s=this.client.proposal.get(i).pairingTopic}catch(u){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),u}s&&(await this.sendError({id:i,topic:s,error:n,rpcOpts:Gr.wc_sessionPropose.reject}),await this.client.proposal.delete(i,Er("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(S){throw this.client.logger.error("update() -> isValidUpdate() failed"),S}const{topic:i,namespaces:n}=r,{done:s,resolve:u,reject:p}=Af(),b=Yo(),m=Pa().toString(),w=this.client.session.get(i).namespaces;return this.events.once(Ge("session_update",b),({error:S})=>{S?p(S):u()}),await this.client.session.update(i,{namespaces:n}),await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:b,relayRpcId:m}).catch(S=>{this.client.logger.error(S),this.client.session.update(i,{namespaces:w}),p(S)}),{acknowledged:s}},this.extend=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(b){throw this.client.logger.error("extend() -> isValidExtend() failed"),b}const{topic:i}=r,n=Yo(),{done:s,resolve:u,reject:p}=Af();return this.events.once(Ge("session_extend",n),({error:b})=>{b?p(b):u()}),await this.setExpiry(i,Ui(Mf)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(b=>{p(b)}),{acknowledged:s}},this.request=async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(P){throw this.client.logger.error("request() -> isValidRequest() failed"),P}const{chainId:i,request:n,topic:s,expiry:u=Gr.wc_sessionRequest.req.ttl}=r,p=this.client.session.get(s);(p==null?void 0:p.transportType)===nr.relay&&await this.confirmOnlineStateOrThrow();const b=Yo(),m=Pa().toString(),{done:w,resolve:S,reject:D}=Af(u,"Request expired. Please try again.");this.events.once(Ge("session_request",b),({error:P,result:L})=>{P?D(P):S(L)});const N=this.getAppLinkIfEnabled(p.peer.metadata,p.transportType);return N?(await this.sendRequest({clientRpcId:b,relayRpcId:m,topic:s,method:"wc_sessionRequest",params:{request:Jn(vr({},n),{expiryTimestamp:Ui(u)}),chainId:i},expiry:u,throwOnFailedPublish:!0,appLink:N}).catch(P=>D(P)),this.client.events.emit("session_request_sent",{topic:s,request:n,chainId:i,id:b}),await w()):await Promise.all([new Promise(async P=>{await this.sendRequest({clientRpcId:b,relayRpcId:m,topic:s,method:"wc_sessionRequest",params:{request:Jn(vr({},n),{expiryTimestamp:Ui(u)}),chainId:i},expiry:u,throwOnFailedPublish:!0}).catch(L=>D(L)),this.client.events.emit("session_request_sent",{topic:s,request:n,chainId:i,id:b}),P()}),new Promise(async P=>{var L;if(!((L=p.sessionConfig)!=null&&L.disableDeepLink)){const k=await UL(this.client.core.storage,L6);await TL({id:b,topic:s,wcDeepLink:k})}P()}),w()]).then(P=>P[2])},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:i,response:n}=r,{id:s}=n,u=this.client.session.get(i);u.transportType===nr.relay&&await this.confirmOnlineStateOrThrow();const p=this.getAppLinkIfEnabled(u.peer.metadata,u.transportType);As(n)?await this.sendResult({id:s,topic:i,result:n.result,throwOnFailedPublish:!0,appLink:p}):Dn(n)&&await this.sendError({id:s,topic:i,error:n.error,appLink:p}),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(n){throw this.client.logger.error("ping() -> isValidPing() failed"),n}const{topic:i}=r;if(this.client.session.keys.includes(i)){const n=Yo(),s=Pa().toString(),{done:u,resolve:p,reject:b}=Af();this.events.once(Ge("session_ping",n),({error:m})=>{m?b(m):p()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:n,relayRpcId:s}),u()])}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:i,event:n,chainId:s}=r,u=Pa().toString();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:n,chainId:s},throwOnFailedPublish:!0,relayRpcId:u})},this.disconnect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:i}=r;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:Er("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:n}=pe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(n)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(i=>Q$(i,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(r,i)=>{var n;this.isInitialized(),this.isValidAuthenticate(r);const s=i&&this.client.core.linkModeSupportedApps.includes(i)&&((n=this.client.metadata.redirect)==null?void 0:n.linkMode),u=s?nr.link_mode:nr.relay;u===nr.relay&&await this.confirmOnlineStateOrThrow();const{chains:p,statement:b="",uri:m,domain:w,nonce:S,type:D,exp:N,nbf:P,methods:L=[],expiry:k}=r,Y=[...r.resources||[]],{topic:Q,uri:X}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:u});this.client.logger.info({message:"Generated new pairing",pairing:{topic:Q,uri:X}});const $=await this.client.core.crypto.generateKeyPair(),j=ip($);if(await Promise.all([this.client.auth.authKeys.set(C0,{responseTopic:j,publicKey:$}),this.client.auth.pairingTopics.set(j,{topic:j,pairingTopic:Q})]),await this.client.core.relayer.subscribe(j,{transportType:u}),this.client.logger.info(`sending request to new pairing topic: ${Q}`),L.length>0){const{namespace:M}=z1(p[0]);let E=B$(M,"request",L);N0(Y)&&(E=F$(E,Y.pop())),Y.push(E)}const K=k&&k>Gr.wc_sessionAuthenticate.req.ttl?k:Gr.wc_sessionAuthenticate.req.ttl,C={authPayload:{type:D??"caip122",chains:p,statement:b,aud:m,domain:w,version:"1",nonce:S,iat:new Date().toISOString(),exp:N,nbf:P,resources:Y},requester:{publicKey:$,metadata:this.client.metadata},expiryTimestamp:Ui(K)},z={eip155:{chains:p,methods:[...new Set(["personal_sign",...L])],events:["chainChanged","accountsChanged"]}},st={requiredNamespaces:{},optionalNamespaces:z,relays:[{protocol:"irn"}],pairingTopic:Q,proposer:{publicKey:$,metadata:this.client.metadata},expiryTimestamp:Ui(Gr.wc_sessionPropose.req.ttl)},{done:dt,resolve:H,reject:I}=Af(K,"Request expired"),o=async({error:M,session:E})=>{if(this.events.off(Ge("session_request",c),h),M)I(M);else if(E){E.self.publicKey=$,await this.client.session.set(E.topic,E),await this.setExpiry(E.topic,E.expiry),Q&&await this.client.core.pairing.updateMetadata({topic:Q,metadata:E.peer.metadata});const d=this.client.session.get(E.topic);await this.deleteProposal(v),H({session:d})}},h=async M=>{var E,d,f;if(await this.deletePendingAuthRequest(c,{message:"fulfilled",code:0}),M.error){const B=Er("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return M.error.code===B.code?void 0:(this.events.off(Ge("session_connect"),o),I(M.error.message))}await this.deleteProposal(v),this.events.off(Ge("session_connect"),o);const{cacaos:_,responder:J}=M.result,W=[],g=[];for(const B of _){await R6({cacao:B,projectId:this.client.core.projectId})||(this.client.logger.error(B,"Signature verification failed"),I(Er("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:q}=B,x=N0(q.resources),T=[C6(q.iss)],Z=tl(q.iss);if(x){const it=P6(x),et=O6(x);W.push(...it),T.push(...et)}for(const it of T)g.push(`${it}:${Z}`)}const F=await this.client.core.crypto.generateSharedKey($,J.publicKey);let O;W.length>0&&(O={topic:F,acknowledged:!0,self:{publicKey:$,metadata:this.client.metadata},peer:J,controller:J.publicKey,expiry:Ui(Mf),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:Q,namespaces:B6([...new Set(W)],[...new Set(g)]),transportType:u},await this.client.core.relayer.subscribe(F,{transportType:u}),await this.client.session.set(F,O),Q&&await this.client.core.pairing.updateMetadata({topic:Q,metadata:J.metadata}),O=this.client.session.get(F)),(E=this.client.metadata.redirect)!=null&&E.linkMode&&(d=J.metadata.redirect)!=null&&d.linkMode&&(f=J.metadata.redirect)!=null&&f.universal&&i&&(this.client.core.addLinkModeSupportedApp(J.metadata.redirect.universal),this.client.session.update(F,{transportType:nr.link_mode})),H({auths:_,session:O})},c=Yo(),v=Yo();this.events.once(Ge("session_connect"),o),this.events.once(Ge("session_request",c),h);let y;try{if(s){const M=sa("wc_sessionAuthenticate",C,c);this.client.core.history.set(Q,M);const E=await this.client.core.crypto.encode("",M,{type:k$,encoding:tu});y=l0(i,Q,E)}else await Promise.all([this.sendRequest({topic:Q,method:"wc_sessionAuthenticate",params:C,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:c}),this.sendRequest({topic:Q,method:"wc_sessionPropose",params:st,expiry:Gr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:v})])}catch(M){throw this.events.off(Ge("session_connect"),o),this.events.off(Ge("session_request",c),h),M}return await this.setProposal(v,vr({id:v},st)),await this.setAuthRequest(c,{request:Jn(vr({},C),{verifyContext:{}}),pairingTopic:Q,transportType:u}),{uri:y??X,response:dt}},this.approveSessionAuthenticate=async r=>{const{id:i,auths:n}=r,s=this.client.core.eventClient.createEvent({properties:{topic:i.toString(),trace:[Na.authenticated_session_approve_started]}});try{this.isInitialized()}catch(k){throw s.setError(Vh.no_internet_connection),k}const u=this.getPendingAuthRequest(i);if(!u)throw s.setError(Vh.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${i}`);const p=u.transportType||nr.relay;p===nr.relay&&await this.confirmOnlineStateOrThrow();const b=u.requester.publicKey,m=await this.client.core.crypto.generateKeyPair(),w=ip(b),S={type:rp,receiverPublicKey:b,senderPublicKey:m},D=[],N=[];for(const k of n){if(!await R6({cacao:k,projectId:this.client.core.projectId})){s.setError(Vh.invalid_cacao);const j=Er("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:w,error:j,encodeOpts:S}),new Error(j.message)}s.addTrace(Na.cacaos_verified);const{p:Y}=k,Q=N0(Y.resources),X=[C6(Y.iss)],$=tl(Y.iss);if(Q){const j=P6(Q),K=O6(Q);D.push(...j),X.push(...K)}for(const j of X)N.push(`${j}:${$}`)}const P=await this.client.core.crypto.generateSharedKey(m,b);s.addTrace(Na.create_authenticated_session_topic);let L;if((D==null?void 0:D.length)>0){L={topic:P,acknowledged:!0,self:{publicKey:m,metadata:this.client.metadata},peer:{publicKey:b,metadata:u.requester.metadata},controller:b,expiry:Ui(Mf),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:u.pairingTopic,namespaces:B6([...new Set(D)],[...new Set(N)]),transportType:p},s.addTrace(Na.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(P,{transportType:p})}catch(k){throw s.setError(Vh.subscribe_authenticated_session_topic_failure),k}s.addTrace(Na.subscribe_authenticated_session_topic_success),await this.client.session.set(P,L),s.addTrace(Na.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:u.pairingTopic,metadata:u.requester.metadata})}s.addTrace(Na.publishing_authenticated_session_approve);try{await this.sendResult({topic:w,id:i,result:{cacaos:n,responder:{publicKey:m,metadata:this.client.metadata}},encodeOpts:S,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(u.requester.metadata,p)})}catch(k){throw s.setError(Vh.authenticated_session_approve_publish_failure),k}return await this.client.auth.requests.delete(i,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:u.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:L}},this.rejectSessionAuthenticate=async r=>{this.isInitialized();const{id:i,reason:n}=r,s=this.getPendingAuthRequest(i);if(!s)throw new Error(`Could not find pending auth request with id ${i}`);s.transportType===nr.relay&&await this.confirmOnlineStateOrThrow();const u=s.requester.publicKey,p=await this.client.core.crypto.generateKeyPair(),b=ip(u),m={type:rp,receiverPublicKey:u,senderPublicKey:p};await this.sendError({id:i,topic:b,error:n,encodeOpts:m,rpcOpts:Gr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.client.proposal.delete(i,Er("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:i,iss:n}=r;return G5(i,n)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const i=this.client.core.pairing.pairings.get(r.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(s=>{var u,p;return((u=s.peerMetadata)==null?void 0:u.url)&&((p=s.peerMetadata)==null?void 0:p.url)===r.peer.metadata.url&&s.topic&&s.topic!==i.topic});if(n.length===0)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}},this.deleteSession=async r=>{var i;const{topic:n,expirerHasDeleted:s=!1,emitEvent:u=!0,id:p=0}=r,{self:b}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,Er("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(b.publicKey)&&await this.client.core.crypto.deleteKeyPair(b.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),s||this.client.core.expirer.del(n),this.client.core.storage.removeItem(L6).catch(m=>this.client.logger.warn(m)),this.getPendingSessionRequests().forEach(m=>{m.topic===n&&this.deletePendingSessionRequest(m.id,Er("USER_DISCONNECTED"))}),n===((i=this.sessionRequestQueue.queue[0])==null?void 0:i.topic)&&(this.sessionRequestQueue.state=ys.idle),u&&this.client.events.emit("session_delete",{id:p,topic:n})},this.deleteProposal=async(r,i)=>{if(i)try{const n=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:n.pairingTopic});s==null||s.setError(Da.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Er("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,i),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),n&&(this.sessionRequestQueue.state=ys.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,i,n=!1)=>{await Promise.all([this.client.auth.requests.delete(r,i),n?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,i)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,i),await this.client.session.update(r,{expiry:i}))},this.setProposal=async(r,i)=>{this.client.core.expirer.set(r,Ui(Gr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,i)},this.setAuthRequest=async(r,i)=>{const{request:n,pairingTopic:s,transportType:u=nr.relay}=i;this.client.core.expirer.set(r,n.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:r,pairingTopic:s,verifyContext:n.verifyContext,transportType:u})},this.setPendingSessionRequest=async r=>{const{id:i,topic:n,params:s,verifyContext:u}=r,p=s.request.expiryTimestamp||Ui(Gr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(i,p),await this.client.pendingRequest.set(i,{id:i,topic:n,params:s,verifyContext:u})},this.sendRequest=async r=>{const{topic:i,method:n,params:s,expiry:u,relayRpcId:p,clientRpcId:b,throwOnFailedPublish:m,appLink:w}=r,S=sa(n,s,b);let D;const N=!!w;try{const k=N?tu:c0;D=await this.client.core.crypto.encode(i,S,{encoding:k})}catch(k){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),k}let P;if(vH.includes(n)){const k=Ef(JSON.stringify(S)),Y=Ef(D);P=await this.client.core.verify.register({id:Y,decryptedId:k})}const L=Gr[n].req;if(L.attestation=P,u&&(L.ttl=u),p&&(L.id=p),this.client.core.history.set(i,S),N){const k=l0(w,i,D);await global.Linking.openURL(k,this.client.name)}else{const k=Gr[n].req;u&&(k.ttl=u),p&&(k.id=p),m?(k.internal=Jn(vr({},k.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,D,k)):this.client.core.relayer.publish(i,D,k).catch(Y=>this.client.logger.error(Y))}return S.id},this.sendResult=async r=>{const{id:i,topic:n,result:s,throwOnFailedPublish:u,encodeOpts:p,appLink:b}=r,m=Sl(i,s);let w;const S=b&&typeof(global==null?void 0:global.Linking)<"u";try{const N=S?tu:c0;w=await this.client.core.crypto.encode(n,m,Jn(vr({},p||{}),{encoding:N}))}catch(N){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),N}let D;try{D=await this.client.core.history.get(n,i)}catch(N){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${i}) failed`),N}if(S){const N=l0(b,n,w);await global.Linking.openURL(N,this.client.name)}else{const N=Gr[D.request.method].res;u?(N.internal=Jn(vr({},N.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,w,N)):this.client.core.relayer.publish(n,w,N).catch(P=>this.client.logger.error(P))}await this.client.core.history.resolve(m)},this.sendError=async r=>{const{id:i,topic:n,error:s,encodeOpts:u,rpcOpts:p,appLink:b}=r,m=xl(i,s);let w;const S=b&&typeof(global==null?void 0:global.Linking)<"u";try{const N=S?tu:c0;w=await this.client.core.crypto.encode(n,m,Jn(vr({},u||{}),{encoding:N}))}catch(N){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),N}let D;try{D=await this.client.core.history.get(n,i)}catch(N){throw this.client.logger.error(`sendError() -> history.get(${n}, ${i}) failed`),N}if(S){const N=l0(b,n,w);await global.Linking.openURL(N,this.client.name)}else{const N=p||Gr[D.request.method].res;this.client.core.relayer.publish(n,w,N)}await this.client.core.history.resolve(m)},this.cleanup=async()=>{const r=[],i=[];this.client.session.getAll().forEach(n=>{let s=!1;_f(n.expiry)&&(s=!0),this.client.core.crypto.keychain.has(n.topic)||(s=!0),s&&r.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{_f(n.expiryTimestamp)&&i.push(n.id)}),await Promise.all([...r.map(n=>this.deleteSession({topic:n})),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===ys.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ys.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=ys.idle},this.processRequest=async r=>{const{topic:i,payload:n,attestation:s,transportType:u,encryptedId:p}=r,b=n.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:b}))switch(b){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:i,payload:n,attestation:s,encryptedId:p});case"wc_sessionSettle":return await this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(i,n);case"wc_sessionPing":return await this.onSessionPingRequest(i,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:i,payload:n,attestation:s,encryptedId:p,transportType:u});case"wc_sessionEvent":return await this.onSessionEventRequest(i,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:i,payload:n,attestation:s,encryptedId:p,transportType:u});default:return this.client.logger.info(`Unsupported request method ${b}`)}},this.onRelayEventResponse=async r=>{const{topic:i,payload:n,transportType:s}=r,u=(await this.client.core.history.get(i,n.id)).request.method;switch(u){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n,s);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${u}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:i}=r,{message:n}=pe("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)},this.shouldIgnorePairingRequest=r=>{const{topic:i,requestMethod:n}=r,s=this.expectedPairingMethodMap.get(i);return!s||s.includes(n)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async r=>{const{topic:i,payload:n,attestation:s,encryptedId:u}=r,{params:p,id:b}=n;try{const m=this.client.core.eventClient.getEvent({topic:i});this.isValidConnect(vr({},n.params));const w=p.expiryTimestamp||Ui(Gr.wc_sessionPropose.req.ttl),S=vr({id:b,pairingTopic:i,expiryTimestamp:w},p);await this.setProposal(b,S);const D=await this.getVerifyContext({attestationId:s,hash:Ef(JSON.stringify(n)),encryptedId:u,metadata:S.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),m==null||m.setError(Ao.proposal_listener_not_found)),m==null||m.addTrace(ws.emit_session_proposal),this.client.events.emit("session_proposal",{id:b,params:S,verifyContext:D})}catch(m){await this.sendError({id:b,topic:i,error:m,rpcOpts:Gr.wc_sessionPropose.autoReject}),this.client.logger.error(m)}},this.onSessionProposeResponse=async(r,i,n)=>{const{id:s}=i;if(As(i)){const{result:u}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:u});const p=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:p});const b=p.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:b});const m=u.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:m});const w=await this.client.core.crypto.generateSharedKey(b,m);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:w});const S=await this.client.core.relayer.subscribe(w,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:S}),await this.client.core.pairing.activate({topic:r})}else if(Dn(i)){await this.client.proposal.delete(s,Er("USER_DISCONNECTED"));const u=Ge("session_connect");if(this.events.listenerCount(u)===0)throw new Error(`emitting ${u} without any listeners, 954`);this.events.emit(Ge("session_connect"),{error:i.error})}},this.onSessionSettleRequest=async(r,i)=>{const{id:n,params:s}=i;try{this.isValidSessionSettleRequest(s);const{relay:u,controller:p,expiry:b,namespaces:m,sessionProperties:w,sessionConfig:S}=i.params,D=Jn(vr(vr({topic:r,relay:u,expiry:b,namespaces:m,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:p.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:p.publicKey,metadata:p.metadata}},w&&{sessionProperties:w}),S&&{sessionConfig:S}),{transportType:nr.relay}),N=Ge("session_connect");if(this.events.listenerCount(N)===0)throw new Error(`emitting ${N} without any listeners 997`);this.events.emit(Ge("session_connect"),{session:D}),await this.sendResult({id:i.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(u){await this.sendError({id:n,topic:r,error:u}),this.client.logger.error(u)}},this.onSessionSettleResponse=async(r,i)=>{const{id:n}=i;As(i)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Ge("session_approve",n),{})):Dn(i)&&(await this.client.session.delete(r,Er("USER_DISCONNECTED")),this.events.emit(Ge("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(r,i)=>{const{params:n,id:s}=i;try{const u=`${r}_session_update`,p=eu.get(u);if(p&&this.isRequestOutOfSync(p,s)){this.client.logger.info(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Er("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(vr({topic:r},n));try{eu.set(u,s),await this.client.session.update(r,{namespaces:n.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(b){throw eu.delete(u),b}this.client.events.emit("session_update",{id:s,topic:r,params:n})}catch(u){await this.sendError({id:s,topic:r,error:u}),this.client.logger.error(u)}},this.isRequestOutOfSync=(r,i)=>parseInt(i.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,i)=>{const{id:n}=i,s=Ge("session_update",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);As(i)?this.events.emit(Ge("session_update",n),{}):Dn(i)&&this.events.emit(Ge("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(r,i)=>{const{id:n}=i;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Ui(Mf)),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:n,topic:r})}catch(s){await this.sendError({id:n,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,i)=>{const{id:n}=i,s=Ge("session_extend",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);As(i)?this.events.emit(Ge("session_extend",n),{}):Dn(i)&&this.events.emit(Ge("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(r,i)=>{const{id:n}=i;try{this.isValidPing({topic:r}),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:r})}catch(s){await this.sendError({id:n,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionPingResponse=(r,i)=>{const{id:n}=i,s=Ge("session_ping",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);setTimeout(()=>{As(i)?this.events.emit(Ge("session_ping",n),{}):Dn(i)&&this.events.emit(Ge("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(r,i)=>{const{id:n}=i;try{this.isValidDisconnect({topic:r,reason:i.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(_i.publish,async()=>{s(await this.deleteSession({topic:r,id:n}))})}),this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Er("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async r=>{var i,n,s;const{topic:u,payload:p,attestation:b,encryptedId:m,transportType:w}=r,{id:S,params:D}=p;try{await this.isValidRequest(vr({topic:u},D));const N=this.client.session.get(u),P=await this.getVerifyContext({attestationId:b,hash:Ef(JSON.stringify(sa("wc_sessionRequest",D,S))),encryptedId:m,metadata:N.peer.metadata,transportType:w}),L={id:S,topic:u,params:D,verifyContext:P};await this.setPendingSessionRequest(L),w===nr.link_mode&&(i=N.peer.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp((n=N.peer.metadata.redirect)==null?void 0:n.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(L):(this.addSessionRequestToSessionRequestQueue(L),this.processSessionRequestQueue())}catch(N){await this.sendError({id:S,topic:u,error:N}),this.client.logger.error(N)}},this.onSessionRequestResponse=(r,i)=>{const{id:n}=i,s=Ge("session_request",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);As(i)?this.events.emit(Ge("session_request",n),{result:i.result}):Dn(i)&&this.events.emit(Ge("session_request",n),{error:i.error})},this.onSessionEventRequest=async(r,i)=>{const{id:n,params:s}=i;try{const u=`${r}_session_event_${s.event.name}`,p=eu.get(u);if(p&&this.isRequestOutOfSync(p,n)){this.client.logger.info(`Discarding out of sync request - ${n}`);return}this.isValidEmit(vr({topic:r},s)),this.client.events.emit("session_event",{id:n,topic:r,params:s}),eu.set(u,n)}catch(u){await this.sendError({id:n,topic:r,error:u}),this.client.logger.error(u)}},this.onSessionAuthenticateResponse=(r,i)=>{const{id:n}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:i}),As(i)?this.events.emit(Ge("session_request",n),{result:i.result}):Dn(i)&&this.events.emit(Ge("session_request",n),{error:i.error})},this.onSessionAuthenticateRequest=async r=>{var i;const{topic:n,payload:s,attestation:u,encryptedId:p,transportType:b}=r;try{const{requester:m,authPayload:w,expiryTimestamp:S}=s.params,D=await this.getVerifyContext({attestationId:u,hash:Ef(JSON.stringify(s)),encryptedId:p,metadata:m.metadata,transportType:b}),N={requester:m,pairingTopic:n,id:s.id,authPayload:w,verifyContext:D,expiryTimestamp:S};await this.setAuthRequest(s.id,{request:N,pairingTopic:n,transportType:b}),b===nr.link_mode&&(i=m.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp(m.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:s.params,id:s.id,verifyContext:D})}catch(m){this.client.logger.error(m);const w=s.params.requester.publicKey,S=await this.client.core.crypto.generateKeyPair(),D=this.getAppLinkIfEnabled(s.params.requester.metadata,b),N={type:rp,receiverPublicKey:w,senderPublicKey:S};await this.sendError({id:s.id,topic:n,error:m,encodeOpts:N,rpcOpts:Gr.wc_sessionAuthenticate.autoReject,appLink:D})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ys.idle,this.processSessionRequestQueue()},Xt.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:i})=>{const n=this.client.core.history.pending;n.length>0&&n.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const u=s.request.id,p=Ge("session_request",u);if(this.events.listenerCount(p)===0)throw new Error(`emitting ${p} without any listeners`);this.events.emit(Ge("session_request",s.request.id),{error:i})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===ys.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=ys.active,this.emitSessionRequest(r)}catch(i){this.client.logger.error(i)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const i=this.client.proposal.getAll().find(n=>n.pairingTopic===r.topic);i&&this.onSessionProposeRequest({topic:r.topic,payload:sa("wc_sessionPropose",{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties},i.id)})},this.isValidConnect=async r=>{if(!Vn(r)){const{message:b}=pe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(b)}const{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:s,sessionProperties:u,relays:p}=r;if(Pn(i)||await this.isValidPairingTopic(i),!rH(p)){const{message:b}=pe("MISSING_OR_INVALID",`connect() relays: ${p}`);throw new Error(b)}!Pn(n)&&el(n)!==0&&this.validateNamespaces(n,"requiredNamespaces"),!Pn(s)&&el(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Pn(u)||this.validateSessionProps(u,"sessionProperties")},this.validateNamespaces=(r,i)=>{const n=eH(r,"connect()",i);if(n)throw new Error(n.message)},this.isValidApprove=async r=>{if(!Vn(r))throw new Error(pe("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:i,namespaces:n,relayProtocol:s,sessionProperties:u}=r;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const p=this.client.proposal.get(i),b=np(n,"approve()");if(b)throw new Error(b.message);const m=U6(p.requiredNamespaces,n,"approve()");if(m)throw new Error(m.message);if(!kr(s,!0)){const{message:w}=pe("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(w)}Pn(u)||this.validateSessionProps(u,"sessionProperties")},this.isValidReject=async r=>{if(!Vn(r)){const{message:s}=pe("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:i,reason:n}=r;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!nH(n)){const{message:s}=pe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!Vn(r)){const{message:m}=pe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(m)}const{relay:i,controller:n,namespaces:s,expiry:u}=r;if(!J5(i)){const{message:m}=pe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(m)}const p=J$(n,"onSessionSettleRequest()");if(p)throw new Error(p.message);const b=np(s,"onSessionSettleRequest()");if(b)throw new Error(b.message);if(_f(u)){const{message:m}=pe("EXPIRED","onSessionSettleRequest()");throw new Error(m)}},this.isValidUpdate=async r=>{if(!Vn(r)){const{message:b}=pe("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(b)}const{topic:i,namespaces:n}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const s=this.client.session.get(i),u=np(n,"update()");if(u)throw new Error(u.message);const p=U6(s.requiredNamespaces,n,"update()");if(p)throw new Error(p.message)},this.isValidExtend=async r=>{if(!Vn(r)){const{message:n}=pe("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(n)}const{topic:i}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)},this.isValidRequest=async r=>{if(!Vn(r)){const{message:b}=pe("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(b)}const{topic:i,request:n,chainId:s,expiry:u}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:p}=this.client.session.get(i);if(!F6(p,s)){const{message:b}=pe("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(b)}if(!sH(n)){const{message:b}=pe("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(b)}if(!fH(p,s,n.method)){const{message:b}=pe("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(b)}if(u&&!lH(u,ap)){const{message:b}=pe("MISSING_OR_INVALID",`request() expiry: ${u}. Expiry must be a number (in seconds) between ${ap.min} and ${ap.max}`);throw new Error(b)}},this.isValidRespond=async r=>{var i;if(!Vn(r)){const{message:u}=pe("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(u)}const{topic:n,response:s}=r;try{await this.isValidSessionTopic(n)}catch(u){throw(i=r==null?void 0:r.response)!=null&&i.id&&this.cleanupAfterResponse(r),u}if(!oH(s)){const{message:u}=pe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(u)}},this.isValidPing=async r=>{if(!Vn(r)){const{message:n}=pe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(n)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async r=>{if(!Vn(r)){const{message:p}=pe("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(p)}const{topic:i,event:n,chainId:s}=r;await this.isValidSessionTopic(i);const{namespaces:u}=this.client.session.get(i);if(!F6(u,s)){const{message:p}=pe("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(p)}if(!aH(n)){const{message:p}=pe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(p)}if(!hH(u,s,n.name)){const{message:p}=pe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(p)}},this.isValidDisconnect=async r=>{if(!Vn(r)){const{message:n}=pe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(n)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidAuthenticate=r=>{const{chains:i,uri:n,domain:s,nonce:u}=r;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!kr(n,!1))throw new Error("uri is required parameter");if(!kr(s,!1))throw new Error("domain is required parameter");if(!kr(u,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(b=>z1(b).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:p}=z1(i[0]);if(p!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async r=>{const{attestationId:i,hash:n,encryptedId:s,metadata:u,transportType:p}=r,b={verified:{verifyUrl:u.verifyUrl||pu,validation:"UNKNOWN",origin:u.url||""}};try{if(p===nr.link_mode){const w=this.getAppLinkIfEnabled(u,p);return b.verified.validation=w&&new URL(w).origin===new URL(u.url).origin?"VALID":"INVALID",b}const m=await this.client.core.verify.resolve({attestationId:i,hash:n,encryptedId:s,verifyUrl:u.verifyUrl});m&&(b.verified.origin=m.origin,b.verified.isScam=m.isScam,b.verified.validation=m.origin===new URL(u.url).origin?"VALID":"INVALID")}catch(m){this.client.logger.warn(m)}return this.client.logger.debug(`Verify context: ${JSON.stringify(b)}`),b},this.validateSessionProps=(r,i)=>{Object.values(r).forEach(n=>{if(!kr(n,!1)){const{message:s}=pe("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);throw new Error(s)}})},this.getPendingAuthRequest=r=>{const i=this.client.auth.requests.get(r);return typeof i=="object"?i:void 0},this.addToRecentlyDeleted=(r,i)=>{if(this.recentlyDeletedMap.set(r,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let n=0;const s=this.recentlyDeletedLimit/2;for(const u of this.recentlyDeletedMap.keys()){if(n++>=s)break;this.recentlyDeletedMap.delete(u)}}},this.checkRecentlyDeleted=r=>{const i=this.recentlyDeletedMap.get(r);if(i){const{message:n}=pe("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${r}`);throw new Error(n)}},this.isLinkModeEnabled=(r,i)=>{var n,s,u,p,b,m,w,S,D;return!r||i!==nr.link_mode?!1:((s=(n=this.client.metadata)==null?void 0:n.redirect)==null?void 0:s.linkMode)===!0&&((p=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:p.universal)!==void 0&&((m=(b=this.client.metadata)==null?void 0:b.redirect)==null?void 0:m.universal)!==""&&((w=r==null?void 0:r.redirect)==null?void 0:w.universal)!==void 0&&((S=r==null?void 0:r.redirect)==null?void 0:S.universal)!==""&&((D=r==null?void 0:r.redirect)==null?void 0:D.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"},this.getAppLinkIfEnabled=(r,i)=>{var n;return this.isLinkModeEnabled(r,i)?(n=r==null?void 0:r.redirect)==null?void 0:n.universal:void 0},this.handleLinkModeMessage=({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const i=o6(r,"topic")||"",n=decodeURIComponent(o6(r,"wc_ev")||""),s=this.client.session.keys.includes(i);s&&this.client.session.update(i,{transportType:nr.link_mode}),this.client.core.dispatchEnvelope({topic:i,message:n,sessionExists:s})},this.registerLinkModeListeners=async()=>{var r;if(qL()||u5()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const i=global==null?void 0:global.Linking;if(typeof i<"u"){i.addEventListener("url",this.handleLinkModeMessage,this.client.name);const n=await i.getInitialURL();n&&setTimeout(()=>{this.handleLinkModeMessage({url:n})},50)}}}}isInitialized(){if(!this.initialized){const{message:t}=pe("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(_i.message,t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):this.onRelayMessage(t)})}async onRelayMessage(t){const{topic:r,message:i,attestation:n,transportType:s}=t,{publicKey:u}=this.client.auth.authKeys.keys.includes(C0)?this.client.auth.authKeys.get(C0):{responseTopic:void 0,publicKey:void 0},p=await this.client.core.crypto.decode(r,i,{receiverPublicKey:u,encoding:s===nr.link_mode?tu:c0});try{x2(p)?(this.client.core.history.set(r,p),this.onRelayEventRequest({topic:r,payload:p,attestation:n,transportType:s,encryptedId:Ef(i)})):Il(p)?(await this.client.core.history.resolve(p),await this.onRelayEventResponse({topic:r,payload:p,transportType:s}),this.client.core.history.delete(r,p.id)):this.onRelayEventUnknownPayload({topic:r,payload:p,transportType:s})}catch(b){this.client.logger.error(b)}}registerExpirerEvents(){this.client.core.expirer.on(Mn.expired,async t=>{const{topic:r,id:i}=OL(t.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,pe("EXPIRED"),!0);if(i&&this.client.auth.requests.keys.includes(i))return await this.deletePendingAuthRequest(i,pe("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(Ra.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(Ra.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!kr(t,!1)){const{message:r}=pe("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=pe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(_f(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=pe("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!kr(t,!1)){const{message:r}=pe("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:r}=pe("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(_f(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:r}=pe("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){const{message:r}=pe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(kr(t,!1)){const{message:r}=pe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=pe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!iH(t)){const{message:r}=pe("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=pe("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(_f(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:r}=pe("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}}class NH extends Ya{constructor(t,r){super(t,r,dH,H2),this.core=t,this.logger=r}}class CH extends Ya{constructor(t,r){super(t,r,pH,H2),this.core=t,this.logger=r}}class RH extends Ya{constructor(t,r){super(t,r,mH,H2,i=>i.id),this.core=t,this.logger=r}}class PH extends Ya{constructor(t,r){super(t,r,wH,Fl,()=>C0),this.core=t,this.logger=r}}class OH extends Ya{constructor(t,r){super(t,r,AH,Fl),this.core=t,this.logger=r}}class BH extends Ya{constructor(t,r){super(t,r,_H,Fl,i=>i.id),this.core=t,this.logger=r}}class TH{constructor(t,r){this.core=t,this.logger=r,this.authKeys=new PH(this.core,this.logger),this.pairingTopics=new OH(this.core,this.logger),this.requests=new BH(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class j2 extends AO{constructor(t){super(t),this.protocol=Y5,this.version=W5,this.name=op.name,this.events=new Bn.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.authenticate=async(i,n)=>{try{return await this.engine.authenticate(i,n)}catch(s){throw this.logger.error(s.message),s}},this.formatAuthMessage=i=>{try{return this.engine.formatAuthMessage(i)}catch(n){throw this.logger.error(n.message),n}},this.approveSessionAuthenticate=async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.rejectSessionAuthenticate=async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.name=(t==null?void 0:t.name)||op.name,this.metadata=(t==null?void 0:t.metadata)||PL(),this.signConfig=t==null?void 0:t.signConfig;const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Ru(vl({level:(t==null?void 0:t.logger)||op.logger}));this.core=(t==null?void 0:t.core)||new IL(t),this.logger=Ni(r,this.name),this.session=new CH(this.core,this.logger),this.proposal=new NH(this.core,this.logger),this.pendingRequest=new RH(this.core,this.logger),this.engine=new DH(this),this.auth=new TH(this.core,this.logger)}static async init(t){const r=new j2(t);return await r.initialize(),r}get context(){return Ji(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}var i2={exports:{}};(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ai<"u"&&Ai,i=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(u){var p=typeof s<"u"&&s||typeof self<"u"&&self||typeof Ai<"u"&&Ai||{},b={searchParams:"URLSearchParams"in p,iterable:"Symbol"in p&&"iterator"in Symbol,blob:"FileReader"in p&&"Blob"in p&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in p,arrayBuffer:"ArrayBuffer"in p};function m(c){return c&&DataView.prototype.isPrototypeOf(c)}if(b.arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],S=ArrayBuffer.isView||function(c){return c&&w.indexOf(Object.prototype.toString.call(c))>-1};function D(c){if(typeof c!="string"&&(c=String(c)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(c)||c==="")throw new TypeError('Invalid character in header field name: "'+c+'"');return c.toLowerCase()}function N(c){return typeof c!="string"&&(c=String(c)),c}function P(c){var v={next:function(){var y=c.shift();return{done:y===void 0,value:y}}};return b.iterable&&(v[Symbol.iterator]=function(){return v}),v}function L(c){this.map={},c instanceof L?c.forEach(function(v,y){this.append(y,v)},this):Array.isArray(c)?c.forEach(function(v){if(v.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+v.length);this.append(v[0],v[1])},this):c&&Object.getOwnPropertyNames(c).forEach(function(v){this.append(v,c[v])},this)}L.prototype.append=function(c,v){c=D(c),v=N(v);var y=this.map[c];this.map[c]=y?y+", "+v:v},L.prototype.delete=function(c){delete this.map[D(c)]},L.prototype.get=function(c){return c=D(c),this.has(c)?this.map[c]:null},L.prototype.has=function(c){return this.map.hasOwnProperty(D(c))},L.prototype.set=function(c,v){this.map[D(c)]=N(v)},L.prototype.forEach=function(c,v){for(var y in this.map)this.map.hasOwnProperty(y)&&c.call(v,this.map[y],y,this)},L.prototype.keys=function(){var c=[];return this.forEach(function(v,y){c.push(y)}),P(c)},L.prototype.values=function(){var c=[];return this.forEach(function(v){c.push(v)}),P(c)},L.prototype.entries=function(){var c=[];return this.forEach(function(v,y){c.push([y,v])}),P(c)},b.iterable&&(L.prototype[Symbol.iterator]=L.prototype.entries);function k(c){if(!c._noBody){if(c.bodyUsed)return Promise.reject(new TypeError("Already read"));c.bodyUsed=!0}}function Y(c){return new Promise(function(v,y){c.onload=function(){v(c.result)},c.onerror=function(){y(c.error)}})}function Q(c){var v=new FileReader,y=Y(v);return v.readAsArrayBuffer(c),y}function X(c){var v=new FileReader,y=Y(v),M=/charset=([A-Za-z0-9_-]+)/.exec(c.type),E=M?M[1]:"utf-8";return v.readAsText(c,E),y}function $(c){for(var v=new Uint8Array(c),y=new Array(v.length),M=0;M<v.length;M++)y[M]=String.fromCharCode(v[M]);return y.join("")}function j(c){if(c.slice)return c.slice(0);var v=new Uint8Array(c.byteLength);return v.set(new Uint8Array(c)),v.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(c){this.bodyUsed=this.bodyUsed,this._bodyInit=c,c?typeof c=="string"?this._bodyText=c:b.blob&&Blob.prototype.isPrototypeOf(c)?this._bodyBlob=c:b.formData&&FormData.prototype.isPrototypeOf(c)?this._bodyFormData=c:b.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)?this._bodyText=c.toString():b.arrayBuffer&&b.blob&&m(c)?(this._bodyArrayBuffer=j(c.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):b.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(c)||S(c))?this._bodyArrayBuffer=j(c):this._bodyText=c=Object.prototype.toString.call(c):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof c=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var c=k(this);if(c)return c;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var c=k(this);return c||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(b.blob)return this.blob().then(Q);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var c=k(this);if(c)return c;if(this._bodyBlob)return X(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve($(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(dt)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function z(c){var v=c.toUpperCase();return C.indexOf(v)>-1?v:c}function st(c,v){if(!(this instanceof st))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');v=v||{};var y=v.body;if(c instanceof st){if(c.bodyUsed)throw new TypeError("Already read");this.url=c.url,this.credentials=c.credentials,v.headers||(this.headers=new L(c.headers)),this.method=c.method,this.mode=c.mode,this.signal=c.signal,!y&&c._bodyInit!=null&&(y=c._bodyInit,c.bodyUsed=!0)}else this.url=String(c);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new L(v.headers)),this.method=z(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal||function(){if("AbortController"in p){var d=new AbortController;return d.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(y),(this.method==="GET"||this.method==="HEAD")&&(v.cache==="no-store"||v.cache==="no-cache")){var M=/([?&])_=[^&]*/;if(M.test(this.url))this.url=this.url.replace(M,"$1_="+new Date().getTime());else{var E=/\?/;this.url+=(E.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}st.prototype.clone=function(){return new st(this,{body:this._bodyInit})};function dt(c){var v=new FormData;return c.trim().split("&").forEach(function(y){if(y){var M=y.split("="),E=M.shift().replace(/\+/g," "),d=M.join("=").replace(/\+/g," ");v.append(decodeURIComponent(E),decodeURIComponent(d))}}),v}function H(c){var v=new L,y=c.replace(/\r?\n[\t ]+/g," ");return y.split("\r").map(function(M){return M.indexOf(`
`)===0?M.substr(1,M.length):M}).forEach(function(M){var E=M.split(":"),d=E.shift().trim();if(d){var f=E.join(":").trim();try{v.append(d,f)}catch(_){console.warn("Response "+_.message)}}}),v}K.call(st.prototype);function I(c,v){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=v.statusText===void 0?"":""+v.statusText,this.headers=new L(v.headers),this.url=v.url||"",this._initBody(c)}K.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new L(this.headers),url:this.url})},I.error=function(){var c=new I(null,{status:200,statusText:""});return c.ok=!1,c.status=0,c.type="error",c};var o=[301,302,303,307,308];I.redirect=function(c,v){if(o.indexOf(v)===-1)throw new RangeError("Invalid status code");return new I(null,{status:v,headers:{location:c}})},u.DOMException=p.DOMException;try{new u.DOMException}catch{u.DOMException=function(v,y){this.message=v,this.name=y;var M=Error(v);this.stack=M.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function h(c,v){return new Promise(function(y,M){var E=new st(c,v);if(E.signal&&E.signal.aborted)return M(new u.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function f(){d.abort()}d.onload=function(){var W={statusText:d.statusText,headers:H(d.getAllResponseHeaders()||"")};E.url.indexOf("file://")===0&&(d.status<200||d.status>599)?W.status=200:W.status=d.status,W.url="responseURL"in d?d.responseURL:W.headers.get("X-Request-URL");var g="response"in d?d.response:d.responseText;setTimeout(function(){y(new I(g,W))},0)},d.onerror=function(){setTimeout(function(){M(new TypeError("Network request failed"))},0)},d.ontimeout=function(){setTimeout(function(){M(new TypeError("Network request timed out"))},0)},d.onabort=function(){setTimeout(function(){M(new u.DOMException("Aborted","AbortError"))},0)};function _(W){try{return W===""&&p.location.href?p.location.href:W}catch{return W}}if(d.open(E.method,_(E.url),!0),E.credentials==="include"?d.withCredentials=!0:E.credentials==="omit"&&(d.withCredentials=!1),"responseType"in d&&(b.blob?d.responseType="blob":b.arrayBuffer&&(d.responseType="arraybuffer")),v&&typeof v.headers=="object"&&!(v.headers instanceof L||p.Headers&&v.headers instanceof p.Headers)){var J=[];Object.getOwnPropertyNames(v.headers).forEach(function(W){J.push(D(W)),d.setRequestHeader(W,N(v.headers[W]))}),E.headers.forEach(function(W,g){J.indexOf(g)===-1&&d.setRequestHeader(g,W)})}else E.headers.forEach(function(W,g){d.setRequestHeader(g,W)});E.signal&&(E.signal.addEventListener("abort",f),d.onreadystatechange=function(){d.readyState===4&&E.signal.removeEventListener("abort",f)}),d.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return h.polyfill=!0,p.fetch||(p.fetch=h,p.Headers=L,p.Request=st,p.Response=I),u.Headers=L,u.Request=st,u.Response=I,u.fetch=h,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var n=r.fetch?r:i;t=n.fetch,t.default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t})(i2,i2.exports);var FH=i2.exports;const $6=f2(FH);var UH=Object.defineProperty,qH=Object.defineProperties,LH=Object.getOwnPropertyDescriptors,H6=Object.getOwnPropertySymbols,kH=Object.prototype.hasOwnProperty,zH=Object.prototype.propertyIsEnumerable,j6=(e,t,r)=>t in e?UH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,K6=(e,t)=>{for(var r in t)kH.call(t,r)&&j6(e,r,t[r]);if(H6)for(var r of H6(t))zH.call(t,r)&&j6(e,r,t[r]);return e},G6=(e,t)=>qH(e,LH(t));const $H={Accept:"application/json","Content-Type":"application/json"},HH="POST",Q6={headers:$H,method:HH},V6=10;class no{constructor(t,r=!1){if(this.url=t,this.disableProviderPing=r,this.events=new Bn.EventEmitter,this.isAvailable=!1,this.registering=!1,!Um(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const r=Bo(t),i=await(await $6(this.url,G6(K6({},Q6),{body:r}))).json();this.onPayload({data:i})}catch(r){this.onError(t.id,r)}}async register(t=this.url){if(!Um(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return n(new Error("HTTP connection is missing or invalid"));i()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const r=Bo({id:1,jsonrpc:"2.0",method:"test",params:[]});await $6(t,G6(K6({},Q6),{body:r}))}this.onOpen()}catch(r){const i=this.parseError(r);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?La(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const i=this.parseError(r),n=i.message||i.toString(),s=xl(t,n);this.events.emit("payload",s)}parseError(t,r=this.url){return vy(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>V6&&this.events.setMaxListeners(V6)}}const J6="error",jH="wss://relay.walletconnect.org",KH="wc",GH="universal_provider",Y6=`${KH}@2:${GH}:`,t4="https://rpc.walletconnect.org/v1/",Nf="generic",QH=`${t4}bundler`,ls={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n2={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(e,t){(function(){var r,i="4.17.21",n=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",p="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",m=500,w="__lodash_placeholder__",S=1,D=2,N=4,P=1,L=2,k=1,Y=2,Q=4,X=8,$=16,j=32,K=64,C=128,z=256,st=512,dt=30,H="...",I=800,o=16,h=1,c=2,v=3,y=1/0,M=9007199254740991,E=17976931348623157e292,d=NaN,f=4294967295,_=f-1,J=f>>>1,W=[["ary",C],["bind",k],["bindKey",Y],["curry",X],["curryRight",$],["flip",st],["partial",j],["partialRight",K],["rearg",z]],g="[object Arguments]",F="[object Array]",O="[object AsyncFunction]",B="[object Boolean]",q="[object Date]",x="[object DOMException]",T="[object Error]",Z="[object Function]",it="[object GeneratorFunction]",et="[object Map]",pt="[object Number]",gt="[object Null]",_t="[object Object]",re="[object Promise]",bt="[object Proxy]",Et="[object RegExp]",Qt="[object Set]",ct="[object String]",yt="[object Symbol]",Wt="[object Undefined]",ht="[object WeakMap]",wt="[object WeakSet]",Kt="[object ArrayBuffer]",ut="[object DataView]",It="[object Float32Array]",Vt="[object Float64Array]",mt="[object Int8Array]",Rt="[object Int16Array]",te="[object Int32Array]",vt="[object Uint8Array]",Pt="[object Uint8ClampedArray]",ue="[object Uint16Array]",Tt="[object Uint32Array]",Jt=/\b__p \+= '';/g,ce=/\b(__p \+=) '' \+/g,Ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Yt=/&(?:amp|lt|gt|quot|#39);/g,de=/[&<>"']/g,Mt=RegExp(Yt.source),Lt=RegExp(de.source),se=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dt=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,Nt=RegExp(oe.source),zt=/^\s+/,fe=/\s/,xt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qt=/\{\n\/\* \[wrapped with (.+)\] \*/,he=/,? & /,Ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zt=/[()=,{}\[\]\/\s]/,be=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gt=/\w*$/,ze=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,He=/^\[object .+?Constructor\]$/,je=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Ie=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dr=/($^)/,Nr=/['\n\r\u2028\u2029\\]/g,pr="\\ud800-\\udfff",Cr="\\u0300-\\u036f",Rr="\\ufe20-\\ufe2f",gr="\\u20d0-\\u20ff",Sr=Cr+Rr+gr,xr="\\u2700-\\u27bf",Ze="a-z\\xdf-\\xf6\\xf8-\\xff",Pr="\\xac\\xb1\\xd7\\xf7",Or="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Br="\\u2000-\\u206f",pi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ju="A-Z\\xc0-\\xd6\\xd8-\\xde",Ku="\\ufe0e\\ufe0f",la=Pr+Or+Br+pi,wh="[']",da="["+pr+"]",Ah="["+la+"]",pa="["+Sr+"]",Gu="\\d+",Ul="["+xr+"]",Qu="["+Ze+"]",Vu="[^"+pr+la+Gu+xr+Ze+ju+"]",tf="\\ud83c[\\udffb-\\udfff]",ql="(?:"+pa+"|"+tf+")",Ju="[^"+pr+"]",ef="(?:\\ud83c[\\udde6-\\uddff]){2}",Fo="[\\ud800-\\udbff][\\udc00-\\udfff]",Yi="["+ju+"]",Yu="\\u200d",Wu="(?:"+Qu+"|"+Vu+")",ds="(?:"+Yi+"|"+Vu+")",Xu="(?:"+wh+"(?:d|ll|m|re|s|t|ve))?",Zu="(?:"+wh+"(?:D|LL|M|RE|S|T|VE))?",tc=ql+"?",ec="["+Ku+"]?",Ll="(?:"+Yu+"(?:"+[Ju,ef,Fo].join("|")+")"+ec+tc+")*",so="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ic=ec+tc+Ll,rf="(?:"+[Ul,ef,Fo].join("|")+")"+ic,kl="(?:"+[Ju+pa+"?",pa,ef,Fo,da].join("|")+")",_h=RegExp(wh,"g"),zl=RegExp(pa,"g"),nf=RegExp(tf+"(?="+tf+")|"+kl+ic,"g"),nc=RegExp([Yi+"?"+Qu+"+"+Xu+"(?="+[Ah,Yi,"$"].join("|")+")",ds+"+"+Zu+"(?="+[Ah,Yi+Wu,"$"].join("|")+")",Yi+"?"+Wu+"+"+Xu,Yi+"+"+Zu,rc,so,Gu,rf].join("|"),"g"),sc=RegExp("["+Yu+pr+Sr+Ku+"]"),ga=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$l=-1,tr={};tr[It]=tr[Vt]=tr[mt]=tr[Rt]=tr[te]=tr[vt]=tr[Pt]=tr[ue]=tr[Tt]=!0,tr[g]=tr[F]=tr[Kt]=tr[B]=tr[ut]=tr[q]=tr[T]=tr[Z]=tr[et]=tr[pt]=tr[_t]=tr[Et]=tr[Qt]=tr[ct]=tr[ht]=!1;var Xe={};Xe[g]=Xe[F]=Xe[Kt]=Xe[ut]=Xe[B]=Xe[q]=Xe[It]=Xe[Vt]=Xe[mt]=Xe[Rt]=Xe[te]=Xe[et]=Xe[pt]=Xe[_t]=Xe[Et]=Xe[Qt]=Xe[ct]=Xe[yt]=Xe[vt]=Xe[Pt]=Xe[ue]=Xe[Tt]=!0,Xe[T]=Xe[Z]=Xe[ht]=!1;var tt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ot={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ut={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ne={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},er=parseFloat,we=parseInt,fr=typeof ru=="object"&&ru&&ru.Object===Object&&ru,Ir=typeof self=="object"&&self&&self.Object===Object&&self,Le=fr||Ir||Function("return this")(),rr=t&&!t.nodeType&&t,wr=rr&&!0&&e&&!e.nodeType&&e,Ci=wr&&wr.exports===rr,Dr=Ci&&fr.process,hr=function(){try{var at=wr&&wr.require&&wr.require("util").types;return at||Dr&&Dr.binding&&Dr.binding("util")}catch{}}(),gi=hr&&hr.isArrayBuffer,Un=hr&&hr.isDate,hn=hr&&hr.isMap,ps=hr&&hr.isRegExp,Eh=hr&&hr.isSet,ma=hr&&hr.isTypedArray;function zr(at,At,lt){switch(lt.length){case 0:return at.call(At);case 1:return at.call(At,lt[0]);case 2:return at.call(At,lt[0],lt[1]);case 3:return at.call(At,lt[0],lt[1],lt[2])}return at.apply(At,lt)}function i4(at,At,lt,ae){for(var ye=-1,Qe=at==null?0:at.length;++ye<Qe;){var Tr=at[ye];At(ae,Tr,lt(Tr),at)}return ae}function un(at,At){for(var lt=-1,ae=at==null?0:at.length;++lt<ae&&At(at[lt],lt,at)!==!1;);return at}function n4(at,At){for(var lt=at==null?0:at.length;lt--&&At(at[lt],lt,at)!==!1;);return at}function Q2(at,At){for(var lt=-1,ae=at==null?0:at.length;++lt<ae;)if(!At(at[lt],lt,at))return!1;return!0}function Uo(at,At){for(var lt=-1,ae=at==null?0:at.length,ye=0,Qe=[];++lt<ae;){var Tr=at[lt];At(Tr,lt,at)&&(Qe[ye++]=Tr)}return Qe}function ac(at,At){var lt=at==null?0:at.length;return!!lt&&sf(at,At,0)>-1}function Hl(at,At,lt){for(var ae=-1,ye=at==null?0:at.length;++ae<ye;)if(lt(At,at[ae]))return!0;return!1}function cr(at,At){for(var lt=-1,ae=at==null?0:at.length,ye=Array(ae);++lt<ae;)ye[lt]=At(at[lt],lt,at);return ye}function qo(at,At){for(var lt=-1,ae=At.length,ye=at.length;++lt<ae;)at[ye+lt]=At[lt];return at}function jl(at,At,lt,ae){var ye=-1,Qe=at==null?0:at.length;for(ae&&Qe&&(lt=at[++ye]);++ye<Qe;)lt=At(lt,at[ye],ye,at);return lt}function s4(at,At,lt,ae){var ye=at==null?0:at.length;for(ae&&ye&&(lt=at[--ye]);ye--;)lt=At(lt,at[ye],ye,at);return lt}function Kl(at,At){for(var lt=-1,ae=at==null?0:at.length;++lt<ae;)if(At(at[lt],lt,at))return!0;return!1}var o4=Gl("length");function a4(at){return at.split("")}function f4(at){return at.match(Ct)||[]}function V2(at,At,lt){var ae;return lt(at,function(ye,Qe,Tr){if(At(ye,Qe,Tr))return ae=Qe,!1}),ae}function fc(at,At,lt,ae){for(var ye=at.length,Qe=lt+(ae?1:-1);ae?Qe--:++Qe<ye;)if(At(at[Qe],Qe,at))return Qe;return-1}function sf(at,At,lt){return At===At?w4(at,At,lt):fc(at,J2,lt)}function h4(at,At,lt,ae){for(var ye=lt-1,Qe=at.length;++ye<Qe;)if(ae(at[ye],At))return ye;return-1}function J2(at){return at!==at}function Y2(at,At){var lt=at==null?0:at.length;return lt?Vl(at,At)/lt:d}function Gl(at){return function(At){return At==null?r:At[at]}}function Ql(at){return function(At){return at==null?r:at[At]}}function W2(at,At,lt,ae,ye){return ye(at,function(Qe,Tr,ir){lt=ae?(ae=!1,Qe):At(lt,Qe,Tr,ir)}),lt}function u4(at,At){var lt=at.length;for(at.sort(At);lt--;)at[lt]=at[lt].value;return at}function Vl(at,At){for(var lt,ae=-1,ye=at.length;++ae<ye;){var Qe=At(at[ae]);Qe!==r&&(lt=lt===r?Qe:lt+Qe)}return lt}function Jl(at,At){for(var lt=-1,ae=Array(at);++lt<at;)ae[lt]=At(lt);return ae}function c4(at,At){return cr(At,function(lt){return[lt,at[lt]]})}function X2(at){return at&&at.slice(0,rg(at)+1).replace(zt,"")}function Wi(at){return function(At){return at(At)}}function Yl(at,At){return cr(At,function(lt){return at[lt]})}function Mh(at,At){return at.has(At)}function Z2(at,At){for(var lt=-1,ae=at.length;++lt<ae&&sf(At,at[lt],0)>-1;);return lt}function tg(at,At){for(var lt=at.length;lt--&&sf(At,at[lt],0)>-1;);return lt}function l4(at,At){for(var lt=at.length,ae=0;lt--;)at[lt]===At&&++ae;return ae}var d4=Ql(tt),p4=Ql(ot);function g4(at){return"\\"+ne[at]}function m4(at,At){return at==null?r:at[At]}function of(at){return sc.test(at)}function v4(at){return ga.test(at)}function b4(at){for(var At,lt=[];!(At=at.next()).done;)lt.push(At.value);return lt}function Wl(at){var At=-1,lt=Array(at.size);return at.forEach(function(ae,ye){lt[++At]=[ye,ae]}),lt}function eg(at,At){return function(lt){return at(At(lt))}}function Lo(at,At){for(var lt=-1,ae=at.length,ye=0,Qe=[];++lt<ae;){var Tr=at[lt];(Tr===At||Tr===w)&&(at[lt]=w,Qe[ye++]=lt)}return Qe}function hc(at){var At=-1,lt=Array(at.size);return at.forEach(function(ae){lt[++At]=ae}),lt}function y4(at){var At=-1,lt=Array(at.size);return at.forEach(function(ae){lt[++At]=[ae,ae]}),lt}function w4(at,At,lt){for(var ae=lt-1,ye=at.length;++ae<ye;)if(at[ae]===At)return ae;return-1}function A4(at,At,lt){for(var ae=lt+1;ae--;)if(at[ae]===At)return ae;return ae}function af(at){return of(at)?E4(at):o4(at)}function qn(at){return of(at)?M4(at):a4(at)}function rg(at){for(var At=at.length;At--&&fe.test(at.charAt(At)););return At}var _4=Ql(Ut);function E4(at){for(var At=nf.lastIndex=0;nf.test(at);)++At;return At}function M4(at){return at.match(nf)||[]}function S4(at){return at.match(nc)||[]}var x4=function at(At){At=At==null?Le:ff.defaults(Le.Object(),At,ff.pick(Le,oc));var lt=At.Array,ae=At.Date,ye=At.Error,Qe=At.Function,Tr=At.Math,ir=At.Object,Xl=At.RegExp,I4=At.String,cn=At.TypeError,uc=lt.prototype,D4=Qe.prototype,hf=ir.prototype,cc=At["__core-js_shared__"],lc=D4.toString,We=hf.hasOwnProperty,N4=0,ig=function(){var a=/[^.]+$/.exec(cc&&cc.keys&&cc.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),dc=hf.toString,C4=lc.call(ir),R4=Le._,P4=Xl("^"+lc.call(We).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pc=Ci?At.Buffer:r,ko=At.Symbol,gc=At.Uint8Array,ng=pc?pc.allocUnsafe:r,mc=eg(ir.getPrototypeOf,ir),sg=ir.create,og=hf.propertyIsEnumerable,vc=uc.splice,ag=ko?ko.isConcatSpreadable:r,Sh=ko?ko.iterator:r,va=ko?ko.toStringTag:r,bc=function(){try{var a=_a(ir,"defineProperty");return a({},"",{}),a}catch{}}(),O4=At.clearTimeout!==Le.clearTimeout&&At.clearTimeout,B4=ae&&ae.now!==Le.Date.now&&ae.now,T4=At.setTimeout!==Le.setTimeout&&At.setTimeout,yc=Tr.ceil,wc=Tr.floor,Zl=ir.getOwnPropertySymbols,F4=pc?pc.isBuffer:r,fg=At.isFinite,U4=uc.join,q4=eg(ir.keys,ir),Fr=Tr.max,oi=Tr.min,L4=ae.now,k4=At.parseInt,hg=Tr.random,z4=uc.reverse,td=_a(At,"DataView"),xh=_a(At,"Map"),ed=_a(At,"Promise"),uf=_a(At,"Set"),Ih=_a(At,"WeakMap"),Dh=_a(ir,"create"),Ac=Ih&&new Ih,cf={},$4=Ea(td),H4=Ea(xh),j4=Ea(ed),K4=Ea(uf),G4=Ea(Ih),_c=ko?ko.prototype:r,Nh=_c?_c.valueOf:r,ug=_c?_c.toString:r;function G(a){if(mr(a)&&!Ae(a)&&!(a instanceof Re)){if(a instanceof ln)return a;if(We.call(a,"__wrapped__"))return c3(a)}return new ln(a)}var lf=function(){function a(){}return function(l){if(!lr(l))return{};if(sg)return sg(l);a.prototype=l;var A=new a;return a.prototype=r,A}}();function Ec(){}function ln(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}G.templateSettings={escape:se,evaluate:St,interpolate:kt,variable:"",imports:{_:G}},G.prototype=Ec.prototype,G.prototype.constructor=G,ln.prototype=lf(Ec.prototype),ln.prototype.constructor=ln;function Re(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Q4(){var a=new Re(this.__wrapped__);return a.__actions__=Ri(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Ri(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Ri(this.__views__),a}function V4(){if(this.__filtered__){var a=new Re(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function J4(){var a=this.__wrapped__.value(),l=this.__dir__,A=Ae(a),R=l<0,U=A?a.length:0,V=a7(0,U,this.__views__),rt=V.start,nt=V.end,ft=nt-rt,Ot=R?nt:rt-1,Bt=this.__iteratees__,$t=Bt.length,ee=0,le=oi(ft,this.__takeCount__);if(!A||!R&&U==ft&&le==ft)return Bg(a,this.__actions__);var me=[];t:for(;ft--&&ee<le;){Ot+=l;for(var De=-1,ve=a[Ot];++De<$t;){var Ce=Bt[De],ke=Ce.iteratee,tn=Ce.type,bi=ke(ve);if(tn==c)ve=bi;else if(!bi){if(tn==h)continue t;break t}}me[ee++]=ve}return me}Re.prototype=lf(Ec.prototype),Re.prototype.constructor=Re;function ba(a){var l=-1,A=a==null?0:a.length;for(this.clear();++l<A;){var R=a[l];this.set(R[0],R[1])}}function Y4(){this.__data__=Dh?Dh(null):{},this.size=0}function W4(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function X4(a){var l=this.__data__;if(Dh){var A=l[a];return A===b?r:A}return We.call(l,a)?l[a]:r}function Z4(a){var l=this.__data__;return Dh?l[a]!==r:We.call(l,a)}function tw(a,l){var A=this.__data__;return this.size+=this.has(a)?0:1,A[a]=Dh&&l===r?b:l,this}ba.prototype.clear=Y4,ba.prototype.delete=W4,ba.prototype.get=X4,ba.prototype.has=Z4,ba.prototype.set=tw;function oo(a){var l=-1,A=a==null?0:a.length;for(this.clear();++l<A;){var R=a[l];this.set(R[0],R[1])}}function ew(){this.__data__=[],this.size=0}function rw(a){var l=this.__data__,A=Mc(l,a);if(A<0)return!1;var R=l.length-1;return A==R?l.pop():vc.call(l,A,1),--this.size,!0}function iw(a){var l=this.__data__,A=Mc(l,a);return A<0?r:l[A][1]}function nw(a){return Mc(this.__data__,a)>-1}function sw(a,l){var A=this.__data__,R=Mc(A,a);return R<0?(++this.size,A.push([a,l])):A[R][1]=l,this}oo.prototype.clear=ew,oo.prototype.delete=rw,oo.prototype.get=iw,oo.prototype.has=nw,oo.prototype.set=sw;function ao(a){var l=-1,A=a==null?0:a.length;for(this.clear();++l<A;){var R=a[l];this.set(R[0],R[1])}}function ow(){this.size=0,this.__data__={hash:new ba,map:new(xh||oo),string:new ba}}function aw(a){var l=Fc(this,a).delete(a);return this.size-=l?1:0,l}function fw(a){return Fc(this,a).get(a)}function hw(a){return Fc(this,a).has(a)}function uw(a,l){var A=Fc(this,a),R=A.size;return A.set(a,l),this.size+=A.size==R?0:1,this}ao.prototype.clear=ow,ao.prototype.delete=aw,ao.prototype.get=fw,ao.prototype.has=hw,ao.prototype.set=uw;function ya(a){var l=-1,A=a==null?0:a.length;for(this.__data__=new ao;++l<A;)this.add(a[l])}function cw(a){return this.__data__.set(a,b),this}function lw(a){return this.__data__.has(a)}ya.prototype.add=ya.prototype.push=cw,ya.prototype.has=lw;function Ln(a){var l=this.__data__=new oo(a);this.size=l.size}function dw(){this.__data__=new oo,this.size=0}function pw(a){var l=this.__data__,A=l.delete(a);return this.size=l.size,A}function gw(a){return this.__data__.get(a)}function mw(a){return this.__data__.has(a)}function vw(a,l){var A=this.__data__;if(A instanceof oo){var R=A.__data__;if(!xh||R.length<n-1)return R.push([a,l]),this.size=++A.size,this;A=this.__data__=new ao(R)}return A.set(a,l),this.size=A.size,this}Ln.prototype.clear=dw,Ln.prototype.delete=pw,Ln.prototype.get=gw,Ln.prototype.has=mw,Ln.prototype.set=vw;function cg(a,l){var A=Ae(a),R=!A&&Ma(a),U=!A&&!R&&Ko(a),V=!A&&!R&&!U&&mf(a),rt=A||R||U||V,nt=rt?Jl(a.length,I4):[],ft=nt.length;for(var Ot in a)(l||We.call(a,Ot))&&!(rt&&(Ot=="length"||U&&(Ot=="offset"||Ot=="parent")||V&&(Ot=="buffer"||Ot=="byteLength"||Ot=="byteOffset")||co(Ot,ft)))&&nt.push(Ot);return nt}function lg(a){var l=a.length;return l?a[ld(0,l-1)]:r}function bw(a,l){return Uc(Ri(a),wa(l,0,a.length))}function yw(a){return Uc(Ri(a))}function rd(a,l,A){(A!==r&&!kn(a[l],A)||A===r&&!(l in a))&&fo(a,l,A)}function Ch(a,l,A){var R=a[l];(!(We.call(a,l)&&kn(R,A))||A===r&&!(l in a))&&fo(a,l,A)}function Mc(a,l){for(var A=a.length;A--;)if(kn(a[A][0],l))return A;return-1}function ww(a,l,A,R){return zo(a,function(U,V,rt){l(R,U,A(U),rt)}),R}function dg(a,l){return a&&ms(l,$r(l),a)}function Aw(a,l){return a&&ms(l,Oi(l),a)}function fo(a,l,A){l=="__proto__"&&bc?bc(a,l,{configurable:!0,enumerable:!0,value:A,writable:!0}):a[l]=A}function id(a,l){for(var A=-1,R=l.length,U=lt(R),V=a==null;++A<R;)U[A]=V?r:Ud(a,l[A]);return U}function wa(a,l,A){return a===a&&(A!==r&&(a=a<=A?a:A),l!==r&&(a=a>=l?a:l)),a}function dn(a,l,A,R,U,V){var rt,nt=l&S,ft=l&D,Ot=l&N;if(A&&(rt=U?A(a,R,U,V):A(a)),rt!==r)return rt;if(!lr(a))return a;var Bt=Ae(a);if(Bt){if(rt=h7(a),!nt)return Ri(a,rt)}else{var $t=ai(a),ee=$t==Z||$t==it;if(Ko(a))return Ug(a,nt);if($t==_t||$t==g||ee&&!U){if(rt=ft||ee?{}:r3(a),!nt)return ft?Xw(a,Aw(rt,a)):Ww(a,dg(rt,a))}else{if(!Xe[$t])return U?a:{};rt=u7(a,$t,nt)}}V||(V=new Ln);var le=V.get(a);if(le)return le;V.set(a,rt),R3(a)?a.forEach(function(ve){rt.add(dn(ve,l,A,ve,a,V))}):N3(a)&&a.forEach(function(ve,Ce){rt.set(Ce,dn(ve,l,A,Ce,a,V))});var me=Ot?ft?Ed:_d:ft?Oi:$r,De=Bt?r:me(a);return un(De||a,function(ve,Ce){De&&(Ce=ve,ve=a[Ce]),Ch(rt,Ce,dn(ve,l,A,Ce,a,V))}),rt}function _w(a){var l=$r(a);return function(A){return pg(A,a,l)}}function pg(a,l,A){var R=A.length;if(a==null)return!R;for(a=ir(a);R--;){var U=A[R],V=l[U],rt=a[U];if(rt===r&&!(U in a)||!V(rt))return!1}return!0}function gg(a,l,A){if(typeof a!="function")throw new cn(u);return Uh(function(){a.apply(r,A)},l)}function Rh(a,l,A,R){var U=-1,V=ac,rt=!0,nt=a.length,ft=[],Ot=l.length;if(!nt)return ft;A&&(l=cr(l,Wi(A))),R?(V=Hl,rt=!1):l.length>=n&&(V=Mh,rt=!1,l=new ya(l));t:for(;++U<nt;){var Bt=a[U],$t=A==null?Bt:A(Bt);if(Bt=R||Bt!==0?Bt:0,rt&&$t===$t){for(var ee=Ot;ee--;)if(l[ee]===$t)continue t;ft.push(Bt)}else V(l,$t,R)||ft.push(Bt)}return ft}var zo=$g(gs),mg=$g(sd,!0);function Ew(a,l){var A=!0;return zo(a,function(R,U,V){return A=!!l(R,U,V),A}),A}function Sc(a,l,A){for(var R=-1,U=a.length;++R<U;){var V=a[R],rt=l(V);if(rt!=null&&(nt===r?rt===rt&&!Zi(rt):A(rt,nt)))var nt=rt,ft=V}return ft}function Mw(a,l,A,R){var U=a.length;for(A=xe(A),A<0&&(A=-A>U?0:U+A),R=R===r||R>U?U:xe(R),R<0&&(R+=U),R=A>R?0:O3(R);A<R;)a[A++]=l;return a}function vg(a,l){var A=[];return zo(a,function(R,U,V){l(R,U,V)&&A.push(R)}),A}function Wr(a,l,A,R,U){var V=-1,rt=a.length;for(A||(A=l7),U||(U=[]);++V<rt;){var nt=a[V];l>0&&A(nt)?l>1?Wr(nt,l-1,A,R,U):qo(U,nt):R||(U[U.length]=nt)}return U}var nd=Hg(),bg=Hg(!0);function gs(a,l){return a&&nd(a,l,$r)}function sd(a,l){return a&&bg(a,l,$r)}function xc(a,l){return Uo(l,function(A){return lo(a[A])})}function Aa(a,l){l=Ho(l,a);for(var A=0,R=l.length;a!=null&&A<R;)a=a[vs(l[A++])];return A&&A==R?a:r}function yg(a,l,A){var R=l(a);return Ae(a)?R:qo(R,A(a))}function mi(a){return a==null?a===r?Wt:gt:va&&va in ir(a)?o7(a):y7(a)}function od(a,l){return a>l}function Sw(a,l){return a!=null&&We.call(a,l)}function xw(a,l){return a!=null&&l in ir(a)}function Iw(a,l,A){return a>=oi(l,A)&&a<Fr(l,A)}function ad(a,l,A){for(var R=A?Hl:ac,U=a[0].length,V=a.length,rt=V,nt=lt(V),ft=1/0,Ot=[];rt--;){var Bt=a[rt];rt&&l&&(Bt=cr(Bt,Wi(l))),ft=oi(Bt.length,ft),nt[rt]=!A&&(l||U>=120&&Bt.length>=120)?new ya(rt&&Bt):r}Bt=a[0];var $t=-1,ee=nt[0];t:for(;++$t<U&&Ot.length<ft;){var le=Bt[$t],me=l?l(le):le;if(le=A||le!==0?le:0,!(ee?Mh(ee,me):R(Ot,me,A))){for(rt=V;--rt;){var De=nt[rt];if(!(De?Mh(De,me):R(a[rt],me,A)))continue t}ee&&ee.push(me),Ot.push(le)}}return Ot}function Dw(a,l,A,R){return gs(a,function(U,V,rt){l(R,A(U),V,rt)}),R}function Ph(a,l,A){l=Ho(l,a),a=o3(a,l);var R=a==null?a:a[vs(gn(l))];return R==null?r:zr(R,a,A)}function wg(a){return mr(a)&&mi(a)==g}function Nw(a){return mr(a)&&mi(a)==Kt}function Cw(a){return mr(a)&&mi(a)==q}function Oh(a,l,A,R,U){return a===l?!0:a==null||l==null||!mr(a)&&!mr(l)?a!==a&&l!==l:Rw(a,l,A,R,Oh,U)}function Rw(a,l,A,R,U,V){var rt=Ae(a),nt=Ae(l),ft=rt?F:ai(a),Ot=nt?F:ai(l);ft=ft==g?_t:ft,Ot=Ot==g?_t:Ot;var Bt=ft==_t,$t=Ot==_t,ee=ft==Ot;if(ee&&Ko(a)){if(!Ko(l))return!1;rt=!0,Bt=!1}if(ee&&!Bt)return V||(V=new Ln),rt||mf(a)?Zg(a,l,A,R,U,V):n7(a,l,ft,A,R,U,V);if(!(A&P)){var le=Bt&&We.call(a,"__wrapped__"),me=$t&&We.call(l,"__wrapped__");if(le||me){var De=le?a.value():a,ve=me?l.value():l;return V||(V=new Ln),U(De,ve,A,R,V)}}return ee?(V||(V=new Ln),s7(a,l,A,R,U,V)):!1}function Pw(a){return mr(a)&&ai(a)==et}function fd(a,l,A,R){var U=A.length,V=U,rt=!R;if(a==null)return!V;for(a=ir(a);U--;){var nt=A[U];if(rt&&nt[2]?nt[1]!==a[nt[0]]:!(nt[0]in a))return!1}for(;++U<V;){nt=A[U];var ft=nt[0],Ot=a[ft],Bt=nt[1];if(rt&&nt[2]){if(Ot===r&&!(ft in a))return!1}else{var $t=new Ln;if(R)var ee=R(Ot,Bt,ft,a,l,$t);if(!(ee===r?Oh(Bt,Ot,P|L,R,$t):ee))return!1}}return!0}function Ag(a){if(!lr(a)||p7(a))return!1;var l=lo(a)?P4:He;return l.test(Ea(a))}function Ow(a){return mr(a)&&mi(a)==Et}function Bw(a){return mr(a)&&ai(a)==Qt}function Tw(a){return mr(a)&&Hc(a.length)&&!!tr[mi(a)]}function _g(a){return typeof a=="function"?a:a==null?Bi:typeof a=="object"?Ae(a)?Sg(a[0],a[1]):Mg(a):j3(a)}function hd(a){if(!Fh(a))return q4(a);var l=[];for(var A in ir(a))We.call(a,A)&&A!="constructor"&&l.push(A);return l}function Fw(a){if(!lr(a))return b7(a);var l=Fh(a),A=[];for(var R in a)R=="constructor"&&(l||!We.call(a,R))||A.push(R);return A}function ud(a,l){return a<l}function Eg(a,l){var A=-1,R=Pi(a)?lt(a.length):[];return zo(a,function(U,V,rt){R[++A]=l(U,V,rt)}),R}function Mg(a){var l=Sd(a);return l.length==1&&l[0][2]?n3(l[0][0],l[0][1]):function(A){return A===a||fd(A,a,l)}}function Sg(a,l){return Id(a)&&i3(l)?n3(vs(a),l):function(A){var R=Ud(A,a);return R===r&&R===l?qd(A,a):Oh(l,R,P|L)}}function Ic(a,l,A,R,U){a!==l&&nd(l,function(V,rt){if(U||(U=new Ln),lr(V))Uw(a,l,rt,A,Ic,R,U);else{var nt=R?R(Nd(a,rt),V,rt+"",a,l,U):r;nt===r&&(nt=V),rd(a,rt,nt)}},Oi)}function Uw(a,l,A,R,U,V,rt){var nt=Nd(a,A),ft=Nd(l,A),Ot=rt.get(ft);if(Ot){rd(a,A,Ot);return}var Bt=V?V(nt,ft,A+"",a,l,rt):r,$t=Bt===r;if($t){var ee=Ae(ft),le=!ee&&Ko(ft),me=!ee&&!le&&mf(ft);Bt=ft,ee||le||me?Ae(nt)?Bt=nt:Ar(nt)?Bt=Ri(nt):le?($t=!1,Bt=Ug(ft,!0)):me?($t=!1,Bt=qg(ft,!0)):Bt=[]:qh(ft)||Ma(ft)?(Bt=nt,Ma(nt)?Bt=B3(nt):(!lr(nt)||lo(nt))&&(Bt=r3(ft))):$t=!1}$t&&(rt.set(ft,Bt),U(Bt,ft,R,V,rt),rt.delete(ft)),rd(a,A,Bt)}function xg(a,l){var A=a.length;if(A)return l+=l<0?A:0,co(l,A)?a[l]:r}function Ig(a,l,A){l.length?l=cr(l,function(V){return Ae(V)?function(rt){return Aa(rt,V.length===1?V[0]:V)}:V}):l=[Bi];var R=-1;l=cr(l,Wi(ge()));var U=Eg(a,function(V,rt,nt){var ft=cr(l,function(Ot){return Ot(V)});return{criteria:ft,index:++R,value:V}});return u4(U,function(V,rt){return Yw(V,rt,A)})}function qw(a,l){return Dg(a,l,function(A,R){return qd(a,R)})}function Dg(a,l,A){for(var R=-1,U=l.length,V={};++R<U;){var rt=l[R],nt=Aa(a,rt);A(nt,rt)&&Bh(V,Ho(rt,a),nt)}return V}function Lw(a){return function(l){return Aa(l,a)}}function cd(a,l,A,R){var U=R?h4:sf,V=-1,rt=l.length,nt=a;for(a===l&&(l=Ri(l)),A&&(nt=cr(a,Wi(A)));++V<rt;)for(var ft=0,Ot=l[V],Bt=A?A(Ot):Ot;(ft=U(nt,Bt,ft,R))>-1;)nt!==a&&vc.call(nt,ft,1),vc.call(a,ft,1);return a}function Ng(a,l){for(var A=a?l.length:0,R=A-1;A--;){var U=l[A];if(A==R||U!==V){var V=U;co(U)?vc.call(a,U,1):gd(a,U)}}return a}function ld(a,l){return a+wc(hg()*(l-a+1))}function kw(a,l,A,R){for(var U=-1,V=Fr(yc((l-a)/(A||1)),0),rt=lt(V);V--;)rt[R?V:++U]=a,a+=A;return rt}function dd(a,l){var A="";if(!a||l<1||l>M)return A;do l%2&&(A+=a),l=wc(l/2),l&&(a+=a);while(l);return A}function Ne(a,l){return Cd(s3(a,l,Bi),a+"")}function zw(a){return lg(vf(a))}function $w(a,l){var A=vf(a);return Uc(A,wa(l,0,A.length))}function Bh(a,l,A,R){if(!lr(a))return a;l=Ho(l,a);for(var U=-1,V=l.length,rt=V-1,nt=a;nt!=null&&++U<V;){var ft=vs(l[U]),Ot=A;if(ft==="__proto__"||ft==="constructor"||ft==="prototype")return a;if(U!=rt){var Bt=nt[ft];Ot=R?R(Bt,ft,nt):r,Ot===r&&(Ot=lr(Bt)?Bt:co(l[U+1])?[]:{})}Ch(nt,ft,Ot),nt=nt[ft]}return a}var Cg=Ac?function(a,l){return Ac.set(a,l),a}:Bi,Hw=bc?function(a,l){return bc(a,"toString",{configurable:!0,enumerable:!1,value:kd(l),writable:!0})}:Bi;function jw(a){return Uc(vf(a))}function pn(a,l,A){var R=-1,U=a.length;l<0&&(l=-l>U?0:U+l),A=A>U?U:A,A<0&&(A+=U),U=l>A?0:A-l>>>0,l>>>=0;for(var V=lt(U);++R<U;)V[R]=a[R+l];return V}function Kw(a,l){var A;return zo(a,function(R,U,V){return A=l(R,U,V),!A}),!!A}function Dc(a,l,A){var R=0,U=a==null?R:a.length;if(typeof l=="number"&&l===l&&U<=J){for(;R<U;){var V=R+U>>>1,rt=a[V];rt!==null&&!Zi(rt)&&(A?rt<=l:rt<l)?R=V+1:U=V}return U}return pd(a,l,Bi,A)}function pd(a,l,A,R){var U=0,V=a==null?0:a.length;if(V===0)return 0;l=A(l);for(var rt=l!==l,nt=l===null,ft=Zi(l),Ot=l===r;U<V;){var Bt=wc((U+V)/2),$t=A(a[Bt]),ee=$t!==r,le=$t===null,me=$t===$t,De=Zi($t);if(rt)var ve=R||me;else Ot?ve=me&&(R||ee):nt?ve=me&&ee&&(R||!le):ft?ve=me&&ee&&!le&&(R||!De):le||De?ve=!1:ve=R?$t<=l:$t<l;ve?U=Bt+1:V=Bt}return oi(V,_)}function Rg(a,l){for(var A=-1,R=a.length,U=0,V=[];++A<R;){var rt=a[A],nt=l?l(rt):rt;if(!A||!kn(nt,ft)){var ft=nt;V[U++]=rt===0?0:rt}}return V}function Pg(a){return typeof a=="number"?a:Zi(a)?d:+a}function Xi(a){if(typeof a=="string")return a;if(Ae(a))return cr(a,Xi)+"";if(Zi(a))return ug?ug.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}function $o(a,l,A){var R=-1,U=ac,V=a.length,rt=!0,nt=[],ft=nt;if(A)rt=!1,U=Hl;else if(V>=n){var Ot=l?null:r7(a);if(Ot)return hc(Ot);rt=!1,U=Mh,ft=new ya}else ft=l?[]:nt;t:for(;++R<V;){var Bt=a[R],$t=l?l(Bt):Bt;if(Bt=A||Bt!==0?Bt:0,rt&&$t===$t){for(var ee=ft.length;ee--;)if(ft[ee]===$t)continue t;l&&ft.push($t),nt.push(Bt)}else U(ft,$t,A)||(ft!==nt&&ft.push($t),nt.push(Bt))}return nt}function gd(a,l){return l=Ho(l,a),a=o3(a,l),a==null||delete a[vs(gn(l))]}function Og(a,l,A,R){return Bh(a,l,A(Aa(a,l)),R)}function Nc(a,l,A,R){for(var U=a.length,V=R?U:-1;(R?V--:++V<U)&&l(a[V],V,a););return A?pn(a,R?0:V,R?V+1:U):pn(a,R?V+1:0,R?U:V)}function Bg(a,l){var A=a;return A instanceof Re&&(A=A.value()),jl(l,function(R,U){return U.func.apply(U.thisArg,qo([R],U.args))},A)}function md(a,l,A){var R=a.length;if(R<2)return R?$o(a[0]):[];for(var U=-1,V=lt(R);++U<R;)for(var rt=a[U],nt=-1;++nt<R;)nt!=U&&(V[U]=Rh(V[U]||rt,a[nt],l,A));return $o(Wr(V,1),l,A)}function Tg(a,l,A){for(var R=-1,U=a.length,V=l.length,rt={};++R<U;){var nt=R<V?l[R]:r;A(rt,a[R],nt)}return rt}function vd(a){return Ar(a)?a:[]}function bd(a){return typeof a=="function"?a:Bi}function Ho(a,l){return Ae(a)?a:Id(a,l)?[a]:u3(Ve(a))}var Gw=Ne;function jo(a,l,A){var R=a.length;return A=A===r?R:A,!l&&A>=R?a:pn(a,l,A)}var Fg=O4||function(a){return Le.clearTimeout(a)};function Ug(a,l){if(l)return a.slice();var A=a.length,R=ng?ng(A):new a.constructor(A);return a.copy(R),R}function yd(a){var l=new a.constructor(a.byteLength);return new gc(l).set(new gc(a)),l}function Qw(a,l){var A=l?yd(a.buffer):a.buffer;return new a.constructor(A,a.byteOffset,a.byteLength)}function Vw(a){var l=new a.constructor(a.source,Gt.exec(a));return l.lastIndex=a.lastIndex,l}function Jw(a){return Nh?ir(Nh.call(a)):{}}function qg(a,l){var A=l?yd(a.buffer):a.buffer;return new a.constructor(A,a.byteOffset,a.length)}function Lg(a,l){if(a!==l){var A=a!==r,R=a===null,U=a===a,V=Zi(a),rt=l!==r,nt=l===null,ft=l===l,Ot=Zi(l);if(!nt&&!Ot&&!V&&a>l||V&&rt&&ft&&!nt&&!Ot||R&&rt&&ft||!A&&ft||!U)return 1;if(!R&&!V&&!Ot&&a<l||Ot&&A&&U&&!R&&!V||nt&&A&&U||!rt&&U||!ft)return-1}return 0}function Yw(a,l,A){for(var R=-1,U=a.criteria,V=l.criteria,rt=U.length,nt=A.length;++R<rt;){var ft=Lg(U[R],V[R]);if(ft){if(R>=nt)return ft;var Ot=A[R];return ft*(Ot=="desc"?-1:1)}}return a.index-l.index}function kg(a,l,A,R){for(var U=-1,V=a.length,rt=A.length,nt=-1,ft=l.length,Ot=Fr(V-rt,0),Bt=lt(ft+Ot),$t=!R;++nt<ft;)Bt[nt]=l[nt];for(;++U<rt;)($t||U<V)&&(Bt[A[U]]=a[U]);for(;Ot--;)Bt[nt++]=a[U++];return Bt}function zg(a,l,A,R){for(var U=-1,V=a.length,rt=-1,nt=A.length,ft=-1,Ot=l.length,Bt=Fr(V-nt,0),$t=lt(Bt+Ot),ee=!R;++U<Bt;)$t[U]=a[U];for(var le=U;++ft<Ot;)$t[le+ft]=l[ft];for(;++rt<nt;)(ee||U<V)&&($t[le+A[rt]]=a[U++]);return $t}function Ri(a,l){var A=-1,R=a.length;for(l||(l=lt(R));++A<R;)l[A]=a[A];return l}function ms(a,l,A,R){var U=!A;A||(A={});for(var V=-1,rt=l.length;++V<rt;){var nt=l[V],ft=R?R(A[nt],a[nt],nt,A,a):r;ft===r&&(ft=a[nt]),U?fo(A,nt,ft):Ch(A,nt,ft)}return A}function Ww(a,l){return ms(a,xd(a),l)}function Xw(a,l){return ms(a,t3(a),l)}function Cc(a,l){return function(A,R){var U=Ae(A)?i4:ww,V=l?l():{};return U(A,a,ge(R,2),V)}}function df(a){return Ne(function(l,A){var R=-1,U=A.length,V=U>1?A[U-1]:r,rt=U>2?A[2]:r;for(V=a.length>3&&typeof V=="function"?(U--,V):r,rt&&vi(A[0],A[1],rt)&&(V=U<3?r:V,U=1),l=ir(l);++R<U;){var nt=A[R];nt&&a(l,nt,R,V)}return l})}function $g(a,l){return function(A,R){if(A==null)return A;if(!Pi(A))return a(A,R);for(var U=A.length,V=l?U:-1,rt=ir(A);(l?V--:++V<U)&&R(rt[V],V,rt)!==!1;);return A}}function Hg(a){return function(l,A,R){for(var U=-1,V=ir(l),rt=R(l),nt=rt.length;nt--;){var ft=rt[a?nt:++U];if(A(V[ft],ft,V)===!1)break}return l}}function Zw(a,l,A){var R=l&k,U=Th(a);function V(){var rt=this&&this!==Le&&this instanceof V?U:a;return rt.apply(R?A:this,arguments)}return V}function jg(a){return function(l){l=Ve(l);var A=of(l)?qn(l):r,R=A?A[0]:l.charAt(0),U=A?jo(A,1).join(""):l.slice(1);return R[a]()+U}}function pf(a){return function(l){return jl($3(z3(l).replace(_h,"")),a,"")}}function Th(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var A=lf(a.prototype),R=a.apply(A,l);return lr(R)?R:A}}function t7(a,l,A){var R=Th(a);function U(){for(var V=arguments.length,rt=lt(V),nt=V,ft=gf(U);nt--;)rt[nt]=arguments[nt];var Ot=V<3&&rt[0]!==ft&&rt[V-1]!==ft?[]:Lo(rt,ft);if(V-=Ot.length,V<A)return Jg(a,l,Rc,U.placeholder,r,rt,Ot,r,r,A-V);var Bt=this&&this!==Le&&this instanceof U?R:a;return zr(Bt,this,rt)}return U}function Kg(a){return function(l,A,R){var U=ir(l);if(!Pi(l)){var V=ge(A,3);l=$r(l),A=function(nt){return V(U[nt],nt,U)}}var rt=a(l,A,R);return rt>-1?U[V?l[rt]:rt]:r}}function Gg(a){return uo(function(l){var A=l.length,R=A,U=ln.prototype.thru;for(a&&l.reverse();R--;){var V=l[R];if(typeof V!="function")throw new cn(u);if(U&&!rt&&Tc(V)=="wrapper")var rt=new ln([],!0)}for(R=rt?R:A;++R<A;){V=l[R];var nt=Tc(V),ft=nt=="wrapper"?Md(V):r;ft&&Dd(ft[0])&&ft[1]==(C|X|j|z)&&!ft[4].length&&ft[9]==1?rt=rt[Tc(ft[0])].apply(rt,ft[3]):rt=V.length==1&&Dd(V)?rt[nt]():rt.thru(V)}return function(){var Ot=arguments,Bt=Ot[0];if(rt&&Ot.length==1&&Ae(Bt))return rt.plant(Bt).value();for(var $t=0,ee=A?l[$t].apply(this,Ot):Bt;++$t<A;)ee=l[$t].call(this,ee);return ee}})}function Rc(a,l,A,R,U,V,rt,nt,ft,Ot){var Bt=l&C,$t=l&k,ee=l&Y,le=l&(X|$),me=l&st,De=ee?r:Th(a);function ve(){for(var Ce=arguments.length,ke=lt(Ce),tn=Ce;tn--;)ke[tn]=arguments[tn];if(le)var bi=gf(ve),en=l4(ke,bi);if(R&&(ke=kg(ke,R,U,le)),V&&(ke=zg(ke,V,rt,le)),Ce-=en,le&&Ce<Ot){var _r=Lo(ke,bi);return Jg(a,l,Rc,ve.placeholder,A,ke,_r,nt,ft,Ot-Ce)}var zn=$t?A:this,go=ee?zn[a]:a;return Ce=ke.length,nt?ke=w7(ke,nt):me&&Ce>1&&ke.reverse(),Bt&&ft<Ce&&(ke.length=ft),this&&this!==Le&&this instanceof ve&&(go=De||Th(go)),go.apply(zn,ke)}return ve}function Qg(a,l){return function(A,R){return Dw(A,a,l(R),{})}}function Pc(a,l){return function(A,R){var U;if(A===r&&R===r)return l;if(A!==r&&(U=A),R!==r){if(U===r)return R;typeof A=="string"||typeof R=="string"?(A=Xi(A),R=Xi(R)):(A=Pg(A),R=Pg(R)),U=a(A,R)}return U}}function wd(a){return uo(function(l){return l=cr(l,Wi(ge())),Ne(function(A){var R=this;return a(l,function(U){return zr(U,R,A)})})})}function Oc(a,l){l=l===r?" ":Xi(l);var A=l.length;if(A<2)return A?dd(l,a):l;var R=dd(l,yc(a/af(l)));return of(l)?jo(qn(R),0,a).join(""):R.slice(0,a)}function e7(a,l,A,R){var U=l&k,V=Th(a);function rt(){for(var nt=-1,ft=arguments.length,Ot=-1,Bt=R.length,$t=lt(Bt+ft),ee=this&&this!==Le&&this instanceof rt?V:a;++Ot<Bt;)$t[Ot]=R[Ot];for(;ft--;)$t[Ot++]=arguments[++nt];return zr(ee,U?A:this,$t)}return rt}function Vg(a){return function(l,A,R){return R&&typeof R!="number"&&vi(l,A,R)&&(A=R=r),l=po(l),A===r?(A=l,l=0):A=po(A),R=R===r?l<A?1:-1:po(R),kw(l,A,R,a)}}function Bc(a){return function(l,A){return typeof l=="string"&&typeof A=="string"||(l=mn(l),A=mn(A)),a(l,A)}}function Jg(a,l,A,R,U,V,rt,nt,ft,Ot){var Bt=l&X,$t=Bt?rt:r,ee=Bt?r:rt,le=Bt?V:r,me=Bt?r:V;l|=Bt?j:K,l&=~(Bt?K:j),l&Q||(l&=-4);var De=[a,l,U,le,$t,me,ee,nt,ft,Ot],ve=A.apply(r,De);return Dd(a)&&a3(ve,De),ve.placeholder=R,f3(ve,a,l)}function Ad(a){var l=Tr[a];return function(A,R){if(A=mn(A),R=R==null?0:oi(xe(R),292),R&&fg(A)){var U=(Ve(A)+"e").split("e"),V=l(U[0]+"e"+(+U[1]+R));return U=(Ve(V)+"e").split("e"),+(U[0]+"e"+(+U[1]-R))}return l(A)}}var r7=uf&&1/hc(new uf([,-0]))[1]==y?function(a){return new uf(a)}:Hd;function Yg(a){return function(l){var A=ai(l);return A==et?Wl(l):A==Qt?y4(l):c4(l,a(l))}}function ho(a,l,A,R,U,V,rt,nt){var ft=l&Y;if(!ft&&typeof a!="function")throw new cn(u);var Ot=R?R.length:0;if(Ot||(l&=-97,R=U=r),rt=rt===r?rt:Fr(xe(rt),0),nt=nt===r?nt:xe(nt),Ot-=U?U.length:0,l&K){var Bt=R,$t=U;R=U=r}var ee=ft?r:Md(a),le=[a,l,A,R,U,Bt,$t,V,rt,nt];if(ee&&v7(le,ee),a=le[0],l=le[1],A=le[2],R=le[3],U=le[4],nt=le[9]=le[9]===r?ft?0:a.length:Fr(le[9]-Ot,0),!nt&&l&(X|$)&&(l&=-25),!l||l==k)var me=Zw(a,l,A);else l==X||l==$?me=t7(a,l,nt):(l==j||l==(k|j))&&!U.length?me=e7(a,l,A,R):me=Rc.apply(r,le);var De=ee?Cg:a3;return f3(De(me,le),a,l)}function Wg(a,l,A,R){return a===r||kn(a,hf[A])&&!We.call(R,A)?l:a}function Xg(a,l,A,R,U,V){return lr(a)&&lr(l)&&(V.set(l,a),Ic(a,l,r,Xg,V),V.delete(l)),a}function i7(a){return qh(a)?r:a}function Zg(a,l,A,R,U,V){var rt=A&P,nt=a.length,ft=l.length;if(nt!=ft&&!(rt&&ft>nt))return!1;var Ot=V.get(a),Bt=V.get(l);if(Ot&&Bt)return Ot==l&&Bt==a;var $t=-1,ee=!0,le=A&L?new ya:r;for(V.set(a,l),V.set(l,a);++$t<nt;){var me=a[$t],De=l[$t];if(R)var ve=rt?R(De,me,$t,l,a,V):R(me,De,$t,a,l,V);if(ve!==r){if(ve)continue;ee=!1;break}if(le){if(!Kl(l,function(Ce,ke){if(!Mh(le,ke)&&(me===Ce||U(me,Ce,A,R,V)))return le.push(ke)})){ee=!1;break}}else if(!(me===De||U(me,De,A,R,V))){ee=!1;break}}return V.delete(a),V.delete(l),ee}function n7(a,l,A,R,U,V,rt){switch(A){case ut:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case Kt:return!(a.byteLength!=l.byteLength||!V(new gc(a),new gc(l)));case B:case q:case pt:return kn(+a,+l);case T:return a.name==l.name&&a.message==l.message;case Et:case ct:return a==l+"";case et:var nt=Wl;case Qt:var ft=R&P;if(nt||(nt=hc),a.size!=l.size&&!ft)return!1;var Ot=rt.get(a);if(Ot)return Ot==l;R|=L,rt.set(a,l);var Bt=Zg(nt(a),nt(l),R,U,V,rt);return rt.delete(a),Bt;case yt:if(Nh)return Nh.call(a)==Nh.call(l)}return!1}function s7(a,l,A,R,U,V){var rt=A&P,nt=_d(a),ft=nt.length,Ot=_d(l),Bt=Ot.length;if(ft!=Bt&&!rt)return!1;for(var $t=ft;$t--;){var ee=nt[$t];if(!(rt?ee in l:We.call(l,ee)))return!1}var le=V.get(a),me=V.get(l);if(le&&me)return le==l&&me==a;var De=!0;V.set(a,l),V.set(l,a);for(var ve=rt;++$t<ft;){ee=nt[$t];var Ce=a[ee],ke=l[ee];if(R)var tn=rt?R(ke,Ce,ee,l,a,V):R(Ce,ke,ee,a,l,V);if(!(tn===r?Ce===ke||U(Ce,ke,A,R,V):tn)){De=!1;break}ve||(ve=ee=="constructor")}if(De&&!ve){var bi=a.constructor,en=l.constructor;bi!=en&&"constructor"in a&&"constructor"in l&&!(typeof bi=="function"&&bi instanceof bi&&typeof en=="function"&&en instanceof en)&&(De=!1)}return V.delete(a),V.delete(l),De}function uo(a){return Cd(s3(a,r,p3),a+"")}function _d(a){return yg(a,$r,xd)}function Ed(a){return yg(a,Oi,t3)}var Md=Ac?function(a){return Ac.get(a)}:Hd;function Tc(a){for(var l=a.name+"",A=cf[l],R=We.call(cf,l)?A.length:0;R--;){var U=A[R],V=U.func;if(V==null||V==a)return U.name}return l}function gf(a){var l=We.call(G,"placeholder")?G:a;return l.placeholder}function ge(){var a=G.iteratee||zd;return a=a===zd?_g:a,arguments.length?a(arguments[0],arguments[1]):a}function Fc(a,l){var A=a.__data__;return d7(l)?A[typeof l=="string"?"string":"hash"]:A.map}function Sd(a){for(var l=$r(a),A=l.length;A--;){var R=l[A],U=a[R];l[A]=[R,U,i3(U)]}return l}function _a(a,l){var A=m4(a,l);return Ag(A)?A:r}function o7(a){var l=We.call(a,va),A=a[va];try{a[va]=r;var R=!0}catch{}var U=dc.call(a);return R&&(l?a[va]=A:delete a[va]),U}var xd=Zl?function(a){return a==null?[]:(a=ir(a),Uo(Zl(a),function(l){return og.call(a,l)}))}:jd,t3=Zl?function(a){for(var l=[];a;)qo(l,xd(a)),a=mc(a);return l}:jd,ai=mi;(td&&ai(new td(new ArrayBuffer(1)))!=ut||xh&&ai(new xh)!=et||ed&&ai(ed.resolve())!=re||uf&&ai(new uf)!=Qt||Ih&&ai(new Ih)!=ht)&&(ai=function(a){var l=mi(a),A=l==_t?a.constructor:r,R=A?Ea(A):"";if(R)switch(R){case $4:return ut;case H4:return et;case j4:return re;case K4:return Qt;case G4:return ht}return l});function a7(a,l,A){for(var R=-1,U=A.length;++R<U;){var V=A[R],rt=V.size;switch(V.type){case"drop":a+=rt;break;case"dropRight":l-=rt;break;case"take":l=oi(l,a+rt);break;case"takeRight":a=Fr(a,l-rt);break}}return{start:a,end:l}}function f7(a){var l=a.match(qt);return l?l[1].split(he):[]}function e3(a,l,A){l=Ho(l,a);for(var R=-1,U=l.length,V=!1;++R<U;){var rt=vs(l[R]);if(!(V=a!=null&&A(a,rt)))break;a=a[rt]}return V||++R!=U?V:(U=a==null?0:a.length,!!U&&Hc(U)&&co(rt,U)&&(Ae(a)||Ma(a)))}function h7(a){var l=a.length,A=new a.constructor(l);return l&&typeof a[0]=="string"&&We.call(a,"index")&&(A.index=a.index,A.input=a.input),A}function r3(a){return typeof a.constructor=="function"&&!Fh(a)?lf(mc(a)):{}}function u7(a,l,A){var R=a.constructor;switch(l){case Kt:return yd(a);case B:case q:return new R(+a);case ut:return Qw(a,A);case It:case Vt:case mt:case Rt:case te:case vt:case Pt:case ue:case Tt:return qg(a,A);case et:return new R;case pt:case ct:return new R(a);case Et:return Vw(a);case Qt:return new R;case yt:return Jw(a)}}function c7(a,l){var A=l.length;if(!A)return a;var R=A-1;return l[R]=(A>1?"& ":"")+l[R],l=l.join(A>2?", ":" "),a.replace(xt,`{
/* [wrapped with `+l+`] */
`)}function l7(a){return Ae(a)||Ma(a)||!!(ag&&a&&a[ag])}function co(a,l){var A=typeof a;return l=l??M,!!l&&(A=="number"||A!="symbol"&&Ke.test(a))&&a>-1&&a%1==0&&a<l}function vi(a,l,A){if(!lr(A))return!1;var R=typeof l;return(R=="number"?Pi(A)&&co(l,A.length):R=="string"&&l in A)?kn(A[l],a):!1}function Id(a,l){if(Ae(a))return!1;var A=typeof a;return A=="number"||A=="symbol"||A=="boolean"||a==null||Zi(a)?!0:Dt.test(a)||!ie.test(a)||l!=null&&a in ir(l)}function d7(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function Dd(a){var l=Tc(a),A=G[l];if(typeof A!="function"||!(l in Re.prototype))return!1;if(a===A)return!0;var R=Md(A);return!!R&&a===R[0]}function p7(a){return!!ig&&ig in a}var g7=cc?lo:Kd;function Fh(a){var l=a&&a.constructor,A=typeof l=="function"&&l.prototype||hf;return a===A}function i3(a){return a===a&&!lr(a)}function n3(a,l){return function(A){return A==null?!1:A[a]===l&&(l!==r||a in ir(A))}}function m7(a){var l=zc(a,function(R){return A.size===m&&A.clear(),R}),A=l.cache;return l}function v7(a,l){var A=a[1],R=l[1],U=A|R,V=U<(k|Y|C),rt=R==C&&A==X||R==C&&A==z&&a[7].length<=l[8]||R==(C|z)&&l[7].length<=l[8]&&A==X;if(!(V||rt))return a;R&k&&(a[2]=l[2],U|=A&k?0:Q);var nt=l[3];if(nt){var ft=a[3];a[3]=ft?kg(ft,nt,l[4]):nt,a[4]=ft?Lo(a[3],w):l[4]}return nt=l[5],nt&&(ft=a[5],a[5]=ft?zg(ft,nt,l[6]):nt,a[6]=ft?Lo(a[5],w):l[6]),nt=l[7],nt&&(a[7]=nt),R&C&&(a[8]=a[8]==null?l[8]:oi(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=U,a}function b7(a){var l=[];if(a!=null)for(var A in ir(a))l.push(A);return l}function y7(a){return dc.call(a)}function s3(a,l,A){return l=Fr(l===r?a.length-1:l,0),function(){for(var R=arguments,U=-1,V=Fr(R.length-l,0),rt=lt(V);++U<V;)rt[U]=R[l+U];U=-1;for(var nt=lt(l+1);++U<l;)nt[U]=R[U];return nt[l]=A(rt),zr(a,this,nt)}}function o3(a,l){return l.length<2?a:Aa(a,pn(l,0,-1))}function w7(a,l){for(var A=a.length,R=oi(l.length,A),U=Ri(a);R--;){var V=l[R];a[R]=co(V,A)?U[V]:r}return a}function Nd(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var a3=h3(Cg),Uh=T4||function(a,l){return Le.setTimeout(a,l)},Cd=h3(Hw);function f3(a,l,A){var R=l+"";return Cd(a,c7(R,A7(f7(R),A)))}function h3(a){var l=0,A=0;return function(){var R=L4(),U=o-(R-A);if(A=R,U>0){if(++l>=I)return arguments[0]}else l=0;return a.apply(r,arguments)}}function Uc(a,l){var A=-1,R=a.length,U=R-1;for(l=l===r?R:l;++A<l;){var V=ld(A,U),rt=a[V];a[V]=a[A],a[A]=rt}return a.length=l,a}var u3=m7(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(jt,function(A,R,U,V){l.push(U?V.replace(be,"$1"):R||A)}),l});function vs(a){if(typeof a=="string"||Zi(a))return a;var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}function Ea(a){if(a!=null){try{return lc.call(a)}catch{}try{return a+""}catch{}}return""}function A7(a,l){return un(W,function(A){var R="_."+A[0];l&A[1]&&!ac(a,R)&&a.push(R)}),a.sort()}function c3(a){if(a instanceof Re)return a.clone();var l=new ln(a.__wrapped__,a.__chain__);return l.__actions__=Ri(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function _7(a,l,A){(A?vi(a,l,A):l===r)?l=1:l=Fr(xe(l),0);var R=a==null?0:a.length;if(!R||l<1)return[];for(var U=0,V=0,rt=lt(yc(R/l));U<R;)rt[V++]=pn(a,U,U+=l);return rt}function E7(a){for(var l=-1,A=a==null?0:a.length,R=0,U=[];++l<A;){var V=a[l];V&&(U[R++]=V)}return U}function M7(){var a=arguments.length;if(!a)return[];for(var l=lt(a-1),A=arguments[0],R=a;R--;)l[R-1]=arguments[R];return qo(Ae(A)?Ri(A):[A],Wr(l,1))}var S7=Ne(function(a,l){return Ar(a)?Rh(a,Wr(l,1,Ar,!0)):[]}),x7=Ne(function(a,l){var A=gn(l);return Ar(A)&&(A=r),Ar(a)?Rh(a,Wr(l,1,Ar,!0),ge(A,2)):[]}),I7=Ne(function(a,l){var A=gn(l);return Ar(A)&&(A=r),Ar(a)?Rh(a,Wr(l,1,Ar,!0),r,A):[]});function D7(a,l,A){var R=a==null?0:a.length;return R?(l=A||l===r?1:xe(l),pn(a,l<0?0:l,R)):[]}function N7(a,l,A){var R=a==null?0:a.length;return R?(l=A||l===r?1:xe(l),l=R-l,pn(a,0,l<0?0:l)):[]}function C7(a,l){return a&&a.length?Nc(a,ge(l,3),!0,!0):[]}function R7(a,l){return a&&a.length?Nc(a,ge(l,3),!0):[]}function P7(a,l,A,R){var U=a==null?0:a.length;return U?(A&&typeof A!="number"&&vi(a,l,A)&&(A=0,R=U),Mw(a,l,A,R)):[]}function l3(a,l,A){var R=a==null?0:a.length;if(!R)return-1;var U=A==null?0:xe(A);return U<0&&(U=Fr(R+U,0)),fc(a,ge(l,3),U)}function d3(a,l,A){var R=a==null?0:a.length;if(!R)return-1;var U=R-1;return A!==r&&(U=xe(A),U=A<0?Fr(R+U,0):oi(U,R-1)),fc(a,ge(l,3),U,!0)}function p3(a){var l=a==null?0:a.length;return l?Wr(a,1):[]}function O7(a){var l=a==null?0:a.length;return l?Wr(a,y):[]}function B7(a,l){var A=a==null?0:a.length;return A?(l=l===r?1:xe(l),Wr(a,l)):[]}function T7(a){for(var l=-1,A=a==null?0:a.length,R={};++l<A;){var U=a[l];R[U[0]]=U[1]}return R}function g3(a){return a&&a.length?a[0]:r}function F7(a,l,A){var R=a==null?0:a.length;if(!R)return-1;var U=A==null?0:xe(A);return U<0&&(U=Fr(R+U,0)),sf(a,l,U)}function U7(a){var l=a==null?0:a.length;return l?pn(a,0,-1):[]}var q7=Ne(function(a){var l=cr(a,vd);return l.length&&l[0]===a[0]?ad(l):[]}),L7=Ne(function(a){var l=gn(a),A=cr(a,vd);return l===gn(A)?l=r:A.pop(),A.length&&A[0]===a[0]?ad(A,ge(l,2)):[]}),k7=Ne(function(a){var l=gn(a),A=cr(a,vd);return l=typeof l=="function"?l:r,l&&A.pop(),A.length&&A[0]===a[0]?ad(A,r,l):[]});function z7(a,l){return a==null?"":U4.call(a,l)}function gn(a){var l=a==null?0:a.length;return l?a[l-1]:r}function $7(a,l,A){var R=a==null?0:a.length;if(!R)return-1;var U=R;return A!==r&&(U=xe(A),U=U<0?Fr(R+U,0):oi(U,R-1)),l===l?A4(a,l,U):fc(a,J2,U,!0)}function H7(a,l){return a&&a.length?xg(a,xe(l)):r}var j7=Ne(m3);function m3(a,l){return a&&a.length&&l&&l.length?cd(a,l):a}function K7(a,l,A){return a&&a.length&&l&&l.length?cd(a,l,ge(A,2)):a}function G7(a,l,A){return a&&a.length&&l&&l.length?cd(a,l,r,A):a}var Q7=uo(function(a,l){var A=a==null?0:a.length,R=id(a,l);return Ng(a,cr(l,function(U){return co(U,A)?+U:U}).sort(Lg)),R});function V7(a,l){var A=[];if(!(a&&a.length))return A;var R=-1,U=[],V=a.length;for(l=ge(l,3);++R<V;){var rt=a[R];l(rt,R,a)&&(A.push(rt),U.push(R))}return Ng(a,U),A}function Rd(a){return a==null?a:z4.call(a)}function J7(a,l,A){var R=a==null?0:a.length;return R?(A&&typeof A!="number"&&vi(a,l,A)?(l=0,A=R):(l=l==null?0:xe(l),A=A===r?R:xe(A)),pn(a,l,A)):[]}function Y7(a,l){return Dc(a,l)}function W7(a,l,A){return pd(a,l,ge(A,2))}function X7(a,l){var A=a==null?0:a.length;if(A){var R=Dc(a,l);if(R<A&&kn(a[R],l))return R}return-1}function Z7(a,l){return Dc(a,l,!0)}function t9(a,l,A){return pd(a,l,ge(A,2),!0)}function e9(a,l){var A=a==null?0:a.length;if(A){var R=Dc(a,l,!0)-1;if(kn(a[R],l))return R}return-1}function r9(a){return a&&a.length?Rg(a):[]}function i9(a,l){return a&&a.length?Rg(a,ge(l,2)):[]}function n9(a){var l=a==null?0:a.length;return l?pn(a,1,l):[]}function s9(a,l,A){return a&&a.length?(l=A||l===r?1:xe(l),pn(a,0,l<0?0:l)):[]}function o9(a,l,A){var R=a==null?0:a.length;return R?(l=A||l===r?1:xe(l),l=R-l,pn(a,l<0?0:l,R)):[]}function a9(a,l){return a&&a.length?Nc(a,ge(l,3),!1,!0):[]}function f9(a,l){return a&&a.length?Nc(a,ge(l,3)):[]}var h9=Ne(function(a){return $o(Wr(a,1,Ar,!0))}),u9=Ne(function(a){var l=gn(a);return Ar(l)&&(l=r),$o(Wr(a,1,Ar,!0),ge(l,2))}),c9=Ne(function(a){var l=gn(a);return l=typeof l=="function"?l:r,$o(Wr(a,1,Ar,!0),r,l)});function l9(a){return a&&a.length?$o(a):[]}function d9(a,l){return a&&a.length?$o(a,ge(l,2)):[]}function p9(a,l){return l=typeof l=="function"?l:r,a&&a.length?$o(a,r,l):[]}function Pd(a){if(!(a&&a.length))return[];var l=0;return a=Uo(a,function(A){if(Ar(A))return l=Fr(A.length,l),!0}),Jl(l,function(A){return cr(a,Gl(A))})}function v3(a,l){if(!(a&&a.length))return[];var A=Pd(a);return l==null?A:cr(A,function(R){return zr(l,r,R)})}var g9=Ne(function(a,l){return Ar(a)?Rh(a,l):[]}),m9=Ne(function(a){return md(Uo(a,Ar))}),v9=Ne(function(a){var l=gn(a);return Ar(l)&&(l=r),md(Uo(a,Ar),ge(l,2))}),b9=Ne(function(a){var l=gn(a);return l=typeof l=="function"?l:r,md(Uo(a,Ar),r,l)}),y9=Ne(Pd);function w9(a,l){return Tg(a||[],l||[],Ch)}function A9(a,l){return Tg(a||[],l||[],Bh)}var _9=Ne(function(a){var l=a.length,A=l>1?a[l-1]:r;return A=typeof A=="function"?(a.pop(),A):r,v3(a,A)});function b3(a){var l=G(a);return l.__chain__=!0,l}function E9(a,l){return l(a),a}function qc(a,l){return l(a)}var M9=uo(function(a){var l=a.length,A=l?a[0]:0,R=this.__wrapped__,U=function(V){return id(V,a)};return l>1||this.__actions__.length||!(R instanceof Re)||!co(A)?this.thru(U):(R=R.slice(A,+A+(l?1:0)),R.__actions__.push({func:qc,args:[U],thisArg:r}),new ln(R,this.__chain__).thru(function(V){return l&&!V.length&&V.push(r),V}))});function S9(){return b3(this)}function x9(){return new ln(this.value(),this.__chain__)}function I9(){this.__values__===r&&(this.__values__=P3(this.value()));var a=this.__index__>=this.__values__.length,l=a?r:this.__values__[this.__index__++];return{done:a,value:l}}function D9(){return this}function N9(a){for(var l,A=this;A instanceof Ec;){var R=c3(A);R.__index__=0,R.__values__=r,l?U.__wrapped__=R:l=R;var U=R;A=A.__wrapped__}return U.__wrapped__=a,l}function C9(){var a=this.__wrapped__;if(a instanceof Re){var l=a;return this.__actions__.length&&(l=new Re(this)),l=l.reverse(),l.__actions__.push({func:qc,args:[Rd],thisArg:r}),new ln(l,this.__chain__)}return this.thru(Rd)}function R9(){return Bg(this.__wrapped__,this.__actions__)}var P9=Cc(function(a,l,A){We.call(a,A)?++a[A]:fo(a,A,1)});function O9(a,l,A){var R=Ae(a)?Q2:Ew;return A&&vi(a,l,A)&&(l=r),R(a,ge(l,3))}function B9(a,l){var A=Ae(a)?Uo:vg;return A(a,ge(l,3))}var T9=Kg(l3),F9=Kg(d3);function U9(a,l){return Wr(Lc(a,l),1)}function q9(a,l){return Wr(Lc(a,l),y)}function L9(a,l,A){return A=A===r?1:xe(A),Wr(Lc(a,l),A)}function y3(a,l){var A=Ae(a)?un:zo;return A(a,ge(l,3))}function w3(a,l){var A=Ae(a)?n4:mg;return A(a,ge(l,3))}var k9=Cc(function(a,l,A){We.call(a,A)?a[A].push(l):fo(a,A,[l])});function z9(a,l,A,R){a=Pi(a)?a:vf(a),A=A&&!R?xe(A):0;var U=a.length;return A<0&&(A=Fr(U+A,0)),jc(a)?A<=U&&a.indexOf(l,A)>-1:!!U&&sf(a,l,A)>-1}var $9=Ne(function(a,l,A){var R=-1,U=typeof l=="function",V=Pi(a)?lt(a.length):[];return zo(a,function(rt){V[++R]=U?zr(l,rt,A):Ph(rt,l,A)}),V}),H9=Cc(function(a,l,A){fo(a,A,l)});function Lc(a,l){var A=Ae(a)?cr:Eg;return A(a,ge(l,3))}function j9(a,l,A,R){return a==null?[]:(Ae(l)||(l=l==null?[]:[l]),A=R?r:A,Ae(A)||(A=A==null?[]:[A]),Ig(a,l,A))}var K9=Cc(function(a,l,A){a[A?0:1].push(l)},function(){return[[],[]]});function G9(a,l,A){var R=Ae(a)?jl:W2,U=arguments.length<3;return R(a,ge(l,4),A,U,zo)}function Q9(a,l,A){var R=Ae(a)?s4:W2,U=arguments.length<3;return R(a,ge(l,4),A,U,mg)}function V9(a,l){var A=Ae(a)?Uo:vg;return A(a,$c(ge(l,3)))}function J9(a){var l=Ae(a)?lg:zw;return l(a)}function Y9(a,l,A){(A?vi(a,l,A):l===r)?l=1:l=xe(l);var R=Ae(a)?bw:$w;return R(a,l)}function W9(a){var l=Ae(a)?yw:jw;return l(a)}function X9(a){if(a==null)return 0;if(Pi(a))return jc(a)?af(a):a.length;var l=ai(a);return l==et||l==Qt?a.size:hd(a).length}function Z9(a,l,A){var R=Ae(a)?Kl:Kw;return A&&vi(a,l,A)&&(l=r),R(a,ge(l,3))}var tA=Ne(function(a,l){if(a==null)return[];var A=l.length;return A>1&&vi(a,l[0],l[1])?l=[]:A>2&&vi(l[0],l[1],l[2])&&(l=[l[0]]),Ig(a,Wr(l,1),[])}),kc=B4||function(){return Le.Date.now()};function eA(a,l){if(typeof l!="function")throw new cn(u);return a=xe(a),function(){if(--a<1)return l.apply(this,arguments)}}function A3(a,l,A){return l=A?r:l,l=a&&l==null?a.length:l,ho(a,C,r,r,r,r,l)}function _3(a,l){var A;if(typeof l!="function")throw new cn(u);return a=xe(a),function(){return--a>0&&(A=l.apply(this,arguments)),a<=1&&(l=r),A}}var Od=Ne(function(a,l,A){var R=k;if(A.length){var U=Lo(A,gf(Od));R|=j}return ho(a,R,l,A,U)}),E3=Ne(function(a,l,A){var R=k|Y;if(A.length){var U=Lo(A,gf(E3));R|=j}return ho(l,R,a,A,U)});function M3(a,l,A){l=A?r:l;var R=ho(a,X,r,r,r,r,r,l);return R.placeholder=M3.placeholder,R}function S3(a,l,A){l=A?r:l;var R=ho(a,$,r,r,r,r,r,l);return R.placeholder=S3.placeholder,R}function x3(a,l,A){var R,U,V,rt,nt,ft,Ot=0,Bt=!1,$t=!1,ee=!0;if(typeof a!="function")throw new cn(u);l=mn(l)||0,lr(A)&&(Bt=!!A.leading,$t="maxWait"in A,V=$t?Fr(mn(A.maxWait)||0,l):V,ee="trailing"in A?!!A.trailing:ee);function le(_r){var zn=R,go=U;return R=U=r,Ot=_r,rt=a.apply(go,zn),rt}function me(_r){return Ot=_r,nt=Uh(Ce,l),Bt?le(_r):rt}function De(_r){var zn=_r-ft,go=_r-Ot,K3=l-zn;return $t?oi(K3,V-go):K3}function ve(_r){var zn=_r-ft,go=_r-Ot;return ft===r||zn>=l||zn<0||$t&&go>=V}function Ce(){var _r=kc();if(ve(_r))return ke(_r);nt=Uh(Ce,De(_r))}function ke(_r){return nt=r,ee&&R?le(_r):(R=U=r,rt)}function tn(){nt!==r&&Fg(nt),Ot=0,R=ft=U=nt=r}function bi(){return nt===r?rt:ke(kc())}function en(){var _r=kc(),zn=ve(_r);if(R=arguments,U=this,ft=_r,zn){if(nt===r)return me(ft);if($t)return Fg(nt),nt=Uh(Ce,l),le(ft)}return nt===r&&(nt=Uh(Ce,l)),rt}return en.cancel=tn,en.flush=bi,en}var rA=Ne(function(a,l){return gg(a,1,l)}),iA=Ne(function(a,l,A){return gg(a,mn(l)||0,A)});function nA(a){return ho(a,st)}function zc(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new cn(u);var A=function(){var R=arguments,U=l?l.apply(this,R):R[0],V=A.cache;if(V.has(U))return V.get(U);var rt=a.apply(this,R);return A.cache=V.set(U,rt)||V,rt};return A.cache=new(zc.Cache||ao),A}zc.Cache=ao;function $c(a){if(typeof a!="function")throw new cn(u);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function sA(a){return _3(2,a)}var oA=Gw(function(a,l){l=l.length==1&&Ae(l[0])?cr(l[0],Wi(ge())):cr(Wr(l,1),Wi(ge()));var A=l.length;return Ne(function(R){for(var U=-1,V=oi(R.length,A);++U<V;)R[U]=l[U].call(this,R[U]);return zr(a,this,R)})}),Bd=Ne(function(a,l){var A=Lo(l,gf(Bd));return ho(a,j,r,l,A)}),I3=Ne(function(a,l){var A=Lo(l,gf(I3));return ho(a,K,r,l,A)}),aA=uo(function(a,l){return ho(a,z,r,r,r,l)});function fA(a,l){if(typeof a!="function")throw new cn(u);return l=l===r?l:xe(l),Ne(a,l)}function hA(a,l){if(typeof a!="function")throw new cn(u);return l=l==null?0:Fr(xe(l),0),Ne(function(A){var R=A[l],U=jo(A,0,l);return R&&qo(U,R),zr(a,this,U)})}function uA(a,l,A){var R=!0,U=!0;if(typeof a!="function")throw new cn(u);return lr(A)&&(R="leading"in A?!!A.leading:R,U="trailing"in A?!!A.trailing:U),x3(a,l,{leading:R,maxWait:l,trailing:U})}function cA(a){return A3(a,1)}function lA(a,l){return Bd(bd(l),a)}function dA(){if(!arguments.length)return[];var a=arguments[0];return Ae(a)?a:[a]}function pA(a){return dn(a,N)}function gA(a,l){return l=typeof l=="function"?l:r,dn(a,N,l)}function mA(a){return dn(a,S|N)}function vA(a,l){return l=typeof l=="function"?l:r,dn(a,S|N,l)}function bA(a,l){return l==null||pg(a,l,$r(l))}function kn(a,l){return a===l||a!==a&&l!==l}var yA=Bc(od),wA=Bc(function(a,l){return a>=l}),Ma=wg(function(){return arguments}())?wg:function(a){return mr(a)&&We.call(a,"callee")&&!og.call(a,"callee")},Ae=lt.isArray,AA=gi?Wi(gi):Nw;function Pi(a){return a!=null&&Hc(a.length)&&!lo(a)}function Ar(a){return mr(a)&&Pi(a)}function _A(a){return a===!0||a===!1||mr(a)&&mi(a)==B}var Ko=F4||Kd,EA=Un?Wi(Un):Cw;function MA(a){return mr(a)&&a.nodeType===1&&!qh(a)}function SA(a){if(a==null)return!0;if(Pi(a)&&(Ae(a)||typeof a=="string"||typeof a.splice=="function"||Ko(a)||mf(a)||Ma(a)))return!a.length;var l=ai(a);if(l==et||l==Qt)return!a.size;if(Fh(a))return!hd(a).length;for(var A in a)if(We.call(a,A))return!1;return!0}function xA(a,l){return Oh(a,l)}function IA(a,l,A){A=typeof A=="function"?A:r;var R=A?A(a,l):r;return R===r?Oh(a,l,r,A):!!R}function Td(a){if(!mr(a))return!1;var l=mi(a);return l==T||l==x||typeof a.message=="string"&&typeof a.name=="string"&&!qh(a)}function DA(a){return typeof a=="number"&&fg(a)}function lo(a){if(!lr(a))return!1;var l=mi(a);return l==Z||l==it||l==O||l==bt}function D3(a){return typeof a=="number"&&a==xe(a)}function Hc(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=M}function lr(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function mr(a){return a!=null&&typeof a=="object"}var N3=hn?Wi(hn):Pw;function NA(a,l){return a===l||fd(a,l,Sd(l))}function CA(a,l,A){return A=typeof A=="function"?A:r,fd(a,l,Sd(l),A)}function RA(a){return C3(a)&&a!=+a}function PA(a){if(g7(a))throw new ye(s);return Ag(a)}function OA(a){return a===null}function BA(a){return a==null}function C3(a){return typeof a=="number"||mr(a)&&mi(a)==pt}function qh(a){if(!mr(a)||mi(a)!=_t)return!1;var l=mc(a);if(l===null)return!0;var A=We.call(l,"constructor")&&l.constructor;return typeof A=="function"&&A instanceof A&&lc.call(A)==C4}var Fd=ps?Wi(ps):Ow;function TA(a){return D3(a)&&a>=-9007199254740991&&a<=M}var R3=Eh?Wi(Eh):Bw;function jc(a){return typeof a=="string"||!Ae(a)&&mr(a)&&mi(a)==ct}function Zi(a){return typeof a=="symbol"||mr(a)&&mi(a)==yt}var mf=ma?Wi(ma):Tw;function FA(a){return a===r}function UA(a){return mr(a)&&ai(a)==ht}function qA(a){return mr(a)&&mi(a)==wt}var LA=Bc(ud),kA=Bc(function(a,l){return a<=l});function P3(a){if(!a)return[];if(Pi(a))return jc(a)?qn(a):Ri(a);if(Sh&&a[Sh])return b4(a[Sh]());var l=ai(a),A=l==et?Wl:l==Qt?hc:vf;return A(a)}function po(a){if(!a)return a===0?a:0;if(a=mn(a),a===y||a===-1/0){var l=a<0?-1:1;return l*E}return a===a?a:0}function xe(a){var l=po(a),A=l%1;return l===l?A?l-A:l:0}function O3(a){return a?wa(xe(a),0,f):0}function mn(a){if(typeof a=="number")return a;if(Zi(a))return d;if(lr(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=lr(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=X2(a);var A=$e.test(a);return A||je.test(a)?we(a.slice(2),A?2:8):ze.test(a)?d:+a}function B3(a){return ms(a,Oi(a))}function zA(a){return a?wa(xe(a),-9007199254740991,M):a===0?a:0}function Ve(a){return a==null?"":Xi(a)}var $A=df(function(a,l){if(Fh(l)||Pi(l)){ms(l,$r(l),a);return}for(var A in l)We.call(l,A)&&Ch(a,A,l[A])}),T3=df(function(a,l){ms(l,Oi(l),a)}),Kc=df(function(a,l,A,R){ms(l,Oi(l),a,R)}),HA=df(function(a,l,A,R){ms(l,$r(l),a,R)}),jA=uo(id);function KA(a,l){var A=lf(a);return l==null?A:dg(A,l)}var GA=Ne(function(a,l){a=ir(a);var A=-1,R=l.length,U=R>2?l[2]:r;for(U&&vi(l[0],l[1],U)&&(R=1);++A<R;)for(var V=l[A],rt=Oi(V),nt=-1,ft=rt.length;++nt<ft;){var Ot=rt[nt],Bt=a[Ot];(Bt===r||kn(Bt,hf[Ot])&&!We.call(a,Ot))&&(a[Ot]=V[Ot])}return a}),QA=Ne(function(a){return a.push(r,Xg),zr(F3,r,a)});function VA(a,l){return V2(a,ge(l,3),gs)}function JA(a,l){return V2(a,ge(l,3),sd)}function YA(a,l){return a==null?a:nd(a,ge(l,3),Oi)}function WA(a,l){return a==null?a:bg(a,ge(l,3),Oi)}function XA(a,l){return a&&gs(a,ge(l,3))}function ZA(a,l){return a&&sd(a,ge(l,3))}function t_(a){return a==null?[]:xc(a,$r(a))}function e_(a){return a==null?[]:xc(a,Oi(a))}function Ud(a,l,A){var R=a==null?r:Aa(a,l);return R===r?A:R}function r_(a,l){return a!=null&&e3(a,l,Sw)}function qd(a,l){return a!=null&&e3(a,l,xw)}var i_=Qg(function(a,l,A){l!=null&&typeof l.toString!="function"&&(l=dc.call(l)),a[l]=A},kd(Bi)),n_=Qg(function(a,l,A){l!=null&&typeof l.toString!="function"&&(l=dc.call(l)),We.call(a,l)?a[l].push(A):a[l]=[A]},ge),s_=Ne(Ph);function $r(a){return Pi(a)?cg(a):hd(a)}function Oi(a){return Pi(a)?cg(a,!0):Fw(a)}function o_(a,l){var A={};return l=ge(l,3),gs(a,function(R,U,V){fo(A,l(R,U,V),R)}),A}function a_(a,l){var A={};return l=ge(l,3),gs(a,function(R,U,V){fo(A,U,l(R,U,V))}),A}var f_=df(function(a,l,A){Ic(a,l,A)}),F3=df(function(a,l,A,R){Ic(a,l,A,R)}),h_=uo(function(a,l){var A={};if(a==null)return A;var R=!1;l=cr(l,function(V){return V=Ho(V,a),R||(R=V.length>1),V}),ms(a,Ed(a),A),R&&(A=dn(A,S|D|N,i7));for(var U=l.length;U--;)gd(A,l[U]);return A});function u_(a,l){return U3(a,$c(ge(l)))}var c_=uo(function(a,l){return a==null?{}:qw(a,l)});function U3(a,l){if(a==null)return{};var A=cr(Ed(a),function(R){return[R]});return l=ge(l),Dg(a,A,function(R,U){return l(R,U[0])})}function l_(a,l,A){l=Ho(l,a);var R=-1,U=l.length;for(U||(U=1,a=r);++R<U;){var V=a==null?r:a[vs(l[R])];V===r&&(R=U,V=A),a=lo(V)?V.call(a):V}return a}function d_(a,l,A){return a==null?a:Bh(a,l,A)}function p_(a,l,A,R){return R=typeof R=="function"?R:r,a==null?a:Bh(a,l,A,R)}var q3=Yg($r),L3=Yg(Oi);function g_(a,l,A){var R=Ae(a),U=R||Ko(a)||mf(a);if(l=ge(l,4),A==null){var V=a&&a.constructor;U?A=R?new V:[]:lr(a)?A=lo(V)?lf(mc(a)):{}:A={}}return(U?un:gs)(a,function(rt,nt,ft){return l(A,rt,nt,ft)}),A}function m_(a,l){return a==null?!0:gd(a,l)}function v_(a,l,A){return a==null?a:Og(a,l,bd(A))}function b_(a,l,A,R){return R=typeof R=="function"?R:r,a==null?a:Og(a,l,bd(A),R)}function vf(a){return a==null?[]:Yl(a,$r(a))}function y_(a){return a==null?[]:Yl(a,Oi(a))}function w_(a,l,A){return A===r&&(A=l,l=r),A!==r&&(A=mn(A),A=A===A?A:0),l!==r&&(l=mn(l),l=l===l?l:0),wa(mn(a),l,A)}function A_(a,l,A){return l=po(l),A===r?(A=l,l=0):A=po(A),a=mn(a),Iw(a,l,A)}function __(a,l,A){if(A&&typeof A!="boolean"&&vi(a,l,A)&&(l=A=r),A===r&&(typeof l=="boolean"?(A=l,l=r):typeof a=="boolean"&&(A=a,a=r)),a===r&&l===r?(a=0,l=1):(a=po(a),l===r?(l=a,a=0):l=po(l)),a>l){var R=a;a=l,l=R}if(A||a%1||l%1){var U=hg();return oi(a+U*(l-a+er("1e-"+((U+"").length-1))),l)}return ld(a,l)}var E_=pf(function(a,l,A){return l=l.toLowerCase(),a+(A?k3(l):l)});function k3(a){return Ld(Ve(a).toLowerCase())}function z3(a){return a=Ve(a),a&&a.replace(Ie,d4).replace(zl,"")}function M_(a,l,A){a=Ve(a),l=Xi(l);var R=a.length;A=A===r?R:wa(xe(A),0,R);var U=A;return A-=l.length,A>=0&&a.slice(A,U)==l}function S_(a){return a=Ve(a),a&&Lt.test(a)?a.replace(de,p4):a}function x_(a){return a=Ve(a),a&&Nt.test(a)?a.replace(oe,"\\$&"):a}var I_=pf(function(a,l,A){return a+(A?"-":"")+l.toLowerCase()}),D_=pf(function(a,l,A){return a+(A?" ":"")+l.toLowerCase()}),N_=jg("toLowerCase");function C_(a,l,A){a=Ve(a),l=xe(l);var R=l?af(a):0;if(!l||R>=l)return a;var U=(l-R)/2;return Oc(wc(U),A)+a+Oc(yc(U),A)}function R_(a,l,A){a=Ve(a),l=xe(l);var R=l?af(a):0;return l&&R<l?a+Oc(l-R,A):a}function P_(a,l,A){a=Ve(a),l=xe(l);var R=l?af(a):0;return l&&R<l?Oc(l-R,A)+a:a}function O_(a,l,A){return A||l==null?l=0:l&&(l=+l),k4(Ve(a).replace(zt,""),l||0)}function B_(a,l,A){return(A?vi(a,l,A):l===r)?l=1:l=xe(l),dd(Ve(a),l)}function T_(){var a=arguments,l=Ve(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var F_=pf(function(a,l,A){return a+(A?"_":"")+l.toLowerCase()});function U_(a,l,A){return A&&typeof A!="number"&&vi(a,l,A)&&(l=A=r),A=A===r?f:A>>>0,A?(a=Ve(a),a&&(typeof l=="string"||l!=null&&!Fd(l))&&(l=Xi(l),!l&&of(a))?jo(qn(a),0,A):a.split(l,A)):[]}var q_=pf(function(a,l,A){return a+(A?" ":"")+Ld(l)});function L_(a,l,A){return a=Ve(a),A=A==null?0:wa(xe(A),0,a.length),l=Xi(l),a.slice(A,A+l.length)==l}function k_(a,l,A){var R=G.templateSettings;A&&vi(a,l,A)&&(l=r),a=Ve(a),l=Kc({},l,R,Wg);var U=Kc({},l.imports,R.imports,Wg),V=$r(U),rt=Yl(U,V),nt,ft,Ot=0,Bt=l.interpolate||dr,$t="__p += '",ee=Xl((l.escape||dr).source+"|"+Bt.source+"|"+(Bt===kt?Ht:dr).source+"|"+(l.evaluate||dr).source+"|$","g"),le="//# sourceURL="+(We.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$l+"]")+`
`;a.replace(ee,function(ve,Ce,ke,tn,bi,en){return ke||(ke=tn),$t+=a.slice(Ot,en).replace(Nr,g4),Ce&&(nt=!0,$t+=`' +
__e(`+Ce+`) +
'`),bi&&(ft=!0,$t+=`';
`+bi+`;
__p += '`),ke&&($t+=`' +
((__t = (`+ke+`)) == null ? '' : __t) +
'`),Ot=en+ve.length,ve}),$t+=`';
`;var me=We.call(l,"variable")&&l.variable;if(!me)$t=`with (obj) {
`+$t+`
}
`;else if(Zt.test(me))throw new ye(p);$t=(ft?$t.replace(Jt,""):$t).replace(ce,"$1").replace(Ft,"$1;"),$t="function("+(me||"obj")+`) {
`+(me?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(nt?", __e = _.escape":"")+(ft?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$t+`return __p
}`;var De=H3(function(){return Qe(V,le+"return "+$t).apply(r,rt)});if(De.source=$t,Td(De))throw De;return De}function z_(a){return Ve(a).toLowerCase()}function $_(a){return Ve(a).toUpperCase()}function H_(a,l,A){if(a=Ve(a),a&&(A||l===r))return X2(a);if(!a||!(l=Xi(l)))return a;var R=qn(a),U=qn(l),V=Z2(R,U),rt=tg(R,U)+1;return jo(R,V,rt).join("")}function j_(a,l,A){if(a=Ve(a),a&&(A||l===r))return a.slice(0,rg(a)+1);if(!a||!(l=Xi(l)))return a;var R=qn(a),U=tg(R,qn(l))+1;return jo(R,0,U).join("")}function K_(a,l,A){if(a=Ve(a),a&&(A||l===r))return a.replace(zt,"");if(!a||!(l=Xi(l)))return a;var R=qn(a),U=Z2(R,qn(l));return jo(R,U).join("")}function G_(a,l){var A=dt,R=H;if(lr(l)){var U="separator"in l?l.separator:U;A="length"in l?xe(l.length):A,R="omission"in l?Xi(l.omission):R}a=Ve(a);var V=a.length;if(of(a)){var rt=qn(a);V=rt.length}if(A>=V)return a;var nt=A-af(R);if(nt<1)return R;var ft=rt?jo(rt,0,nt).join(""):a.slice(0,nt);if(U===r)return ft+R;if(rt&&(nt+=ft.length-nt),Fd(U)){if(a.slice(nt).search(U)){var Ot,Bt=ft;for(U.global||(U=Xl(U.source,Ve(Gt.exec(U))+"g")),U.lastIndex=0;Ot=U.exec(Bt);)var $t=Ot.index;ft=ft.slice(0,$t===r?nt:$t)}}else if(a.indexOf(Xi(U),nt)!=nt){var ee=ft.lastIndexOf(U);ee>-1&&(ft=ft.slice(0,ee))}return ft+R}function Q_(a){return a=Ve(a),a&&Mt.test(a)?a.replace(Yt,_4):a}var V_=pf(function(a,l,A){return a+(A?" ":"")+l.toUpperCase()}),Ld=jg("toUpperCase");function $3(a,l,A){return a=Ve(a),l=A?r:l,l===r?v4(a)?S4(a):f4(a):a.match(l)||[]}var H3=Ne(function(a,l){try{return zr(a,r,l)}catch(A){return Td(A)?A:new ye(A)}}),J_=uo(function(a,l){return un(l,function(A){A=vs(A),fo(a,A,Od(a[A],a))}),a});function Y_(a){var l=a==null?0:a.length,A=ge();return a=l?cr(a,function(R){if(typeof R[1]!="function")throw new cn(u);return[A(R[0]),R[1]]}):[],Ne(function(R){for(var U=-1;++U<l;){var V=a[U];if(zr(V[0],this,R))return zr(V[1],this,R)}})}function W_(a){return _w(dn(a,S))}function kd(a){return function(){return a}}function X_(a,l){return a==null||a!==a?l:a}var Z_=Gg(),tE=Gg(!0);function Bi(a){return a}function zd(a){return _g(typeof a=="function"?a:dn(a,S))}function eE(a){return Mg(dn(a,S))}function rE(a,l){return Sg(a,dn(l,S))}var iE=Ne(function(a,l){return function(A){return Ph(A,a,l)}}),nE=Ne(function(a,l){return function(A){return Ph(a,A,l)}});function $d(a,l,A){var R=$r(l),U=xc(l,R);A==null&&!(lr(l)&&(U.length||!R.length))&&(A=l,l=a,a=this,U=xc(l,$r(l)));var V=!(lr(A)&&"chain"in A)||!!A.chain,rt=lo(a);return un(U,function(nt){var ft=l[nt];a[nt]=ft,rt&&(a.prototype[nt]=function(){var Ot=this.__chain__;if(V||Ot){var Bt=a(this.__wrapped__),$t=Bt.__actions__=Ri(this.__actions__);return $t.push({func:ft,args:arguments,thisArg:a}),Bt.__chain__=Ot,Bt}return ft.apply(a,qo([this.value()],arguments))})}),a}function sE(){return Le._===this&&(Le._=R4),this}function Hd(){}function oE(a){return a=xe(a),Ne(function(l){return xg(l,a)})}var aE=wd(cr),fE=wd(Q2),hE=wd(Kl);function j3(a){return Id(a)?Gl(vs(a)):Lw(a)}function uE(a){return function(l){return a==null?r:Aa(a,l)}}var cE=Vg(),lE=Vg(!0);function jd(){return[]}function Kd(){return!1}function dE(){return{}}function pE(){return""}function gE(){return!0}function mE(a,l){if(a=xe(a),a<1||a>M)return[];var A=f,R=oi(a,f);l=ge(l),a-=f;for(var U=Jl(R,l);++A<a;)l(A);return U}function vE(a){return Ae(a)?cr(a,vs):Zi(a)?[a]:Ri(u3(Ve(a)))}function bE(a){var l=++N4;return Ve(a)+l}var yE=Pc(function(a,l){return a+l},0),wE=Ad("ceil"),AE=Pc(function(a,l){return a/l},1),_E=Ad("floor");function EE(a){return a&&a.length?Sc(a,Bi,od):r}function ME(a,l){return a&&a.length?Sc(a,ge(l,2),od):r}function SE(a){return Y2(a,Bi)}function xE(a,l){return Y2(a,ge(l,2))}function IE(a){return a&&a.length?Sc(a,Bi,ud):r}function DE(a,l){return a&&a.length?Sc(a,ge(l,2),ud):r}var NE=Pc(function(a,l){return a*l},1),CE=Ad("round"),RE=Pc(function(a,l){return a-l},0);function PE(a){return a&&a.length?Vl(a,Bi):0}function OE(a,l){return a&&a.length?Vl(a,ge(l,2)):0}return G.after=eA,G.ary=A3,G.assign=$A,G.assignIn=T3,G.assignInWith=Kc,G.assignWith=HA,G.at=jA,G.before=_3,G.bind=Od,G.bindAll=J_,G.bindKey=E3,G.castArray=dA,G.chain=b3,G.chunk=_7,G.compact=E7,G.concat=M7,G.cond=Y_,G.conforms=W_,G.constant=kd,G.countBy=P9,G.create=KA,G.curry=M3,G.curryRight=S3,G.debounce=x3,G.defaults=GA,G.defaultsDeep=QA,G.defer=rA,G.delay=iA,G.difference=S7,G.differenceBy=x7,G.differenceWith=I7,G.drop=D7,G.dropRight=N7,G.dropRightWhile=C7,G.dropWhile=R7,G.fill=P7,G.filter=B9,G.flatMap=U9,G.flatMapDeep=q9,G.flatMapDepth=L9,G.flatten=p3,G.flattenDeep=O7,G.flattenDepth=B7,G.flip=nA,G.flow=Z_,G.flowRight=tE,G.fromPairs=T7,G.functions=t_,G.functionsIn=e_,G.groupBy=k9,G.initial=U7,G.intersection=q7,G.intersectionBy=L7,G.intersectionWith=k7,G.invert=i_,G.invertBy=n_,G.invokeMap=$9,G.iteratee=zd,G.keyBy=H9,G.keys=$r,G.keysIn=Oi,G.map=Lc,G.mapKeys=o_,G.mapValues=a_,G.matches=eE,G.matchesProperty=rE,G.memoize=zc,G.merge=f_,G.mergeWith=F3,G.method=iE,G.methodOf=nE,G.mixin=$d,G.negate=$c,G.nthArg=oE,G.omit=h_,G.omitBy=u_,G.once=sA,G.orderBy=j9,G.over=aE,G.overArgs=oA,G.overEvery=fE,G.overSome=hE,G.partial=Bd,G.partialRight=I3,G.partition=K9,G.pick=c_,G.pickBy=U3,G.property=j3,G.propertyOf=uE,G.pull=j7,G.pullAll=m3,G.pullAllBy=K7,G.pullAllWith=G7,G.pullAt=Q7,G.range=cE,G.rangeRight=lE,G.rearg=aA,G.reject=V9,G.remove=V7,G.rest=fA,G.reverse=Rd,G.sampleSize=Y9,G.set=d_,G.setWith=p_,G.shuffle=W9,G.slice=J7,G.sortBy=tA,G.sortedUniq=r9,G.sortedUniqBy=i9,G.split=U_,G.spread=hA,G.tail=n9,G.take=s9,G.takeRight=o9,G.takeRightWhile=a9,G.takeWhile=f9,G.tap=E9,G.throttle=uA,G.thru=qc,G.toArray=P3,G.toPairs=q3,G.toPairsIn=L3,G.toPath=vE,G.toPlainObject=B3,G.transform=g_,G.unary=cA,G.union=h9,G.unionBy=u9,G.unionWith=c9,G.uniq=l9,G.uniqBy=d9,G.uniqWith=p9,G.unset=m_,G.unzip=Pd,G.unzipWith=v3,G.update=v_,G.updateWith=b_,G.values=vf,G.valuesIn=y_,G.without=g9,G.words=$3,G.wrap=lA,G.xor=m9,G.xorBy=v9,G.xorWith=b9,G.zip=y9,G.zipObject=w9,G.zipObjectDeep=A9,G.zipWith=_9,G.entries=q3,G.entriesIn=L3,G.extend=T3,G.extendWith=Kc,$d(G,G),G.add=yE,G.attempt=H3,G.camelCase=E_,G.capitalize=k3,G.ceil=wE,G.clamp=w_,G.clone=pA,G.cloneDeep=mA,G.cloneDeepWith=vA,G.cloneWith=gA,G.conformsTo=bA,G.deburr=z3,G.defaultTo=X_,G.divide=AE,G.endsWith=M_,G.eq=kn,G.escape=S_,G.escapeRegExp=x_,G.every=O9,G.find=T9,G.findIndex=l3,G.findKey=VA,G.findLast=F9,G.findLastIndex=d3,G.findLastKey=JA,G.floor=_E,G.forEach=y3,G.forEachRight=w3,G.forIn=YA,G.forInRight=WA,G.forOwn=XA,G.forOwnRight=ZA,G.get=Ud,G.gt=yA,G.gte=wA,G.has=r_,G.hasIn=qd,G.head=g3,G.identity=Bi,G.includes=z9,G.indexOf=F7,G.inRange=A_,G.invoke=s_,G.isArguments=Ma,G.isArray=Ae,G.isArrayBuffer=AA,G.isArrayLike=Pi,G.isArrayLikeObject=Ar,G.isBoolean=_A,G.isBuffer=Ko,G.isDate=EA,G.isElement=MA,G.isEmpty=SA,G.isEqual=xA,G.isEqualWith=IA,G.isError=Td,G.isFinite=DA,G.isFunction=lo,G.isInteger=D3,G.isLength=Hc,G.isMap=N3,G.isMatch=NA,G.isMatchWith=CA,G.isNaN=RA,G.isNative=PA,G.isNil=BA,G.isNull=OA,G.isNumber=C3,G.isObject=lr,G.isObjectLike=mr,G.isPlainObject=qh,G.isRegExp=Fd,G.isSafeInteger=TA,G.isSet=R3,G.isString=jc,G.isSymbol=Zi,G.isTypedArray=mf,G.isUndefined=FA,G.isWeakMap=UA,G.isWeakSet=qA,G.join=z7,G.kebabCase=I_,G.last=gn,G.lastIndexOf=$7,G.lowerCase=D_,G.lowerFirst=N_,G.lt=LA,G.lte=kA,G.max=EE,G.maxBy=ME,G.mean=SE,G.meanBy=xE,G.min=IE,G.minBy=DE,G.stubArray=jd,G.stubFalse=Kd,G.stubObject=dE,G.stubString=pE,G.stubTrue=gE,G.multiply=NE,G.nth=H7,G.noConflict=sE,G.noop=Hd,G.now=kc,G.pad=C_,G.padEnd=R_,G.padStart=P_,G.parseInt=O_,G.random=__,G.reduce=G9,G.reduceRight=Q9,G.repeat=B_,G.replace=T_,G.result=l_,G.round=CE,G.runInContext=at,G.sample=J9,G.size=X9,G.snakeCase=F_,G.some=Z9,G.sortedIndex=Y7,G.sortedIndexBy=W7,G.sortedIndexOf=X7,G.sortedLastIndex=Z7,G.sortedLastIndexBy=t9,G.sortedLastIndexOf=e9,G.startCase=q_,G.startsWith=L_,G.subtract=RE,G.sum=PE,G.sumBy=OE,G.template=k_,G.times=mE,G.toFinite=po,G.toInteger=xe,G.toLength=O3,G.toLower=z_,G.toNumber=mn,G.toSafeInteger=zA,G.toString=Ve,G.toUpper=$_,G.trim=H_,G.trimEnd=j_,G.trimStart=K_,G.truncate=G_,G.unescape=Q_,G.uniqueId=bE,G.upperCase=V_,G.upperFirst=Ld,G.each=y3,G.eachRight=w3,G.first=g3,$d(G,function(){var a={};return gs(G,function(l,A){We.call(G.prototype,A)||(a[A]=l)}),a}(),{chain:!1}),G.VERSION=i,un(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){G[a].placeholder=G}),un(["drop","take"],function(a,l){Re.prototype[a]=function(A){A=A===r?1:Fr(xe(A),0);var R=this.__filtered__&&!l?new Re(this):this.clone();return R.__filtered__?R.__takeCount__=oi(A,R.__takeCount__):R.__views__.push({size:oi(A,f),type:a+(R.__dir__<0?"Right":"")}),R},Re.prototype[a+"Right"]=function(A){return this.reverse()[a](A).reverse()}}),un(["filter","map","takeWhile"],function(a,l){var A=l+1,R=A==h||A==v;Re.prototype[a]=function(U){var V=this.clone();return V.__iteratees__.push({iteratee:ge(U,3),type:A}),V.__filtered__=V.__filtered__||R,V}}),un(["head","last"],function(a,l){var A="take"+(l?"Right":"");Re.prototype[a]=function(){return this[A](1).value()[0]}}),un(["initial","tail"],function(a,l){var A="drop"+(l?"":"Right");Re.prototype[a]=function(){return this.__filtered__?new Re(this):this[A](1)}}),Re.prototype.compact=function(){return this.filter(Bi)},Re.prototype.find=function(a){return this.filter(a).head()},Re.prototype.findLast=function(a){return this.reverse().find(a)},Re.prototype.invokeMap=Ne(function(a,l){return typeof a=="function"?new Re(this):this.map(function(A){return Ph(A,a,l)})}),Re.prototype.reject=function(a){return this.filter($c(ge(a)))},Re.prototype.slice=function(a,l){a=xe(a);var A=this;return A.__filtered__&&(a>0||l<0)?new Re(A):(a<0?A=A.takeRight(-a):a&&(A=A.drop(a)),l!==r&&(l=xe(l),A=l<0?A.dropRight(-l):A.take(l-a)),A)},Re.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Re.prototype.toArray=function(){return this.take(f)},gs(Re.prototype,function(a,l){var A=/^(?:filter|find|map|reject)|While$/.test(l),R=/^(?:head|last)$/.test(l),U=G[R?"take"+(l=="last"?"Right":""):l],V=R||/^find/.test(l);U&&(G.prototype[l]=function(){var rt=this.__wrapped__,nt=R?[1]:arguments,ft=rt instanceof Re,Ot=nt[0],Bt=ft||Ae(rt),$t=function(Ce){var ke=U.apply(G,qo([Ce],nt));return R&&ee?ke[0]:ke};Bt&&A&&typeof Ot=="function"&&Ot.length!=1&&(ft=Bt=!1);var ee=this.__chain__,le=!!this.__actions__.length,me=V&&!ee,De=ft&&!le;if(!V&&Bt){rt=De?rt:new Re(this);var ve=a.apply(rt,nt);return ve.__actions__.push({func:qc,args:[$t],thisArg:r}),new ln(ve,ee)}return me&&De?a.apply(this,nt):(ve=this.thru($t),me?R?ve.value()[0]:ve.value():ve)})}),un(["pop","push","shift","sort","splice","unshift"],function(a){var l=uc[a],A=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",R=/^(?:pop|shift)$/.test(a);G.prototype[a]=function(){var U=arguments;if(R&&!this.__chain__){var V=this.value();return l.apply(Ae(V)?V:[],U)}return this[A](function(rt){return l.apply(Ae(rt)?rt:[],U)})}}),gs(Re.prototype,function(a,l){var A=G[l];if(A){var R=A.name+"";We.call(cf,R)||(cf[R]=[]),cf[R].push({name:l,func:A})}}),cf[Rc(r,Y).name]=[{name:"wrapper",func:r}],Re.prototype.clone=Q4,Re.prototype.reverse=V4,Re.prototype.value=J4,G.prototype.at=M9,G.prototype.chain=S9,G.prototype.commit=x9,G.prototype.next=I9,G.prototype.plant=N9,G.prototype.reverse=C9,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=R9,G.prototype.first=G.prototype.head,Sh&&(G.prototype[Sh]=D9),G},ff=x4();wr?((wr.exports=ff)._=ff,rr._=ff):Le._=ff}).call(ru)})(n2,n2.exports);var VH=Object.defineProperty,JH=Object.defineProperties,YH=Object.getOwnPropertyDescriptors,W6=Object.getOwnPropertySymbols,WH=Object.prototype.hasOwnProperty,XH=Object.prototype.propertyIsEnumerable,X6=(e,t,r)=>t in e?VH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d0=(e,t)=>{for(var r in t||(t={}))WH.call(t,r)&&X6(e,r,t[r]);if(W6)for(var r of W6(t))XH.call(t,r)&&X6(e,r,t[r]);return e},ZH=(e,t)=>JH(e,YH(t));function us(e,t,r){var i;const n=_y(e);return((i=t.rpcMap)==null?void 0:i[n.reference])||`${t4}?chainId=${n.namespace}:${n.reference}&projectId=${r}`}function Za(e){return e.includes(":")?e.split(":")[1]:e}function e4(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function tj(e,t){const r=Object.keys(t.namespaces).filter(n=>n.includes(e));if(!r.length)return[];const i=[];return r.forEach(n=>{const s=t.namespaces[n].accounts;i.push(...s)}),i}function fp(e={},t={}){const r=Z6(e),i=Z6(t);return n2.exports.merge(r,i)}function Z6(e){var t,r,i,n;const s={};if(!hO(e))return s;for(const[u,p]of Object.entries(e)){const b=C2(u)?[u]:p.chains,m=p.methods||[],w=p.events||[],S=p.rpcMap||{},D=iu(u);s[D]=ZH(d0(d0({},s[D]),p),{chains:u1(b,(t=s[D])==null?void 0:t.chains),methods:u1(m,(r=s[D])==null?void 0:r.methods),events:u1(w,(i=s[D])==null?void 0:i.events),rpcMap:d0(d0({},S),(n=s[D])==null?void 0:n.rpcMap)})}return s}function ej(e){return e.includes(":")?e.split(":")[2]:e}function tb(e){const t={};for(const[r,i]of Object.entries(e)){const n=i.methods||[],s=i.events||[],u=i.accounts||[],p=C2(r)?[r]:i.chains?i.chains:e4(i.accounts);t[r]={chains:p,methods:n,events:s,accounts:u}}return t}function hp(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const r4={},Ye=e=>r4[e],up=(e,t)=>{r4[e]=t};class rj{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=Ye("events"),this.client=Ye("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=Za(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new cs(new no(i,Ye("disableProviderPing")))}}var ij=Object.defineProperty,nj=Object.defineProperties,sj=Object.getOwnPropertyDescriptors,eb=Object.getOwnPropertySymbols,oj=Object.prototype.hasOwnProperty,aj=Object.prototype.propertyIsEnumerable,rb=(e,t,r)=>t in e?ij(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ib=(e,t)=>{for(var r in t||(t={}))oj.call(t,r)&&rb(e,r,t[r]);if(eb)for(var r of eb(t))aj.call(t,r)&&rb(e,r,t[r]);return e},nb=(e,t)=>nj(e,sj(t));class fj{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=Ye("events"),this.client=Ye("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r),this.chainId=parseInt(t),this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){const i=r||us(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new cs(new no(i,Ye("disableProviderPing")))}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=parseInt(Za(r));t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}async handleSwitchChain(t){var r,i;let n=t.request.params?(r=t.request.params[0])==null?void 0:r.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const s=parseInt(n,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var r,i,n;const s=(i=(r=t.request)==null?void 0:r.params)==null?void 0:i[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(t.topic),p=((n=u==null?void 0:u.sessionProperties)==null?void 0:n.capabilities)||{};if(p!=null&&p[s])return p==null?void 0:p[s];const b=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:nb(ib({},u.sessionProperties||{}),{capabilities:nb(ib({},p||{}),{[s]:b})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return b}async getCallStatus(t){var r,i;const n=this.client.session.get(t.topic),s=(r=n.sessionProperties)==null?void 0:r.bundler_name;if(s){const p=this.getBundlerUrl(t.chainId,s);try{return await this.getUserOperationReceipt(p,t)}catch(b){console.warn("Failed to fetch call status from bundler",b,p)}}const u=(i=n.sessionProperties)==null?void 0:i.bundler_url;if(u)try{return await this.getUserOperationReceipt(u,t)}catch(p){console.warn("Failed to fetch call status from custom bundler",p,u)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,r){var i;const n=new URL(t),s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(sa("eth_getUserOperationReceipt",[(i=r.request.params)==null?void 0:i[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(t,r){return`${QH}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${r}`}}class hj{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=Ye("events"),this.client=Ye("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=Za(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new cs(new no(i,Ye("disableProviderPing")))}}class uj{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=Ye("events"),this.client=Ye("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=Za(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new cs(new no(i,Ye("disableProviderPing")))}}class cj{constructor(t){this.name="algorand",this.namespace=t.namespace,this.events=Ye("events"),this.client=Ye("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(!this.httpProviders[t]){const i=r||us(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new cs(new no(i,Ye("disableProviderPing")))}}class lj{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=Ye("events"),this.client=Ye("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{const i=this.getCardanoRPCUrl(r),n=Za(r);t[n]=this.createHttpProvider(n,i)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){const r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||this.getCardanoRPCUrl(t);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new cs(new no(i,Ye("disableProviderPing")))}}class dj{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=Ye("events"),this.client=Ye("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=Za(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new cs(new no(i,Ye("disableProviderPing")))}}class pj{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=Ye("events"),this.client=Ye("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=Za(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new cs(new no(i,Ye("disableProviderPing")))}}class gj{constructor(t){this.name="near",this.namespace=t.namespace,this.events=Ye("events"),this.client=Ye("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const i=r||us(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace);return typeof i>"u"?void 0:new cs(new no(i,Ye("disableProviderPing")))}}class mj{constructor(t){this.name=Nf,this.namespace=t.namespace,this.events=Ye("events"),this.client=Ye("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ls.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var t,r;const i={};return(r=(t=this.namespace)==null?void 0:t.accounts)==null||r.forEach(n=>{const s=_y(n);i[`${s.namespace}:${s.reference}`]=this.createHttpProvider(n)}),i}getHttpProvider(t){const r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new cs(new no(i,Ye("disableProviderPing")))}}var vj=Object.defineProperty,bj=Object.defineProperties,yj=Object.getOwnPropertyDescriptors,sb=Object.getOwnPropertySymbols,wj=Object.prototype.hasOwnProperty,Aj=Object.prototype.propertyIsEnumerable,ob=(e,t,r)=>t in e?vj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p0=(e,t)=>{for(var r in t||(t={}))wj.call(t,r)&&ob(e,r,t[r]);if(sb)for(var r of sb(t))Aj.call(t,r)&&ob(e,r,t[r]);return e},cp=(e,t)=>bj(e,yj(t));class K2{constructor(t){this.events=new h2,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Ru(vl({level:(t==null?void 0:t.logger)||J6})),this.disableProviderPing=(t==null?void 0:t.disableProviderPing)||!1}static async init(t){const r=new K2(t);return await r.initialize(),r}async request(t,r,i){const[n,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:p0({},t),chainId:`${n}:${s}`,topic:this.session.topic,expiry:i})}sendAsync(t,r,i,n){const s=new Date().getTime();this.request(t,i,n).then(u=>r(null,Sl(s,u))).catch(u=>r(u,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Up("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:i,response:n}=await this.client.authenticate(t,r);i&&(this.uri=i,this.events.emit("display_uri",i));const s=await n();if(this.session=s.session,this.session){const u=tb(this.session.namespaces);this.namespaces=fp(this.namespaces,u),this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:i,approval:n}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});i&&(this.uri=i,this.events.emit("display_uri",i)),await n().then(s=>{this.session=s;const u=tb(s.namespaces);this.namespaces=fp(this.namespaces,u),this.persist("namespaces",this.namespaces)}).catch(s=>{if(s.message!==Z5)throw s;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;const[i,n]=this.validateChain(t),s=this.getProvider(i);s.name===Nf?s.setDefaultChain(`${i}:${n}`,r):s.setDefaultChain(n,r)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Eu(r)){for(const i of r)t.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await j2.init({core:this.providerOpts.core,logger:this.providerOpts.logger||J6,relayUrl:this.providerOpts.relayUrl||jH,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(r=>iu(r)))];up("client",this.client),up("events",this.events),up("disableProviderPing",this.disableProviderPing),t.forEach(r=>{if(!this.session)return;const i=tj(r,this.session),n=e4(i),s=fp(this.namespaces,this.optionalNamespaces),u=cp(p0({},s[r]),{accounts:i,chains:n});switch(r){case"eip155":this.rpcProviders[r]=new fj({namespace:u});break;case"algorand":this.rpcProviders[r]=new cj({namespace:u});break;case"solana":this.rpcProviders[r]=new hj({namespace:u});break;case"cosmos":this.rpcProviders[r]=new uj({namespace:u});break;case"polkadot":this.rpcProviders[r]=new rj({namespace:u});break;case"cip34":this.rpcProviders[r]=new lj({namespace:u});break;case"elrond":this.rpcProviders[r]=new dj({namespace:u});break;case"multiversx":this.rpcProviders[r]=new pj({namespace:u});break;case"near":this.rpcProviders[r]=new gj({namespace:u});break;default:this.rpcProviders[Nf]?this.rpcProviders[Nf].updateNamespace(u):this.rpcProviders[Nf]=new mj({namespace:u})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:r}=t,{event:i}=r;if(i.name==="accountsChanged"){const n=i.data;n&&Eu(n)&&this.events.emit("accountsChanged",n.map(ej))}else if(i.name==="chainChanged"){const n=r.chainId,s=r.event.data,u=iu(n),p=hp(n)!==hp(s)?`${u}:${hp(s)}`:n;this.onChainChanged(p)}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var i;const{namespaces:n}=r,s=(i=this.client)==null?void 0:i.session.get(t);this.session=cp(p0({},s),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",cp(p0({},Up("USER_DISCONNECTED")),{data:t.topic}))}),this.on(ls.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[Nf]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace((r=this.session)==null?void 0:r.namespaces[t])})}setNamespaces(t){const{namespaces:r,optionalNamespaces:i,sessionProperties:n}=t;r&&Object.keys(r).length&&(this.namespaces=r),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=n,this.persist("namespaces",r),this.persist("optionalNamespaces",i)}validateChain(t){const[r,i]=(t==null?void 0:t.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,i];if(r&&!Object.keys(this.namespaces||{}).map(u=>iu(u)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&i)return[r,i];const n=iu(Object.keys(this.namespaces)[0]),s=this.rpcProviders[n].getDefaultChain();return[n,s]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,r=!1){if(!this.namespaces)return;const[i,n]=this.validateChain(t);n&&(r||this.getProvider(i).setDefaultChain(n),this.namespaces[i]?this.namespaces[i].defaultChain=n:this.namespaces[`${i}:${n}`]?this.namespaces[`${i}:${n}`].defaultChain=n:this.namespaces[`${i}:${n}`]={defaultChain:n},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,r){this.client.core.storage.setItem(`${Y6}/${t}`,r)}async getFromStore(t){return await this.client.core.storage.getItem(`${Y6}/${t}`)}}const _j=K2,Ej="wc",Mj="ethereum_provider",Sj=`${Ej}@2:${Mj}:`,xj="https://rpc.walletconnect.org/v1/",s2=["eth_sendTransaction","personal_sign"],Ij=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],o2=["chainChanged","accountsChanged"],Dj=["chainChanged","accountsChanged","message","disconnect","connect"];var Nj=Object.defineProperty,Cj=Object.defineProperties,Rj=Object.getOwnPropertyDescriptors,ab=Object.getOwnPropertySymbols,Pj=Object.prototype.hasOwnProperty,Oj=Object.prototype.propertyIsEnumerable,fb=(e,t,r)=>t in e?Nj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Cf=(e,t)=>{for(var r in t||(t={}))Pj.call(t,r)&&fb(e,r,t[r]);if(ab)for(var r of ab(t))Oj.call(t,r)&&fb(e,r,t[r]);return e},lp=(e,t)=>Cj(e,Rj(t));function il(e){return Number(e[0].split(":")[1])}function g0(e){return`0x${e.toString(16)}`}function Bj(e){const{chains:t,optionalChains:r,methods:i,optionalMethods:n,events:s,optionalEvents:u,rpcMap:p}=e;if(!Eu(t))throw new Error("Invalid chains");const b={chains:t,methods:i||s2,events:s||o2,rpcMap:Cf({},t.length?{[il(t)]:p[il(t)]}:{})},m=s==null?void 0:s.filter(N=>!o2.includes(N)),w=i==null?void 0:i.filter(N=>!s2.includes(N));if(!r&&!u&&!n&&!(m!=null&&m.length)&&!(w!=null&&w.length))return{required:t.length?b:void 0};const S=(m==null?void 0:m.length)&&(w==null?void 0:w.length)||!r,D={chains:[...new Set(S?b.chains.concat(r||[]):r)],methods:[...new Set(b.methods.concat(n!=null&&n.length?n:Ij))],events:[...new Set(b.events.concat(u!=null&&u.length?u:Dj))],rpcMap:p};return{required:t.length?b:void 0,optional:r.length?D:void 0}}class G2{constructor(){this.events=new Bn.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=Sj,this.on=(t,r)=>(this.events.on(t,r),this),this.once=(t,r)=>(this.events.once(t,r),this),this.removeListener=(t,r)=>(this.events.removeListener(t,r),this),this.off=(t,r)=>(this.events.off(t,r),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const r=new G2;return await r.initialize(t),r}async request(t,r){return await this.signer.request(t,this.formatChainId(this.chainId),r)}sendAsync(t,r,i){this.signer.sendAsync(t,r,this.formatChainId(this.chainId),i)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:r,optional:i}=Bj(this.rpc);try{const n=await new Promise(async(u,p)=>{var b;this.rpc.showQrModal&&((b=this.modal)==null||b.subscribeModal(m=>{!m.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),p(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(lp(Cf({namespaces:Cf({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:t==null?void 0:t.pairingTopic})).then(m=>{u(m)}).catch(m=>{p(new Error(m.message))})});if(!n)return;const s=Lm(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:g0(this.chainId)})}catch(n){throw this.signer.logger.error(n),n}finally{this.modal&&this.modal.closeModal()}}async authenticate(t,r){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t==null?void 0:t.chains});try{const i=await new Promise(async(s,u)=>{var p;this.rpc.showQrModal&&((p=this.modal)==null||p.subscribeModal(b=>{!b.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(lp(Cf({},t),{chains:this.rpc.chains}),r).then(b=>{s(b)}).catch(b=>{u(new Error(b.message))})}),n=i.session;if(n){const s=Lm(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:g0(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:r}=t,{event:i}=r;i.name==="accountsChanged"?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):i.name==="chainChanged"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{const r=parseInt(t);this.chainId=r,this.events.emit("chainChanged",g0(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",lp(Cf({},Up("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var r,i;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(i=this.modal)==null||i.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const r=t.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",g0(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const r=this.parseChainId(t);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(t){const[r,i,n]=t.split(":");return{chainId:`${r}:${i}`,address:n}}setAccounts(t){this.accounts=t.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var r,i;const n=(r=t==null?void 0:t.chains)!=null?r:[],s=(i=t==null?void 0:t.optionalChains)!=null?i:[],u=n.concat(s);if(!u.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const p=n.length?(t==null?void 0:t.methods)||s2:[],b=n.length?(t==null?void 0:t.events)||o2:[],m=(t==null?void 0:t.optionalMethods)||[],w=(t==null?void 0:t.optionalEvents)||[],S=(t==null?void 0:t.rpcMap)||this.buildRpcMap(u,t.projectId),D=(t==null?void 0:t.qrModalOptions)||void 0;return{chains:n==null?void 0:n.map(N=>this.formatChainId(N)),optionalChains:s.map(N=>this.formatChainId(N)),methods:p,events:b,optionalMethods:m,optionalEvents:w,rpcMap:S,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:D,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,r){const i={};return t.forEach(n=>{i[n]=this.getRpcUrl(n,r)}),i}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?il(this.rpc.chains):il(this.rpc.optionalChains),this.signer=await _j.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions,customStoragePrefix:t.customStoragePrefix,telemetryEnabled:t.telemetryEnabled}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const{WalletConnectModal:i}=await BE(()=>import("./index-CFokC7Ne.js").then(n=>n.i),__vite__mapDeps([0,1,2]));r=i}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(r)try{this.modal=new r(Cf({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:r,optionalChains:i,rpcMap:n}=t;r&&Eu(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(n==null?void 0:n[s])||this.getRpcUrl(s)})),i&&Eu(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i==null?void 0:i.map(s=>this.formatChainId(s)),i.forEach(s=>{this.rpc.rpcMap[s]=(n==null?void 0:n[s])||this.getRpcUrl(s)}))}getRpcUrl(t,r){var i;return((i=this.rpc.rpcMap)==null?void 0:i[t])||`${xj}?chainId=eip155:${t}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(r=>this.parseAccount(r))}}const gK=G2;export{gK as EthereumProvider,Dj as OPTIONAL_EVENTS,Ij as OPTIONAL_METHODS,o2 as REQUIRED_EVENTS,s2 as REQUIRED_METHODS,G2 as default};
